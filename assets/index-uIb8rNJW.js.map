{"version":3,"mappings":"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","names":["l","n","p","q","r","t","u","v","w","x","y","z","A","a","B","C","D","E","b","e","F","G","H","I","J","K","L","M","d","c","k","h","g","f","m","N","O","escape","P","Q","R","S","T","U","V","W","X","react_production_min","reactModule","require$$0","reactJsxRuntime_production_min","jsxRuntimeModule","exports","schedulerModule","aa","ca","require$$1","da","ea","fa","ha","ia","ja","ka","la","ma","oa","pa","qa","ra","sa","ta","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Va","Wa","Xa","Ya","Za","ab","bb","cb","db","eb","fb","gb","hb","ib","jb","kb","lb","mb","nb","ob","pb","qb","rb","sb","tb","ub","vb","wb","xb","yb","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","oc","nc","pc","qc","rc","sc","tc","uc","vc","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","Wc","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","id","jd","kd","ld","md","nd","od","pd","qd","rd","sd","td","ud","vd","wd","xd","yd","Ad","zd","Bd","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","Ud","Vd","Wd","Xd","Yd","Zd","$d","ae","be","ce","de","ee","fe","ge","he","ie","je","ke","le","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","Ie","Je","Ke","Le","Me","Ne","Oe","Pe","Qe","Re","Se","Te","Ue","Ve","We","Xe","Ye","Ze","$e","af","bf","cf","df","ef","ff","gf","hf","jf","kf","lf","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","na","xa","$a","ba","xf","yf","zf","Af","Bf","Cf","Df","Ef","Ff","Gf","Hf","Jf","If","Kf","Lf","Mf","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","jh","kh","lh","mh","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","gi","hi","ii","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","ej","fj","gj","hj","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Kj","Lj","Mj","Nj","Oj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","Xj","Yj","Zj","ak","bk","ck","dk","ek","fk","gk","hk","ik","jk","kk","lk","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","Qk","Rk","Sk","Tk","Uk","Vk","Wk","Xk","Yk","Zk","$k","al","bl","cl","dl","el","fl","gl","hl","il","jl","kl","ll","ml","nl","ol","pl","ql","rl","sl","tl","ul","vl","reactDom_production_min","checkDCE","err","reactDomModule","client","Subscribable","listener","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","aItemsSet","equalItems","i","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","_a","__privateAdd","_focused","_cleanup","_setup","__privateSet","onFocus","__privateGet","setup","focused","isFocused","focusManager","OnlineManager","_online","onOnline","onlineListener","offlineListener","online","onlineManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","config","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","error","retry","retryDelay","delay","shouldRetry","defaultScheduler","createNotifyManager","queue","transactions","notifyFn","callback","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","Removable","_gcTimeout","newGcTime","Query","_Query_instances","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","getDefaultState","newData","__privateMethod","dispatch_fn","state","setStateOptions","promise","_b","observer","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context","context2","_c","_d","_f","_e","_h","_g","_j","_i","_l","_k","action","reducer","fetchState","newState","hasData","initialDataUpdatedAt","QueryCache","_queries","queryHash","queryInMap","defaultedFilters","queries","event","Mutation","_Mutation_instances","_observers","_mutationCache","variables","onContinue","restored","isPaused","_n","_m","_p","_o","_r","_q","_t","_s","MutationCache","_mutations","_scopes","_mutationId","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","foundMutation","pausedMutations","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","QueryClient","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","children","React.useEffect","jsx","toKebabCase","string","mergeClasses","classes","className","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","props","Activity","Award","Beaker","Brain","Calculator","Calendar","ChartColumn","Check","ChevronDown","ChevronUp","CircleAlert","CircleCheckBig","CircleX","Clock","DollarSign","Download","Eye","Flame","Gauge","Gavel","House","Info","Layers","Link","Minus","Pen","Plus","RefreshCw","RotateCcw","Settings","Sparkles","Star","Target","TrendingDown","TrendingUp","TriangleAlert","Trophy","Undo2","Upload","Users","Zap","s","j","$","b.createElement","y.memo","y.createElement","y.Fragment","x.createElement","x.useCallback","createStoreImpl","createState","listeners","setState","partial","replace","nextState","previousState","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","defaultLeagueSettings","useDraftStore","set","get","settings","savedTeamNames","teamNames","teams","teamId","defaultName","player","amount","team","price","buyingTeam","newPick","updatedTeams","spentAfter","rosterSizeAfter","slotsRemaining","maxBidAfter","updatedAvailablePlayers","valuations","newName","draftHistory","lastPick","rosterAfter","dollarsReservedForMinBids","LogLevel","Logger","__publicField","level","message","levelStr","timestamp","contextStr","entry","formattedMessage","contextOrError","count","filename","rowCount","errorCount","entityType","valid","invalid","label","start","duration","logger","module","this","NULL_TOKENS","STANDARD_PAPA_CONFIG","header","safeParseNumber","defaultValue","strValue","cleaned","parsed","safeParseInt","safeParseFloat","precision","isNullValue","safeParseBoolean","safeParseString","parseCSV","content","mergedConfig","Papa","validateRow","row","schema","errors","warnings","column","isNull","numValue","dateValue","countNullValues","nullCounts","columns","col","getCompletenessStats","totalRows","totalColumns","totalCells","nullCells","sum","columnCompleteness","nonNullCount","PROJECTIONS_SCHEMA","ADP0_SCHEMA","ADP1_SCHEMA","ADP2_SCHEMA","ADP3_SCHEMA","SOS_SCHEMA","STATS_PASSING_SCHEMA","STATS_RECEIVING_RUSHING_SCHEMA","CONFIG_LEAGUE_SETTINGS_SCHEMA","CONFIG_SCORING_SCHEMA","CONFIG_REPLACEMENT_LEVELS_SCHEMA","CONFIG_MARKET_ADJUSTMENTS_SCHEMA","CONFIG_TIER_MULTIPLIERS_SCHEMA","CONFIG_PROJECTION_WEIGHTS_SCHEMA","CONFIG_BUDGET_ALLOCATION_SCHEMA","CONFIG_BID_RANGES_SCHEMA","FILE_SCHEMAS","getSchemaForFile","basename","_CleanDataLoader","response","cached","parser","path","text","validRows","totalWarnings","totalErrors","idx","validation","stats","startTime","manifest","projections","adpData","historicalStats","preseasonRankings","comprehensiveData","loadTime","errorMsg","sosMap","teamCode","seasonSOS","playerADPMap","makeKey","name","pos","primaryADP","supplementalData","supplementalMap","normalizedName","supplemental","statusMap","adp1Data","parseValue","existing","adpValues","meanAdp","adp3Data","response4","lines4","line","parts","position","adp","newPlayer","response5","lines5","finalPlayers","validValues","acc","passing2024","rushing2024","playersMap","proj","score","CleanDataLoader","cleanDataLoader","ProjectionAggregator","sources","playerMap","source","results","aggregated","weightedProj","totalWeight","numericFields","sourceName","weight","field","bestSource","normalized","mean","variance","stdDev","coefficientOfVariation","confidence","bestScore","maxPoints","TEAM_ABBREVIATION_MAP","PLAYER_NAME_ALIASES","PlayerResolver","players","dstPlayers","positions","rawTeam","baseName","words","dstVariations","cityName","firstName","variation","altKey","normalizedKey","problematicNames","allDstKeys","dstByTeam","upper","variations","fullTeamName","teamParts","nickname","teamNameOrAbbr","teamFullNames","normalizedTeam","teamDstKey","exactKey","altPosition","aliasedName","aliasKey","altAliasKey","nameWithoutNickname","withoutNicknameKey","aliasedWithoutNickname","aliasKey2","fuzzyMatch","differentTeamMatch","bestMatch","bestDistance","playerName","playerTeam","playerPos","distance","str1","str2","matrix","projectionData","nameField","teamField","positionField","resolved","provisional","unresolved","match","provisionalPlayer","playerResolver","_RosterDataLoader","teamCodeMap","basePath","teamFile","rows","profile","lines","headers","values","round","pick","RosterDataLoader","rosterDataLoader","_SOSLoader","standardCode","weeklyOpponents","sosEntry","weeks","teamSOS","totalDifficulty","week","difficulty","current","inQuotes","char","SOSLoader","sosLoader","TEAM_NAME_TO_ABBR","normalizeTeamName","teamName","trimmed","lowerTeam","upperTeam","NULL_VALUES","CSV_CONFIG","removeBOM","parseNumber","cleanedValue","num","requiredFields","parseCSVSafe","cleanContent","chunk","criticalErrors","validData","isValid","parseCSVWithDuplicateColumns","duplicateRenaming","counters","fixedContent","detectDelimiter","delimiters","counts","delimiter","ColumnType","CSV_SCHEMAS","REFERENTIAL_INTEGRITY_RULES","TYPE_COERCERS","str","decimal","date","StrictCSVParser","lineage","processedContent","originalLines","parseResult","beforeEmpty","schemaColumns","actualColumns","extraColumns","missingColumns","validatedData","rowsToQuarantine","validatedRow","rowValid","rowErrors","columnSchema","rawValue","isNA","coercer","coercedValue","deduplicated","duplicatesRemoved","finalData","seen","keys","keySet","duplicateKeys","quarantinedCount","isDuplicate","rules","violations","rule","sourceData","targetData","targetValues","missingValues","sourceValue","normalizedValue","logMessage","tableName","report","coercionSummary","strictParser","parsePlayerNameAndTeam","nameWithTeam","teamRaw","parseNum","parsePercent","loadWRAdvanced","url","record","receptions","catchable","catchRate","yards","yardsPerRec","loadTEAdvanced","loadRBAdvanced","attempts","games","touchesPerGame","loadQBAdvanced","tds","tdRate","loadAllPlayerAdvanced","wrStats","teStats","rbStats","qbStats","normalizeKey","stat","_DataIntegrationService","cleanDataResult","projectionSources","aggregatedProjections","validatedProjections","foundProblematic","dstInADP","rosterProfiles","sosData","normalizedData","firstTen","cleanData","sampleProjections","marquise","billsDst","adpFiles","allADP","nameNormalizations","teamNormalizations","normalizedPosition","isProblematic","adpEntry","playerAdvancedMap","projectionCoverage","DataIntegrationService","dataIntegrationService","BASE_PATH","parseTeamMetricsFile","teamAbbr","teamData","loadTeamPointsPerPlay","loadTeamPointsPerGame","loadTeamPlaysPerGame","loadTeamOffensiveTDs","loadTeamYardsPerPlay","loadTeamSecondsPerPlay","loadTeamTimeOfPossession","loadTeamThirdDown","loadTeamFourthDown","loadTeamFirstDowns","loadTeamScoringMargin","loadTeamRedZoneTDs","loadTeamRedZoneScoringPct","loadTeamRedZoneAttempts","loadTeamPointsPerPlayMargin","loadTeamTouchdowns","mergeTeamMetrics","allMetrics","teamSet","metrics","teamMetrics","ppp","ppg","playsPerGame","offTDs","ypp","secondsPerPlay","timeOfPoss","thirdDown","fourthDown","firstDowns","scoringMargin","rzTDs","rzScoringPct","rzAttempts","pppMargin","touchdowns","pppData","ppgData","playsData","offTDData","yppData","secPerPlay","topData","third","fourth","firstData","marginData","rzTDData","rzPctData","rzAttData","pppMarginData","tdData","computeZScore","computeTeamComposite","ppgValues","yppValues","pppValues","tdValues","thirdValues","rzPctValues","secPerPlayValues","playsValues","rzAttValues","firstDownValues","marginValues","pppMarginValues","tm","ppgZ","yppZ","pppZ","tdZ","thirdZ","rzPctZ","offenseQualityIndex","secZ","playsZ","paceIndex","redZoneIndex","sustainIndex","marginZ","pppMarginZ","environmentIndex","trendIndex","last3Avg","seasonAvg","loadAllTeamMetrics","composites","loadWRStats","loadRBStats","loadTEStats","loadQBStats","computeDerivedFields","enhanced","totalTouches","loadAllPlayerStats","allStats","parseDepthChartFile","currentTeam","colIndex","qbEcr","qbName","rbEcr","rbName","wrEcr","wrName","teEcr","teName","loadDepthCharts","byPlayer","byTeam","wr","FantasyDeduplicator","getKey","getPlayerInfo","conflictResolution","conflicts","duplicatesFound","conflictsResolved","flaggedForReview","dataQualityScore","strategies","base","requiresReview","strategy","conflict","numericValues","sorted","mid","weights","weightedSum","avg","nums","min","total","unique","duplicateRatio","highConfidenceRatio","reviewRatio","useSleeperAPI","withDates","dateA","teamCounts","sortedTeams","fantasyDeduplicator","DataLoaderV2","integrationResult","cbsProjections","legacyAdvancedStats","legacyTeamData","scheduleData","teamDataResult","playerStatsMap","depthChartsData","teamComposites","aggregator","dedupedADP","dedupedProjections","fantasyPros","cbs","synthesized","projectionMap","playerStats","validProjections","projCompleteness","existingCompleteness","taggedData","breeceBeforeDedup","breeceAfterDedup","tyreekAfterDedup","lowConfidence","playerId","exactMatches","fuzzyMatches","provisionalCount","mergedProjection","provisionalProjection","fs","filePath","filepath","qbContent","qbProjections","rbContent","rbProjections","wrContent","wrProjections","teContent","teProjections","fantasyProsRB","fantasyProsWR","fantasyProsTE","fantasyProsFLX","cbsQB","cbsRB","cbsWR","cbsTE","mainProjections","defaultPosition","fpts","projectedPoints","projection","files","file","fantasyPoints","parsedPosition","extension","fileName","fileIndex","adpValue","adpRaw","nullPatterns","rankParsed","auctionValue","auctionRaw","age","ageRaw","rank","_DataService","hours","DataService","dataService","CalibratedValuationModel","allPlayers","positionRank","replacementPoints","vbd","baseValue","baseMarketAdjustment","tierMultiplier","positionTierAdjustment","positionCap","maxBid","targetBid","minBid","adjustments","calculatedValue","marketValue","blended","correction","totalBudget","totalRosterSpots","discretionaryBudget","totalLeagueVBD","pReplacement","pVBD","dollarsPerVBD","replacementRank","positionPlayers","rosterable","limit","tier","totalValue","expectedValue","percentageOfBudget","positionTotals","starterCounts","topAtPosition","totalStarterValue","distribution","targets","allPassed","percentage","target","top192sum","scaleFactor","original","budgetConservation","positionalDistribution","byPosition","totalsByPosition","topValuesByPosition","averageValues","CalibratedValuationService","advancedStats","originalProj","marketPrice","edge","intrinsicValue","namePositionKey","nameTeamKey","nameOnlyKey","advanced","summary","modelResult","budgetPercentage","positionValues","positionDistribution","top","replacementLevels","tierCounts","actualPrice","calibratedValuationService","DataIntegrityChecker","sourceProjections","renderedValuations","sourceTeams","renderedTeams","missingTeams","discrepancies","performanceMs","logLevel","_DynamicValuationService","availablePlayers","inflationMultiplier","totalValueRemaining","positionScarcityMultiplier","tierPremiumMultiplier","trendAdjustment","budgetPressureMultiplier","rosterNeedMultiplier","factors","draftedPlayerIds","adjustedValue","noAdjustments","updatedPlayer","originalValue","appliedFactors","posScarcity","rosterNeed","multipliers","eliteAvailable","needed","scarcityRatio","elitePlayers","recentPicks","avgDiff","diff","teamBudgets","budgetArray","avgBudget","percentLow","filled","totalNeed","fillRate","DynamicValuationService","dynamicValuationService","TeamRoster","leagueSettings","positionCounts","rosterNeeds","statuses","slot","rbCount","wrCount","teCount","rbNeeded","wrNeeded","teNeeded","flexAvailable","remainingBudget","remainingSlots","avgPerSlot","jsxs","AlertCircle","need","picks","required","DraftHistory","undoLastPick","formatTime","getTeamName","MarketTrackerCalibrated","onPriceUpdate","draftedPlayers","setDraftedPlayers","marketTrends","setMarketTrends","processed","valuation","trends","calculateMarketTrends","totalActual","totalPredicted","overallInflation","teamCount","moneySpent","moneyRemaining","playersPickedCount","playersRemainingCount","remainingPlayersValue","expectedInflation","positionInflation","posPlayers","posActual","posPredicted","recentInflation","recentTrend","bargains","overpays","recentActivity","biggestValues","biggestOverpays","getTrendIcon","trend","getInflationColor","inflation","AlertTriangle","STRATEGY_DESCRIPTIONS","POSITION_NEEDS","BudgetAllocator","spotsLeft","myRoster","selectedStrategy","setSelectedStrategy","showDetails","setShowDetails","marketConditions","conditions","drafted","avgActual","avgPredicted","positionNeeds","needs","startingSpots","totalNeeded","allocation","allocations","scrubBudget","starBudget","starsAllocated","rbBudget","otherBudget","remainingAfterRB","warns","desc","suggested","avgValue","factor","warning","CompactDashboardPanel","isDraftActive","onStartDraft","draftedIds","availableValuations","bestValues","bestRBs","bestWRs","breakouts","valueQBs","bestProjADP","ratioA","PlayerCard","showStat","statLabel","showPosition","statValue","formatStat","PlayerProfileModal","isOpen","onClose","completeAuction","myTeamId","selectedTeam","setSelectedTeam","purchasePrice","setPurchasePrice","activeTab","setActiveTab","handleDraft","playerData","getPositionColor","getTierLabel","getTierColor","Fragment","BarChart3","PPRScoringService","components","percentile","hexColor","weightUsed","targetsPerGame","targetScore","receptionsPerGame","recScore","catchRateScore","rzTargetsPerGame","rzScore","yardsPerGame","yardsScore","positionGroups","scores","pprScoringService","PlayerDataTable","onPlayerSelect","onPlayerDraft","selectedPlayers","setSelectedPlayers","sortField","setSortField","sortDirection","setSortDirection","displayCount","setDisplayCount","searchQuery","setSearchQuery","positionFilter","setPositionFilter","modalPlayer","setModalPlayer","samplePlayer","tierOrder","playersWithPPR","pprMetrics","sortedPlayers","aValue","bValue","aTier","bTier","filteredPlayers","filtered","displayedPlayers","handleSort","toggleSelection","playerKey","newSelection","getRankColor","getValueColor","getEdgeColor","getEdgePercentColor","percent","getVorpColor","vorp","getAdpColor","getPointsColor","points","getByeWeekColor","bye","getSosColor","sos","SortIcon","edgePercent","uniqueKey","displayName","teamDisplay","intrinsicVal","CalculationsExplainerModal","tabs","CheckCircle","renderTabContent","tab","_ConfigurationService","scoringSystem","marketAdjustments","tierMultipliers","projectionWeights","budgetAllocations","bidRanges","updates","jsonString","imported","limitPos","scoring","levels","ranges","ConfigurationService","configurationService","SettingsModal","onApply","setConfig","isDirty","setIsDirty","isSaving","setIsSaving","loadConfiguration","loadedConfig","handleValueChange","newConfig","handleApply","toast","handleReset","handleExport","json","blob","handleImport","reader","adjustment","isPositive","isNeutral","newTiers","newWeights","enabledIndex","OtherTeamsRosters","updateTeamName","editingTeamId","setEditingTeamId","editingName","setEditingName","otherTeams","handleStartEdit","currentName","handleSaveEdit","handleCancelEdit","Edit2","NominationStrategy","strategyMode","setStrategyMode","draftPhase","totalPicks","percentComplete","budgets","spent","avgOpponentBudget","budget","roster","positionScarcity","scarcity","available","tier1","nominationSuggestions","suggestions","lastElite","getStrategyDescription","getPriorityColor","priority","getTypeIcon","mode","suggestion","AppCalibrated","loading","setLoading","dataError","setDataError","setValuations","baseValuations","setBaseValuations","setSummary","showCalculationsModal","setShowCalculationsModal","showSettingsModal","setShowSettingsModal","isDynamicMode","setIsDynamicMode","integrityStatus","setIntegrityStatus","initializeDraft","updatePlayerValuations","loadData","positionsFilled","positionsNeeded","dynamicVals","basePlayer","firstPlayer","baseFirst","baseSample","uniqueProjectionTeams","breeceAdp","nyjPlayers","sfPlayers","vals","uniqueTeams","integrityResult","handleSettingsApply","Toaster","externalSearchQuery","onSearchChange","internalSearchQuery","setInternalSearchQuery","DEFAULT_ROSTER_REQUIREMENTS","ROBUST_RB_CONFIG","HERO_RB_CONFIG","ZERO_RB_CONFIG","BidAdvisorService","currentBid","isPositionRun","panicLevel","draftStage","valueScore","needScore","scarcityScore","budgetScore","marketInflation","primaryReason","opportunities","likelyCompetitors","expectedFinalPrice","nominationStrategy","biddingStrategy","alternativePlayers","competitorAnalysis","byeWeekImpact","teamStackBonus","smartAlternatives","budgetAdvantage","draftProgress","strategyCheck","discountPercent","currentCount","requirements","posReq","remainingInTier","remainingStarters","tierScore","positionScore","remainingRosterSpots","maxSpend","avgPerSpot","totalExpectedValue","totalActualSpent","myRBs","eliteRBCount","draftPick","draftRound","robustRBBonus","wrDepthBonus","rbBudgetPercent","myWRs","totalAdjustment","stackInfo","cappedPanicLevel","isEarlyDraft","maxIncrease","remainingSpots","maxAffordable","globalMaxBid","isMidDraft","isLateDraft","isInflatedMarket","hasAmpleBudget","isBudgetConstrained","flexibleMaxBid","compositeScore","hasGreatValue","hasCriticalNeed","goodBudgetFit","positionCount","isOverloaded","criticalNeeds","hasCriticalNeedsElsewhere","strongBuyThreshold","considerThreshold","avoidThreshold","reasons","rbSpent","remainingElite","discount","samePositionTier","teamPlayers","competitors","basePrice","scarcityMultiplier","predictedPrice","myNeed","avgSquareDiff","globalCap","mySpentSoFar","picksCompleted","budgetCap","budgetAfterPurchase","spotsAfterPurchase","stillNeeded","qualityRemaining","teamsCount","picksUntilTurn","percentDrafted","insights","needsPosition","rosterSize","maxPossibleBid","avgSpend","aggressionLevel","byeWeekCounts","byeWeekPositions","wouldCreateStack","affectedPositions","sameTeamPlayers","existingPositions","existingNames","stackType","synergyBonus","alternatives","samePositionAlts","playerTier","altTier","aEdge","alt","positionDepth","self","myBudget","otherBudgets","averageBudget","advantage","betterThan","canDominate","totalSpots","picksMade","isHalfway","phase","historicalInflation","availableEliteRBs","currentMarketInflation","avgMarketPrice","avgIntrinsicValue","rbInflation","cheapestEliteRB","cantAffordEliteRB","teamsWithMultipleEliteRBs","positionPicks","totalExpected","bidAdvisorService","BidAdvisorEnhanced","onBidChange","onDraft","simulatedBid","setSimulatedBid","recommendation","foundTeam","myPlayers","myTeam","convertedTeams","actionDisplay","XCircle","selectedTeamObj","handleKeyPress","ScoreBar","icon","getScoreColor","opportunity","availableAtPosition","tierGroups","displayTier","displayPlayers","showPlayers","isLastInTier","isCurrentPlayer","PlayerDetailPanel","getTierBadge","tierMap","opponentTeams","budgetDiff","DraftSimulator","mockPlayers","eliteRBs","tier1RBs","eliteWRs","tier2RBs","tier2WRs","qbs","tes","tier3RBs","valueRBs","tier3WRs","valueWRs","dsts","kickers","posCounts","slotsLeft","nominatingTeam","teamNeeds","eliteNonRBs","neededPlayers","cheapPlayers","topN","leadingTeam","biddingRounds","maxRounds","newBidder","highestBid","maxAfford","needsPlayer","teamMax","rec","increment","bidAmount","needyTeams","aNeeds","bNeeds","userTeam","posSpend","totalPoints","rbSpend","rbSpendPercent","meetsRequirements","budgetEfficient","rbHeavy","teamPoints","pts","leagueRank","runSimulations","sim","testSimulations","guidelines","allResults","analysis","checks","sortedPicks","top4Spend","top4Percent","eliteRBPicks","passCount","totalChecks","arr","avgRBSpend","avgEliteRBs","avgRank","avgRBCount","avgWRCount","runDetailedSimulations","simNum","teamPicks","marker","rbs","wrs","flexCandidates","ks","startingPoints","meetsReqs","SimulationTester","setResults","runSims","simResults","pickA","pickB","AppExperimental","showSimulationTester","setShowSimulationTester","showDropdown","setShowDropdown","setFilteredPlayers","highlightedIndex","setHighlightedIndex","selectedPlayer","setSelectedPlayer","valsWithPPR","prev","AppWithVersionToggle","isExperimental","setIsExperimental","Home","quickDataTest","testFiles","allSuccess","test","firstRow","sampleData","bomResult","numberResult","dupResult","john","testStrictCSVParsing","adpContent","adpConfig","adpResult","projContent","projConfig","projResult","teamContent","teamConfig","teamResult","duplicateCSV","dupConfig","invalidCSV","strictConfig","invalidResult","runFullValidation","dataFiles","totalSuccess","totalFailure","failures","sample","preview","teamFiles","teamSuccess","historicalFiles","histSuccess","successRate","validateAllData","parseCSVStrict","parseCSVLine","nextChar","fullZeroToleranceAudit","auditFiles","referenceData","adpResponse","adpRows","playerNames","fileAudit","expectedColumnCount","seenValues","rowNumber","actualColumnCount","pattern","cleanValue","rankValue","pointsValue","valueSet","errorTypeCounts","executeAudit","queryClient","ReactDOM","App"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,80],"sources":["../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/scheduler/cjs/scheduler.production.min.js","../../node_modules/scheduler/index.js","../../node_modules/react-dom/cjs/react-dom.production.min.js","../../node_modules/react-dom/index.js","../../node_modules/react-dom/client.js","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/Icon.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/award.js","../../node_modules/lucide-react/dist/esm/icons/beaker.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/calculator.js","../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../node_modules/lucide-react/dist/esm/icons/chart-column.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/eye.js","../../node_modules/lucide-react/dist/esm/icons/flame.js","../../node_modules/lucide-react/dist/esm/icons/gauge.js","../../node_modules/lucide-react/dist/esm/icons/gavel.js","../../node_modules/lucide-react/dist/esm/icons/house.js","../../node_modules/lucide-react/dist/esm/icons/info.js","../../node_modules/lucide-react/dist/esm/icons/layers.js","../../node_modules/lucide-react/dist/esm/icons/link.js","../../node_modules/lucide-react/dist/esm/icons/minus.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/star.js","../../node_modules/lucide-react/dist/esm/icons/target.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/lucide-react/dist/esm/icons/undo-2.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../node_modules/goober/dist/goober.modern.js","../../node_modules/react-hot-toast/dist/index.mjs","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../src/store/draftStore.ts","../../src/lib/utils/logger.ts","../../node_modules/papaparse/papaparse.min.js","../../src/lib/utils/csvParsingUtils.ts","../../src/lib/utils/csvSchemaDefinitions.ts","../../src/lib/cleanDataLoader.ts","../../src/lib/projectionAggregator.ts","../../src/lib/playerResolver.ts","../../src/lib/rosterDataLoader.ts","../../src/lib/sosLoader.ts","../../src/lib/teamMappings.ts","../../src/lib/utils/csvParser.ts","../../src/lib/utils/csvSchema.ts","../../src/lib/utils/strictCsvParser.ts","../../src/lib/playerAdvancedLoader.ts","../../src/lib/dataIntegrationService.ts","../../src/lib/teamMetricsLoader.ts","../../src/lib/playerStatsLoader.ts","../../src/lib/depthChartsLoader.ts","../../src/lib/improvedDeduplication.ts","../../src/lib/dataLoaderV2.ts","../../src/lib/dataService.ts","../../src/lib/calibratedValuationModel.ts","../../src/lib/calibratedValuationService.ts","../../src/lib/dataIntegrityChecker.ts","../../src/lib/dynamicValuationService.ts","../../src/components/TeamRoster.tsx","../../src/components/DraftHistory.tsx","../../src/components/MarketTrackerCalibrated.tsx","../../src/components/BudgetAllocator.tsx","../../src/components/CompactDashboardPanel.tsx","../../src/components/PlayerProfileModal.tsx","../../src/lib/pprScoringService.ts","../../src/components/PlayerDataTable.tsx","../../src/components/CalculationsExplainerModal.tsx","../../src/lib/configurationService.ts","../../src/components/SettingsModal.tsx","../../src/components/OtherTeamsRosters.tsx","../../src/components/NominationStrategy.tsx","../../src/AppCalibrated.tsx","../../src/components/PlayerDataTableExperimental.tsx","../../src/lib/bidAdvisorService.ts","../../src/components/BidAdvisorEnhanced.tsx","../../src/components/PlayerDetailPanelCompact.tsx","../../src/lib/draftSimulator.ts","../../src/testSimulations.ts","../../src/runDetailedSimulations.ts","../../src/components/SimulationTester.tsx","../../src/AppExperimental.tsx","../../src/AppWithVersionToggle.tsx","../../src/lib/quickDataTest.ts","../../src/lib/testStrictParsing.ts","../../src/lib/runFullValidation.ts","../../src/lib/validateAllData.ts","../../src/lib/fullZeroToleranceAudit.ts","../../src/lib/runAuditNow.ts","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    const aItemsSet = new Set(aItems);\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if ((!array && aItemsSet.has(key) || array) && a[key] === void 0 && b[key] === void 0) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      reject(new CancelledError(cancelOptions));\n      config.abort?.();\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/notifyManager.ts\nvar defaultScheduler = (cb) => setTimeout(cb, 0);\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      abort: abortController.abort.bind(abortController),\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && array.indexOf(className) === index;\n}).join(\" \");\n\nexport { mergeClasses, toKebabCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props\n    })\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Activity = createLucideIcon(\"Activity\", [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n]);\n\nexport { Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Award = createLucideIcon(\"Award\", [\n  [\n    \"path\",\n    {\n      d: \"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",\n      key: \"1yiouv\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }]\n]);\n\nexport { Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Beaker = createLucideIcon(\"Beaker\", [\n  [\"path\", { d: \"M4.5 3h15\", key: \"c7n0jr\" }],\n  [\"path\", { d: \"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3\", key: \"m1uhx7\" }],\n  [\"path\", { d: \"M6 14h12\", key: \"4cwo0f\" }]\n]);\n\nexport { Beaker as default };\n//# sourceMappingURL=beaker.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",\n      key: \"l5xja\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",\n      key: \"ep3f8r\"\n    }\n  ],\n  [\"path\", { d: \"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\", key: \"1p4c4q\" }],\n  [\"path\", { d: \"M17.599 6.5a3 3 0 0 0 .399-1.375\", key: \"tmeiqw\" }],\n  [\"path\", { d: \"M6.003 5.125A3 3 0 0 0 6.401 6.5\", key: \"105sqy\" }],\n  [\"path\", { d: \"M3.477 10.896a4 4 0 0 1 .585-.396\", key: \"ql3yin\" }],\n  [\"path\", { d: \"M19.938 10.5a4 4 0 0 1 .585.396\", key: \"1qfode\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-1.967-.516\", key: \"2e4loj\" }],\n  [\"path\", { d: \"M19.967 17.484A4 4 0 0 1 18 18\", key: \"159ez6\" }]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calculator = createLucideIcon(\"Calculator\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", key: \"1nb95v\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"6\", y2: \"6\", key: \"x4nwl0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"14\", y2: \"18\", key: \"wjye3r\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }],\n  [\"path\", { d: \"M8 18h.01\", key: \"lrp35t\" }]\n]);\n\nexport { Calculator as default };\n//# sourceMappingURL=calculator.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChartColumn = createLucideIcon(\"ChartColumn\", [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"M18 17V9\", key: \"2bz60n\" }],\n  [\"path\", { d: \"M13 17V5\", key: \"1frdt8\" }],\n  [\"path\", { d: \"M8 17v-3\", key: \"17ska0\" }]\n]);\n\nexport { ChartColumn as default };\n//# sourceMappingURL=chart-column.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\nexport { ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronUp = createLucideIcon(\"ChevronUp\", [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]]);\n\nexport { ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"CircleAlert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"CircleX\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Flame = createLucideIcon(\"Flame\", [\n  [\n    \"path\",\n    {\n      d: \"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\",\n      key: \"96xj49\"\n    }\n  ]\n]);\n\nexport { Flame as default };\n//# sourceMappingURL=flame.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gauge = createLucideIcon(\"Gauge\", [\n  [\"path\", { d: \"m12 14 4-4\", key: \"9kzdfg\" }],\n  [\"path\", { d: \"M3.34 19a10 10 0 1 1 17.32 0\", key: \"19p75a\" }]\n]);\n\nexport { Gauge as default };\n//# sourceMappingURL=gauge.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gavel = createLucideIcon(\"Gavel\", [\n  [\"path\", { d: \"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8\", key: \"15492f\" }],\n  [\"path\", { d: \"m16 16 6-6\", key: \"vzrcl6\" }],\n  [\"path\", { d: \"m8 8 6-6\", key: \"18bi4p\" }],\n  [\"path\", { d: \"m9 7 8 8\", key: \"5jnvq1\" }],\n  [\"path\", { d: \"m21 11-8-8\", key: \"z4y7zo\" }]\n]);\n\nexport { Gavel as default };\n//# sourceMappingURL=gavel.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst House = createLucideIcon(\"House\", [\n  [\"path\", { d: \"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\", key: \"5wwlr5\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\n      key: \"1d0kgt\"\n    }\n  ]\n]);\n\nexport { House as default };\n//# sourceMappingURL=house.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Layers = createLucideIcon(\"Layers\", [\n  [\n    \"path\",\n    {\n      d: \"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z\",\n      key: \"8b97xw\"\n    }\n  ],\n  [\"path\", { d: \"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65\", key: \"dd6zsq\" }],\n  [\"path\", { d: \"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65\", key: \"ep9fru\" }]\n]);\n\nexport { Layers as default };\n//# sourceMappingURL=layers.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Link = createLucideIcon(\"Link\", [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n]);\n\nexport { Link as default };\n//# sourceMappingURL=link.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Minus = createLucideIcon(\"Minus\", [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]]);\n\nexport { Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Settings = createLucideIcon(\"Settings\", [\n  [\n    \"path\",\n    {\n      d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",\n      key: \"1qme2f\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkles = createLucideIcon(\"Sparkles\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ],\n  [\"path\", { d: \"M20 3v4\", key: \"1olli1\" }],\n  [\"path\", { d: \"M22 5h-4\", key: \"1gvqau\" }],\n  [\"path\", { d: \"M4 17v2\", key: \"vumght\" }],\n  [\"path\", { d: \"M5 18H3\", key: \"zchphs\" }]\n]);\n\nexport { Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Star = createLucideIcon(\"Star\", [\n  [\n    \"polygon\",\n    {\n      points: \"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",\n      key: \"8f66p6\"\n    }\n  ]\n]);\n\nexport { Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Target = createLucideIcon(\"Target\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"6\", key: \"1vlfrh\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }]\n]);\n\nexport { Target as default };\n//# sourceMappingURL=target.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"TrendingDown\", [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TriangleAlert = createLucideIcon(\"TriangleAlert\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trophy = createLucideIcon(\"Trophy\", [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n]);\n\nexport { Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Undo2 = createLucideIcon(\"Undo2\", [\n  [\"path\", { d: \"M9 14 4 9l5-5\", key: \"102s5s\" }],\n  [\"path\", { d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11\", key: \"f3b9sd\" }]\n]);\n\nexport { Undo2 as default };\n//# sourceMappingURL=undo-2.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.424.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Zap = createLucideIcon(\"Zap\", [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n]);\n\nexport { Zap as default };\n//# sourceMappingURL=zap.js.map\n","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar Z=e=>typeof e==\"function\",h=(e,t)=>Z(e)?e(t):e;var W=(()=>{let e=0;return()=>(++e).toString()})(),E=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as ee,useState as te,useRef as oe}from\"react\";var re=20,k=\"default\";var H=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:s}=t;return H(e,{type:e.toasts.find(r=>r.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(r=>r.id===a||a===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(e,t=k)=>{f[t]=H(f[t]||j,e),v.forEach(([o,s])=>{o===t&&s(f[t])})},_=e=>Object.keys(f).forEach(t=>Y(e,t)),Q=e=>Object.keys(f).find(t=>f[t].toasts.some(o=>o.id===e)),S=(e=k)=>t=>{Y(t,e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(e={},t=k)=>{let[o,s]=te(f[t]||j),a=oe(f[t]);ee(()=>(a.current!==f[t]&&s(f[t]),v.push([t,s]),()=>{let r=v.findIndex(([l])=>l===t);r>-1&&v.splice(r,1)}),[t]);let i=o.toasts.map(r=>{var l,g,T;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((l=e[r.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:r.duration||((g=e[r.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||se[r.type],style:{...e.style,...(T=e[r.type])==null?void 0:T.style,...r.style}}});return{...o,toasts:i}};var ie=(e,t=\"blank\",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||W()}),P=e=>(t,o)=>{let s=ie(t,e,o);return S(s.toasterId||Q(s.id))({type:2,toast:s}),s.id},n=(e,t)=>P(\"blank\")(e,t);n.error=P(\"error\");n.success=P(\"success\");n.loading=P(\"loading\");n.custom=P(\"custom\");n.dismiss=(e,t)=>{let o={type:3,toastId:e};t?S(t)(o):_(o)};n.dismissAll=e=>n.dismiss(void 0,e);n.remove=(e,t)=>{let o={type:4,toastId:e};t?S(t)(o):_(o)};n.removeAll=e=>n.remove(void 0,e);n.promise=(e,t,o)=>{let s=n.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let i=t.success?h(t.success,a):void 0;return i?n.success(i,{id:s,...o,...o==null?void 0:o.success}):n.dismiss(s),a}).catch(a=>{let i=t.error?h(t.error,a):void 0;i?n.error(i,{id:s,...o,...o==null?void 0:o.error}):n.dismiss(s)}),e};import{useEffect as X,useCallback as A,useRef as ne}from\"react\";var ce=1e3,w=(e,t=\"default\")=>{let{toasts:o,pausedAt:s}=V(e,t),a=ne(new Map).current,i=A((c,m=ce)=>{if(a.has(c))return;let p=setTimeout(()=>{a.delete(c),r({type:4,toastId:c})},m);a.set(c,p)},[]);X(()=>{if(s)return;let c=Date.now(),m=o.map(p=>{if(p.duration===1/0)return;let R=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(R<0){p.visible&&n.dismiss(p.id);return}return setTimeout(()=>n.dismiss(p.id,t),R)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[o,s,t]);let r=A(S(t),[t]),l=A(()=>{r({type:5,time:Date.now()})},[r]),g=A((c,m)=>{r({type:1,toast:{id:c,height:m}})},[r]),T=A(()=>{s&&r({type:6,time:Date.now()})},[s,r]),d=A((c,m)=>{let{reverseOrder:p=!1,gutter:R=8,defaultPosition:z}=m||{},O=o.filter(u=>(u.position||z)===(c.position||z)&&u.height),K=O.findIndex(u=>u.id===c.id),B=O.filter((u,I)=>I<K&&u.visible).length;return O.filter(u=>u.visible).slice(...p?[B+1]:[0,B]).reduce((u,I)=>u+(I.height||0)+R,0)},[o]);return X(()=>{o.forEach(c=>{if(c.dismissed)i(c.id,c.removeDelay);else{let m=a.get(c.id);m&&(clearTimeout(m),a.delete(c.id))}})},[o,i]),{toasts:o,handlers:{updateHeight:g,startPause:l,endPause:T,calculateOffset:d}}};import*as y from\"react\";import{styled as J,keyframes as G}from\"goober\";import*as b from\"react\";import{styled as U,keyframes as xe}from\"goober\";import{styled as pe,keyframes as M}from\"goober\";var de=M`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,me=M`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,le=M`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,C=pe(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${me} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${le} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ue,keyframes as fe}from\"goober\";var Te=fe`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,F=ue(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${Te} 1s linear infinite;\n`;import{styled as ye,keyframes as q}from\"goober\";var ge=q`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,he=q`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,L=ye(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${he} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var be=U(\"div\")`\n  position: absolute;\n`,Se=U(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,Ae=xe`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Pe=U(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,$=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?b.createElement(Pe,null,t):t:o===\"blank\"?null:b.createElement(Se,null,b.createElement(F,{...s}),o!==\"loading\"&&b.createElement(be,null,o===\"error\"?b.createElement(C,{...s}):b.createElement(L,{...s})))};var Re=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ee=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,ve=\"0%{opacity:0;} 100%{opacity:1;}\",De=\"0%{opacity:1;} 100%{opacity:0;}\",Oe=J(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Ie=J(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,ke=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,i]=E()?[ve,De]:[Re(s),Ee(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=y.memo(({toast:e,position:t,style:o,children:s})=>{let a=e.height?ke(e.position||t||\"top-center\",e.visible):{opacity:0},i=y.createElement($,{toast:e}),r=y.createElement(Ie,{...e.ariaProps},h(e.message,e));return y.createElement(Oe,{className:e.className,style:{...a,...o,...e.style}},typeof s==\"function\"?s({icon:i,message:r}):y.createElement(y.Fragment,null,i,r))});import{css as _e,setup as Ve}from\"goober\";import*as x from\"react\";Ve(x.createElement);var we=({id:e,className:t,style:o,onHeightUpdate:s,children:a})=>{let i=x.useCallback(r=>{if(r){let l=()=>{let g=r.getBoundingClientRect().height;s(e,g)};l(),new MutationObserver(l).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return x.createElement(\"div\",{ref:i,className:t,style:o},a)},Me=(e,t)=>{let o=e.includes(\"top\"),s=o?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:E()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(o?1:-1)}px)`,...s,...a}},Ce=_e`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,D=16,Fe=({reverseOrder:e,position:t=\"top-center\",toastOptions:o,gutter:s,children:a,toasterId:i,containerStyle:r,containerClassName:l})=>{let{toasts:g,handlers:T}=w(o,i);return x.createElement(\"div\",{\"data-rht-toaster\":i||\"\",style:{position:\"fixed\",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:\"none\",...r},className:l,onMouseEnter:T.startPause,onMouseLeave:T.endPause},g.map(d=>{let c=d.position||t,m=T.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),p=Me(c,m);return x.createElement(we,{id:d.id,key:d.id,onHeightUpdate:T.updateHeight,className:d.visible?Ce:\"\",style:p},d.type===\"custom\"?h(d.message,d):a?a(d):x.createElement(N,{toast:d,position:c}))}))};var zt=n;export{L as CheckmarkIcon,C as ErrorIcon,F as LoaderIcon,N as ToastBar,$ as ToastIcon,Fe as Toaster,zt as default,h as resolveValue,n as toast,w as useToaster,V as useToasterStore};\n//# sourceMappingURL=index.mjs.map","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","import { create } from 'zustand';\r\nimport type { \r\n  Team, \r\n  Player, \r\n  DraftPick, \r\n  LeagueSettings,\r\n  PlayerValuation \r\n} from '@/types';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport { DataValidator } from '@/lib/dataValidator';\r\n\r\ninterface DraftState {\r\n  leagueSettings: LeagueSettings;\r\n  teams: Team[];\r\n  myTeamId: string;\r\n  draftHistory: DraftPick[];\r\n  currentNomination: Player | null;\r\n  currentBid: number;\r\n  currentBidder: string | null;\r\n  isDraftActive: boolean;\r\n  availablePlayers: PlayerValuation[];\r\n  selectedPlayer: ValuationResult | null;\r\n  \r\n  initializeDraft: (settings: LeagueSettings) => void;\r\n  setMyTeam: (teamId: string) => void;\r\n  nominatePlayer: (player: Player) => void;\r\n  placeBid: (amount: number, teamId: string) => void;\r\n  completeAuction: (player: Player, price: number, teamId: string) => void;\r\n  updatePlayerValuations: (valuations: PlayerValuation[]) => void;\r\n  updateTeamName: (teamId: string, newName: string) => void;\r\n  setSelectedPlayer: (player: ValuationResult | null) => void;\r\n  resetDraft: () => void;\r\n  undoLastPick: () => void;\r\n}\r\n\r\nconst defaultLeagueSettings: LeagueSettings = {\r\n  teams: 12,\r\n  budget: 200,\r\n  scoring: 'PPR',\r\n  rosterPositions: [\r\n    { position: 'QB', player: undefined, required: 1 },\r\n    { position: 'RB', player: undefined, required: 2 },\r\n    { position: 'WR', player: undefined, required: 2 },\r\n    { position: 'TE', player: undefined, required: 1 },\r\n    { position: 'FLEX', player: undefined, required: 1 },\r\n    { position: 'DST', player: undefined, required: 1 },\r\n    { position: 'K', player: undefined, required: 1 },\r\n    { position: 'BE', player: undefined, required: 7 }\r\n  ]\r\n};\r\n\r\nexport const useDraftStore = create<DraftState>((set, get) => ({\r\n  leagueSettings: defaultLeagueSettings,\r\n  teams: [],\r\n  myTeamId: 'team_0',\r\n  draftHistory: [],\r\n  currentNomination: null,\r\n  currentBid: 0,\r\n  currentBidder: null,\r\n  isDraftActive: false,\r\n  availablePlayers: [],\r\n  selectedPlayer: null,\r\n  \r\n  initializeDraft: (settings) => {\r\n    // Skip validation for now - we know our settings are correct\r\n    // const validator = new DataValidator();\r\n    // const errors = validator.validateLeagueSettings(settings);\r\n    // \r\n    // if (errors.length > 0) {\r\n    //   console.error('Invalid league settings:', errors);\r\n    //   throw new Error(`Invalid league settings: ${errors.join(', ')}`);\r\n    // }\r\n    \r\n    // Load saved team names from localStorage\r\n    const savedTeamNames = localStorage.getItem('ffToolTeamNames');\r\n    const teamNames = savedTeamNames ? JSON.parse(savedTeamNames) : {};\r\n    \r\n    const teams: Team[] = [];\r\n    for (let i = 0; i < settings.teams; i++) {\r\n      const teamId = `team_${i}`;\r\n      const defaultName = i === 0 ? 'My Team' : `Team ${i + 1}`;\r\n      teams.push({\r\n        id: teamId,\r\n        name: teamNames[teamId] || defaultName,\r\n        budget: settings.budget,\r\n        spent: 0,\r\n        roster: [],\r\n        maxBid: settings.budget - 15 // Reserve $1 for each of 15 other roster spots\r\n      });\r\n    }\r\n    \r\n    set({\r\n      leagueSettings: settings,\r\n      teams,\r\n      isDraftActive: true,\r\n      draftHistory: [],\r\n      currentNomination: null,\r\n      currentBid: 0,\r\n      currentBidder: null\r\n    });\r\n  },\r\n  \r\n  setMyTeam: (teamId) => set({ myTeamId: teamId }),\r\n  \r\n  nominatePlayer: (player) => set({\r\n    currentNomination: player,\r\n    currentBid: 1,\r\n    currentBidder: null\r\n  }),\r\n  \r\n  placeBid: (amount, teamId) => {\r\n    const { teams } = get();\r\n    const team = teams.find(t => t.id === teamId);\r\n    \r\n    if (!team || team.budget - team.spent < amount) {\r\n      return;\r\n    }\r\n    \r\n    set({\r\n      currentBid: amount,\r\n      currentBidder: teamId\r\n    });\r\n  },\r\n  \r\n  completeAuction: (player, price, teamId) => {\r\n    console.log('[DraftStore] completeAuction called:', {\r\n      player: player.name,\r\n      price,\r\n      teamId\r\n    });\r\n    \r\n    // Use atomic update to prevent race conditions\r\n    set(state => {\r\n      // Validate within the update function for atomicity\r\n      const buyingTeam = state.teams.find(t => t.id === teamId);\r\n      \r\n      if (!buyingTeam) {\r\n        console.error(`Team ${teamId} not found`);\r\n        return state; // Return unchanged state\r\n      }\r\n      \r\n      // Basic price validation\r\n      if (price <= 0 || price > 200) {\r\n        console.error(`Invalid price: ${price}`);\r\n        return state;\r\n      }\r\n      \r\n      // Check budget\r\n      if (price > buyingTeam.budget - buyingTeam.spent) {\r\n        console.error(`Price ${price} exceeds remaining budget ${buyingTeam.budget - buyingTeam.spent}`);\r\n        return state;\r\n      }\r\n      \r\n      // Check if player already drafted\r\n      const alreadyDrafted = state.teams.some(t => \r\n        t.roster.some(r => r.player.id === player.id)\r\n      );\r\n      \r\n      if (alreadyDrafted) {\r\n        console.error(`Player ${player.name} already drafted`);\r\n        return state;\r\n      }\r\n      \r\n      // Create new draft pick\r\n      const newPick: DraftPick = {\r\n        player,\r\n        price,\r\n        team: teamId,\r\n        timestamp: Date.now(),\r\n        nomination: false\r\n      };\r\n      \r\n      // Update teams immutably\r\n      const updatedTeams = state.teams.map(team => {\r\n        if (team.id === teamId) {\r\n          const spentAfter = team.spent + price;\r\n          const rosterSizeAfter = team.roster.length + 1;\r\n          const slotsRemaining = Math.max(0, 16 - rosterSizeAfter);\r\n          const maxBidAfter = Math.max(\r\n            0, \r\n            team.budget - spentAfter - slotsRemaining\r\n          );\r\n          \r\n          return {\r\n            ...team,\r\n            spent: spentAfter,\r\n            roster: [...team.roster, newPick],\r\n            maxBid: maxBidAfter\r\n          };\r\n        }\r\n        return team;\r\n      });\r\n      \r\n      // Update available players\r\n      const updatedAvailablePlayers = state.availablePlayers.filter(\r\n        p => p.id !== player.id\r\n      );\r\n      \r\n      console.log('[DraftStore] Draft successful:', {\r\n        playerName: player.name,\r\n        price,\r\n        teamName: buyingTeam.name,\r\n        newHistoryLength: state.draftHistory.length + 1\r\n      });\r\n      \r\n      return {\r\n        ...state,\r\n        teams: updatedTeams,\r\n        draftHistory: [...state.draftHistory, newPick],\r\n        availablePlayers: updatedAvailablePlayers,\r\n        currentNomination: null,\r\n        currentBid: 0,\r\n        currentBidder: null\r\n      };\r\n    });\r\n  },\r\n  \r\n  updatePlayerValuations: (valuations) => set({ availablePlayers: valuations }),\r\n  \r\n  updateTeamName: (teamId, newName) => {\r\n    set((state) => ({\r\n      teams: state.teams.map(team => \r\n        team.id === teamId ? { ...team, name: newName } : team\r\n      )\r\n    }));\r\n    \r\n    // Save to localStorage for persistence\r\n    const savedTeamNames = localStorage.getItem('ffToolTeamNames');\r\n    const teamNames = savedTeamNames ? JSON.parse(savedTeamNames) : {};\r\n    teamNames[teamId] = newName;\r\n    localStorage.setItem('ffToolTeamNames', JSON.stringify(teamNames));\r\n  },\r\n\r\n  setSelectedPlayer: (player) => {\r\n    set({ selectedPlayer: player });\r\n  },\r\n  \r\n  resetDraft: () => set({\r\n    teams: [],\r\n    draftHistory: [],\r\n    currentNomination: null,\r\n    currentBid: 0,\r\n    currentBidder: null,\r\n    isDraftActive: false,\r\n    availablePlayers: []\r\n  }),\r\n  \r\n  undoLastPick: () => {\r\n    const { draftHistory, teams } = get();\r\n    if (draftHistory.length === 0) return;\r\n    \r\n    const lastPick = draftHistory[draftHistory.length - 1];\r\n    \r\n    const updatedTeams = teams.map(team => {\r\n      if (team.id === lastPick.team) {\r\n        // Calculate properly after undoing\r\n        const spentAfter = team.spent - lastPick.price;\r\n        const rosterAfter = team.roster.filter(p => p.player.id !== lastPick.player.id);\r\n        const rosterSizeAfter = rosterAfter.length;\r\n        const remainingSlots = Math.max(0, 16 - rosterSizeAfter);\r\n        const dollarsReservedForMinBids = remainingSlots;\r\n        const maxBidAfter = Math.max(0, team.budget - spentAfter - dollarsReservedForMinBids);\r\n        \r\n        return {\r\n          ...team,\r\n          spent: spentAfter,\r\n          roster: rosterAfter,\r\n          maxBid: maxBidAfter\r\n        };\r\n      }\r\n      return team;\r\n    });\r\n    \r\n    set({\r\n      teams: updatedTeams,\r\n      draftHistory: draftHistory.slice(0, -1)\r\n    });\r\n  }\r\n}));","/**\r\n * Centralized logging utility for the application\r\n * Provides consistent logging with different levels and context\r\n */\r\n\r\nexport enum LogLevel {\r\n  DEBUG = 0,\r\n  INFO = 1,\r\n  WARN = 2,\r\n  ERROR = 3,\r\n  NONE = 4\r\n}\r\n\r\ninterface LogContext {\r\n  [key: string]: any;\r\n}\r\n\r\ninterface LogEntry {\r\n  timestamp: Date;\r\n  level: LogLevel;\r\n  message: string;\r\n  context?: LogContext;\r\n  error?: Error;\r\n}\r\n\r\nclass Logger {\r\n  private level: LogLevel;\r\n  private logs: LogEntry[] = [];\r\n  private maxLogs = 1000; // Keep last 1000 log entries in memory\r\n\r\n  constructor() {\r\n    // Set log level based on environment\r\n    this.level = this.getLogLevelFromEnv();\r\n  }\r\n\r\n  private getLogLevelFromEnv(): LogLevel {\r\n    if (typeof window !== 'undefined') {\r\n      // Browser environment\r\n      const isDev = window.location.hostname === 'localhost' || \r\n                    window.location.hostname === '127.0.0.1';\r\n      return isDev ? LogLevel.DEBUG : LogLevel.WARN;\r\n    }\r\n    return LogLevel.INFO;\r\n  }\r\n\r\n  private formatMessage(level: LogLevel, message: string, context?: LogContext): string {\r\n    const levelStr = LogLevel[level];\r\n    const timestamp = new Date().toISOString();\r\n    const contextStr = context ? ` | ${JSON.stringify(context)}` : '';\r\n    return `[${timestamp}] [${levelStr}] ${message}${contextStr}`;\r\n  }\r\n\r\n  private log(level: LogLevel, message: string, context?: LogContext, error?: Error): void {\r\n    if (level < this.level) {\r\n      return; // Skip logs below current level\r\n    }\r\n\r\n    const entry: LogEntry = {\r\n      timestamp: new Date(),\r\n      level,\r\n      message,\r\n      context,\r\n      error\r\n    };\r\n\r\n    // Store in memory\r\n    this.logs.push(entry);\r\n    if (this.logs.length > this.maxLogs) {\r\n      this.logs.shift(); // Remove oldest entry\r\n    }\r\n\r\n    const formattedMessage = this.formatMessage(level, message, context);\r\n\r\n    // Output to console\r\n    switch (level) {\r\n      case LogLevel.DEBUG:\r\n        console.debug(formattedMessage, context);\r\n        break;\r\n      case LogLevel.INFO:\r\n        console.info(formattedMessage, context);\r\n        break;\r\n      case LogLevel.WARN:\r\n        console.warn(formattedMessage, context);\r\n        break;\r\n      case LogLevel.ERROR:\r\n        console.error(formattedMessage, error || context);\r\n        if (error?.stack) {\r\n          console.error(error.stack);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  debug(message: string, context?: LogContext): void {\r\n    this.log(LogLevel.DEBUG, message, context);\r\n  }\r\n\r\n  info(message: string, context?: LogContext): void {\r\n    this.log(LogLevel.INFO, message, context);\r\n  }\r\n\r\n  warn(message: string, context?: LogContext): void {\r\n    this.log(LogLevel.WARN, message, context);\r\n  }\r\n\r\n  error(message: string, contextOrError?: LogContext | Error): void {\r\n    if (contextOrError instanceof Error) {\r\n      this.log(LogLevel.ERROR, message, undefined, contextOrError);\r\n    } else {\r\n      this.log(LogLevel.ERROR, message, contextOrError);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the minimum log level\r\n   */\r\n  setLevel(level: LogLevel): void {\r\n    this.level = level;\r\n  }\r\n\r\n  /**\r\n   * Get recent logs for debugging\r\n   */\r\n  getRecentLogs(count = 100): LogEntry[] {\r\n    return this.logs.slice(-count);\r\n  }\r\n\r\n  /**\r\n   * Clear stored logs\r\n   */\r\n  clearLogs(): void {\r\n    this.logs = [];\r\n  }\r\n\r\n  /**\r\n   * Export logs to JSON for debugging\r\n   */\r\n  exportLogs(): string {\r\n    return JSON.stringify(this.logs, null, 2);\r\n  }\r\n\r\n  /**\r\n   * Log CSV parsing specific events\r\n   */\r\n  logCSVParse(filename: string, rowCount: number, errorCount: number = 0): void {\r\n    this.info('CSV Parse Complete', {\r\n      filename,\r\n      rowCount,\r\n      errorCount,\r\n      status: errorCount === 0 ? 'success' : 'partial'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log data validation events\r\n   */\r\n  logValidation(entityType: string, valid: number, invalid: number): void {\r\n    const level = invalid > 0 ? LogLevel.WARN : LogLevel.INFO;\r\n    this.log(level, `Data Validation: ${entityType}`, {\r\n      valid,\r\n      invalid,\r\n      total: valid + invalid,\r\n      successRate: ((valid / (valid + invalid)) * 100).toFixed(2) + '%'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Performance logging helper\r\n   */\r\n  startTimer(label: string): () => void {\r\n    const start = performance.now();\r\n    return () => {\r\n      const duration = performance.now() - start;\r\n      this.debug(`Performance: ${label}`, {\r\n        duration: `${duration.toFixed(2)}ms`\r\n      });\r\n    };\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const logger = new Logger();\r\n\r\n// Export for testing or advanced usage\r\nexport { Logger };\r\nexport type { LogContext, LogEntry };","/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e,t)=>{\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()})(this,function r(){var n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'\"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine=\"\",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,\"\"),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,d=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+v.DefaultDelimiter+\"'\"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):\"\"===t?null:t):t)(n=m.header?r>=c.length?\"__parsed_extra\":c[r]:n,s=m.transform?m.transform(s,n):s);\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+c.length+\" fields but parsed \"+r,f+t):r<c.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+c.length+\" fields but parsed \"+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'\"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),b(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?\"\":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+\"([^]*?)\"+P(t),\"gm\"),i=(e=e.replace(t,\"\")).split(\"\\r\"),t=e.split(\"\\n\"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return\"\\n\";for(var r=0,n=0;n<i.length;n++)\"\\n\"===i[n][0]&&r++;return r>=i.length/2?\"\\r\\n\":\"\\r\"}}function P(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'\"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),(\"string\"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=\",\"),x===S)throw new Error(\"Comment character same as delimiter\");!0===x?x=\"#\":(\"string\"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),\"\\n\"!==O&&\"\\r\"!==O&&\"\\r\\n\"!==O&&(O=\"\\n\");var z=0,M=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return w();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return w();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return w()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),w(!0)}}return w()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),\"g\"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),b(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return w();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),b(g+s),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&\"\"===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),w()}function b(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function w(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a=Object.create(null),o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+\"_\"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn(\"Duplicate headers found and renamed.\"),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(w()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error(\"Not implemented.\")}function b(e){if(\"object\"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=b(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,\"string\"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",t,\")();\"],{type:\"text/javascript\"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(y=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(P(s),\"g\"));\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\",n=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=\"\"===f.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK=\"\\ufeff\",v.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=\",\",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);\"string\"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});","/**\r\n * Robust CSV Parsing Utilities\r\n * Provides safe parsing functions that preserve null values and prevent data corruption\r\n */\r\n\r\nimport Papa from 'papaparse';\r\n\r\n/**\r\n * Standard null value tokens that should be treated as missing data\r\n */\r\nexport const NULL_TOKENS = new Set([\r\n  '', 'NA', 'N/A', 'n/a', 'null', 'NULL', 'None', 'NONE',\r\n  'nan', 'NaN', '#N/A', '#NULL!', '--', '-', 'undefined',\r\n  '#VALUE!', '#ERROR!', 'nil', 'NIL', 'missing', 'MISSING'\r\n]);\r\n\r\n/**\r\n * Standard Papa Parse configuration for consistent CSV parsing\r\n */\r\nexport const STANDARD_PAPA_CONFIG: Papa.ParseConfig = {\r\n  header: true,\r\n  dynamicTyping: false, // We'll handle typing ourselves to prevent corruption\r\n  skipEmptyLines: 'greedy', // Skip all empty lines\r\n  transformHeader: (header: string) => header.trim(),\r\n  transform: (value: string) => value.trim(),\r\n  delimiter: '', // Auto-detect\r\n  encoding: 'UTF-8',\r\n  comments: false,\r\n  fastMode: false,\r\n  delimitersToGuess: [',', '\\t', '|', ';']\r\n};\r\n\r\n/**\r\n * Safely parse a numeric value, preserving nulls\r\n * @param value - The value to parse\r\n * @param defaultValue - Default value if parsing fails (defaults to null)\r\n * @returns Parsed number or null\r\n */\r\nexport function safeParseNumber(value: any, defaultValue: number | null = null): number | null {\r\n  // Handle undefined or null\r\n  if (value === undefined || value === null) {\r\n    return defaultValue;\r\n  }\r\n\r\n  // Convert to string for consistent processing\r\n  const strValue = String(value).trim();\r\n\r\n  // Check if it's a known null token\r\n  if (NULL_TOKENS.has(strValue)) {\r\n    return null;\r\n  }\r\n\r\n  // Remove currency symbols and thousands separators\r\n  const cleaned = strValue\r\n    .replace(/[$]/g, '')\r\n    .replace(/,/g, '')\r\n    .replace(/%$/g, ''); // Remove trailing percentage\r\n\r\n  // Try to parse as number\r\n  const parsed = Number(cleaned);\r\n\r\n  // Check if parsing succeeded\r\n  if (!isNaN(parsed) && isFinite(parsed)) {\r\n    // If original had %, divide by 100\r\n    if (strValue.endsWith('%')) {\r\n      return parsed / 100;\r\n    }\r\n    return parsed;\r\n  }\r\n\r\n  // Return default if parsing failed\r\n  return defaultValue;\r\n}\r\n\r\n/**\r\n * Safely parse an integer value, preserving nulls\r\n * @param value - The value to parse\r\n * @param defaultValue - Default value if parsing fails (defaults to null)\r\n * @returns Parsed integer or null\r\n */\r\nexport function safeParseInt(value: any, defaultValue: number | null = null): number | null {\r\n  const parsed = safeParseNumber(value, defaultValue);\r\n  return parsed !== null ? Math.round(parsed) : null;\r\n}\r\n\r\n/**\r\n * Safely parse a float value, preserving nulls\r\n * @param value - The value to parse\r\n * @param precision - Number of decimal places to round to\r\n * @param defaultValue - Default value if parsing fails (defaults to null)\r\n * @returns Parsed float or null\r\n */\r\nexport function safeParseFloat(\r\n  value: any, \r\n  precision: number | null = null, \r\n  defaultValue: number | null = null\r\n): number | null {\r\n  const parsed = safeParseNumber(value, defaultValue);\r\n  if (parsed !== null && precision !== null) {\r\n    return Math.round(parsed * Math.pow(10, precision)) / Math.pow(10, precision);\r\n  }\r\n  return parsed;\r\n}\r\n\r\n/**\r\n * Check if a value should be treated as null/missing\r\n * @param value - The value to check\r\n * @returns True if the value is null/missing\r\n */\r\nexport function isNullValue(value: any): boolean {\r\n  if (value === undefined || value === null) {\r\n    return true;\r\n  }\r\n  const strValue = String(value).trim();\r\n  return NULL_TOKENS.has(strValue);\r\n}\r\n\r\n/**\r\n * Parse a boolean value with null preservation\r\n * @param value - The value to parse\r\n * @param defaultValue - Default value if parsing fails\r\n * @returns Parsed boolean or null\r\n */\r\nexport function safeParseBoolean(value: any, defaultValue: boolean | null = null): boolean | null {\r\n  if (isNullValue(value)) {\r\n    return defaultValue;\r\n  }\r\n\r\n  const strValue = String(value).trim().toLowerCase();\r\n  \r\n  // True values\r\n  if (['true', '1', 'yes', 'y', 'on', 'enabled'].includes(strValue)) {\r\n    return true;\r\n  }\r\n  \r\n  // False values\r\n  if (['false', '0', 'no', 'n', 'off', 'disabled'].includes(strValue)) {\r\n    return false;\r\n  }\r\n  \r\n  return defaultValue;\r\n}\r\n\r\n/**\r\n * Parse a string value with null preservation\r\n * @param value - The value to parse\r\n * @param defaultValue - Default value if null\r\n * @returns Parsed string or null\r\n */\r\nexport function safeParseString(value: any, defaultValue: string | null = null): string | null {\r\n  if (isNullValue(value)) {\r\n    return defaultValue;\r\n  }\r\n  return String(value).trim();\r\n}\r\n\r\n/**\r\n * Parse CSV content with standardized configuration\r\n * @param content - CSV content as string\r\n * @param config - Optional Papa Parse config overrides\r\n * @returns Parsed result with data and errors\r\n */\r\nexport function parseCSV<T = any>(\r\n  content: string,\r\n  config?: Partial<Papa.ParseConfig>\r\n): Papa.ParseResult<T> {\r\n  const mergedConfig = {\r\n    ...STANDARD_PAPA_CONFIG,\r\n    ...config\r\n  };\r\n  \r\n  return Papa.parse<T>(content, mergedConfig);\r\n}\r\n\r\n/**\r\n * Parse CSV file with standardized configuration\r\n * @param file - File object to parse\r\n * @param config - Optional Papa Parse config overrides\r\n * @returns Promise with parsed result\r\n */\r\nexport function parseCSVFile<T = any>(\r\n  file: File,\r\n  config?: Partial<Papa.ParseConfig>\r\n): Promise<Papa.ParseResult<T>> {\r\n  return new Promise((resolve, reject) => {\r\n    const mergedConfig = {\r\n      ...STANDARD_PAPA_CONFIG,\r\n      ...config,\r\n      complete: (results: Papa.ParseResult<T>) => resolve(results),\r\n      error: (error: Error) => reject(error)\r\n    };\r\n    \r\n    Papa.parse(file, mergedConfig);\r\n  });\r\n}\r\n\r\n/**\r\n * Validate row data against expected schema\r\n * @param row - Data row to validate\r\n * @param schema - Expected schema\r\n * @returns Validation result\r\n */\r\nexport interface ValidationResult {\r\n  valid: boolean;\r\n  errors: string[];\r\n  warnings: string[];\r\n}\r\n\r\nexport interface ColumnSchema {\r\n  name: string;\r\n  type: 'string' | 'number' | 'boolean' | 'date';\r\n  required?: boolean;\r\n  min?: number;\r\n  max?: number;\r\n  pattern?: RegExp;\r\n  allowedValues?: any[];\r\n}\r\n\r\nexport function validateRow(\r\n  row: Record<string, any>,\r\n  schema: ColumnSchema[]\r\n): ValidationResult {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  for (const column of schema) {\r\n    const value = row[column.name];\r\n    const isNull = isNullValue(value);\r\n\r\n    // Check required fields\r\n    if (column.required && isNull) {\r\n      errors.push(`Required field '${column.name}' is missing`);\r\n      continue;\r\n    }\r\n\r\n    // Skip validation for null values in optional fields\r\n    if (isNull && !column.required) {\r\n      continue;\r\n    }\r\n\r\n    // Type validation\r\n    switch (column.type) {\r\n      case 'number':\r\n        const numValue = safeParseNumber(value);\r\n        if (numValue === null && !isNull) {\r\n          errors.push(`Field '${column.name}' is not a valid number: ${value}`);\r\n        } else if (numValue !== null) {\r\n          if (column.min !== undefined && numValue < column.min) {\r\n            warnings.push(`Field '${column.name}' value ${numValue} is below minimum ${column.min}`);\r\n          }\r\n          if (column.max !== undefined && numValue > column.max) {\r\n            warnings.push(`Field '${column.name}' value ${numValue} is above maximum ${column.max}`);\r\n          }\r\n        }\r\n        break;\r\n\r\n      case 'string':\r\n        const strValue = safeParseString(value);\r\n        if (strValue && column.pattern && !column.pattern.test(strValue)) {\r\n          warnings.push(`Field '${column.name}' value doesn't match expected pattern`);\r\n        }\r\n        if (strValue && column.allowedValues && !column.allowedValues.includes(strValue)) {\r\n          errors.push(`Field '${column.name}' value '${strValue}' is not in allowed values`);\r\n        }\r\n        break;\r\n\r\n      case 'boolean':\r\n        const boolValue = safeParseBoolean(value);\r\n        if (boolValue === null && !isNull) {\r\n          errors.push(`Field '${column.name}' is not a valid boolean: ${value}`);\r\n        }\r\n        break;\r\n\r\n      case 'date':\r\n        const dateValue = Date.parse(String(value));\r\n        if (isNaN(dateValue) && !isNull) {\r\n          errors.push(`Field '${column.name}' is not a valid date: ${value}`);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    valid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n}\r\n\r\n/**\r\n * Count null values in a dataset\r\n * @param data - Array of data rows\r\n * @returns Object with null counts per column\r\n */\r\nexport function countNullValues(data: Record<string, any>[]): Record<string, number> {\r\n  const nullCounts: Record<string, number> = {};\r\n\r\n  if (data.length === 0) return nullCounts;\r\n\r\n  // Initialize counts\r\n  const columns = Object.keys(data[0]);\r\n  columns.forEach(col => nullCounts[col] = 0);\r\n\r\n  // Count nulls\r\n  data.forEach(row => {\r\n    columns.forEach(col => {\r\n      if (isNullValue(row[col])) {\r\n        nullCounts[col]++;\r\n      }\r\n    });\r\n  });\r\n\r\n  return nullCounts;\r\n}\r\n\r\n/**\r\n * Get data completeness statistics\r\n * @param data - Array of data rows\r\n * @returns Completeness statistics\r\n */\r\nexport interface CompletenessStats {\r\n  totalRows: number;\r\n  totalColumns: number;\r\n  totalCells: number;\r\n  nullCells: number;\r\n  completenessPercentage: number;\r\n  columnCompleteness: Record<string, number>;\r\n}\r\n\r\nexport function getCompletenessStats(data: Record<string, any>[]): CompletenessStats {\r\n  if (data.length === 0) {\r\n    return {\r\n      totalRows: 0,\r\n      totalColumns: 0,\r\n      totalCells: 0,\r\n      nullCells: 0,\r\n      completenessPercentage: 100,\r\n      columnCompleteness: {}\r\n    };\r\n  }\r\n\r\n  const columns = Object.keys(data[0]);\r\n  const totalRows = data.length;\r\n  const totalColumns = columns.length;\r\n  const totalCells = totalRows * totalColumns;\r\n  \r\n  const nullCounts = countNullValues(data);\r\n  const nullCells = Object.values(nullCounts).reduce((sum, count) => sum + count, 0);\r\n  \r\n  const columnCompleteness: Record<string, number> = {};\r\n  columns.forEach(col => {\r\n    const nonNullCount = totalRows - nullCounts[col];\r\n    columnCompleteness[col] = (nonNullCount / totalRows) * 100;\r\n  });\r\n\r\n  return {\r\n    totalRows,\r\n    totalColumns,\r\n    totalCells,\r\n    nullCells,\r\n    completenessPercentage: ((totalCells - nullCells) / totalCells) * 100,\r\n    columnCompleteness\r\n  };\r\n}\r\n\r\n/**\r\n * Clean and normalize CSV data\r\n * @param data - Raw CSV data\r\n * @param options - Cleaning options\r\n * @returns Cleaned data\r\n */\r\nexport interface CleaningOptions {\r\n  trimStrings?: boolean;\r\n  removeEmptyRows?: boolean;\r\n  normalizeHeaders?: boolean;\r\n  deduplicateRows?: boolean;\r\n  keyColumns?: string[];\r\n}\r\n\r\nexport function cleanCSVData<T extends Record<string, any>>(\r\n  data: T[],\r\n  options: CleaningOptions = {}\r\n): T[] {\r\n  let cleaned = [...data];\r\n\r\n  // Remove empty rows\r\n  if (options.removeEmptyRows !== false) {\r\n    cleaned = cleaned.filter(row => {\r\n      const values = Object.values(row);\r\n      return values.some(v => !isNullValue(v));\r\n    });\r\n  }\r\n\r\n  // Trim string values\r\n  if (options.trimStrings !== false) {\r\n    cleaned = cleaned.map(row => {\r\n      const trimmedRow: any = {};\r\n      Object.entries(row).forEach(([key, value]) => {\r\n        if (typeof value === 'string') {\r\n          trimmedRow[key] = value.trim();\r\n        } else {\r\n          trimmedRow[key] = value;\r\n        }\r\n      });\r\n      return trimmedRow;\r\n    });\r\n  }\r\n\r\n  // Deduplicate rows\r\n  if (options.deduplicateRows && options.keyColumns) {\r\n    const seen = new Set<string>();\r\n    cleaned = cleaned.filter(row => {\r\n      const key = options.keyColumns!\r\n        .map(col => String(row[col] || '').toLowerCase())\r\n        .join('|');\r\n      \r\n      if (seen.has(key)) {\r\n        return false;\r\n      }\r\n      seen.add(key);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  return cleaned;\r\n}","/**\r\n * CSV Schema Definitions\r\n * Defines the expected structure and validation rules for all CSV data files\r\n */\r\n\r\nimport { ColumnSchema } from './csvParsingUtils';\r\n\r\n/**\r\n * Schema for projections_2025.csv\r\n */\r\nexport const PROJECTIONS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'playerName', type: 'string', required: true },\r\n  { name: 'position', type: 'string', required: true, allowedValues: ['QB', 'RB', 'WR', 'TE', 'DST', 'K'] },\r\n  { name: 'teamName', type: 'string', required: true, pattern: /^[A-Z]{2,3}$/ },\r\n  { name: 'byeWeek', type: 'number', required: false, min: 1, max: 18 },\r\n  { name: 'fantasyPoints', type: 'number', required: true, min: 0, max: 600 },\r\n  { name: 'games', type: 'number', required: false, min: 0, max: 17 },\r\n  { name: 'passYds', type: 'number', required: false, min: 0, max: 6000 },\r\n  { name: 'passTd', type: 'number', required: false, min: 0, max: 60 },\r\n  { name: 'passInt', type: 'number', required: false, min: 0, max: 40 },\r\n  { name: 'rushYds', type: 'number', required: false, min: 0, max: 2500 },\r\n  { name: 'rushTd', type: 'number', required: false, min: 0, max: 30 },\r\n  { name: 'recvReceptions', type: 'number', required: false, min: 0, max: 150 },\r\n  { name: 'recvYds', type: 'number', required: false, min: 0, max: 2000 },\r\n  { name: 'recvTd', type: 'number', required: false, min: 0, max: 20 },\r\n  { name: 'recvTargets', type: 'number', required: false, min: 0, max: 200 },\r\n  { name: 'auctionValue', type: 'number', required: false, min: 0, max: 100 }\r\n];\r\n\r\n/**\r\n * Schema for adp0_2025.csv\r\n */\r\nexport const ADP0_SCHEMA: ColumnSchema[] = [\r\n  { name: 'Overall Rank', type: 'number', required: true, min: 1, max: 500 },\r\n  { name: 'Full Name', type: 'string', required: true },\r\n  { name: 'Team Abbreviation', type: 'string', required: true, pattern: /^[A-Z]{2,3}$/ },\r\n  { name: 'Position', type: 'string', required: true, allowedValues: ['QB', 'RB', 'WR', 'TE', 'DST', 'K', 'FB'] },\r\n  { name: 'Position Rank', type: 'number', required: false, min: 1, max: 100 },\r\n  { name: 'ADP', type: 'number', required: false, min: 1, max: 500 }, // Now nullable\r\n  { name: 'Auction Value', type: 'number', required: false, min: 0, max: 300 },\r\n  { name: 'Bye Week', type: 'number', required: false, min: 1, max: 18 },\r\n  { name: 'Is Rookie', type: 'string', required: false, allowedValues: ['Yes', 'No'] }\r\n];\r\n\r\n/**\r\n * Schema for adp1_2025.csv\r\n */\r\nexport const ADP1_SCHEMA: ColumnSchema[] = [\r\n  { name: 'Name', type: 'string', required: true },\r\n  { name: 'Team', type: 'string', required: true },\r\n  { name: 'Pos', type: 'string', required: true },\r\n  { name: 'ESPN', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'Sleeper', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'Fantrax', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'MFL', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'NFFC', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'ESPN_AAV', type: 'number', required: false, min: 0, max: 300 },\r\n  { name: 'MFL_AAV', type: 'number', required: false, min: 0, max: 300 }\r\n];\r\n\r\n/**\r\n * Schema for adp2_2025.csv\r\n */\r\nexport const ADP2_SCHEMA: ColumnSchema[] = [\r\n  { name: 'Name', type: 'string', required: true },\r\n  { name: 'Age', type: 'number', required: false, min: 18, max: 45 },\r\n  { name: 'Status', type: 'string', required: false },\r\n  { name: 'Fantasy Score', type: 'number', required: false, min: 0, max: 600 }\r\n];\r\n\r\n/**\r\n * Schema for adp3_2025.csv\r\n */\r\nexport const ADP3_SCHEMA: ColumnSchema[] = [\r\n  { name: 'ADP', type: 'number', required: false, min: 1, max: 500 },\r\n  { name: 'Player', type: 'string', required: true },\r\n  { name: 'Team', type: 'string', required: true },\r\n  { name: 'Position', type: 'string', required: true }\r\n];\r\n\r\n/**\r\n * Schema for sos_2025.csv - Updated format with normalized SOS values\r\n */\r\nexport const SOS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'Team', type: 'string', required: true },\r\n  { name: 'SOS_Rank', type: 'number', required: true, min: 1, max: 32 },\r\n  { name: 'SOS_Percentage', type: 'number', required: true, min: 0, max: 1 },\r\n  { name: 'SOS_Normalized', type: 'number', required: true, min: 0, max: 10 }\r\n];\r\n\r\n/**\r\n * Schema for fantasy-stats-passing_2024.csv\r\n */\r\nexport const STATS_PASSING_SCHEMA: ColumnSchema[] = [\r\n  { name: 'player', type: 'string', required: true },\r\n  { name: 'team', type: 'string', required: true },\r\n  { name: 'Games', type: 'number', required: false, min: 0, max: 17 },\r\n  { name: 'Completions', type: 'number', required: false, min: 0, max: 500 },\r\n  { name: 'Attempts', type: 'number', required: false, min: 0, max: 750 },\r\n  { name: 'Passing Yards', type: 'number', required: false, min: 0, max: 6000 },\r\n  { name: 'Passing TDs', type: 'number', required: false, min: 0, max: 60 },\r\n  { name: 'Interceptions', type: 'number', required: false, min: 0, max: 40 },\r\n  { name: 'Fantasy Points', type: 'number', required: false, min: 0, max: 600 }\r\n];\r\n\r\n/**\r\n * Schema for fantasy-stats-receiving_rushing_2024.csv\r\n */\r\nexport const STATS_RECEIVING_RUSHING_SCHEMA: ColumnSchema[] = [\r\n  { name: 'player', type: 'string', required: true },\r\n  { name: 'team', type: 'string', required: true },\r\n  { name: 'position', type: 'string', required: true },\r\n  { name: 'Games', type: 'number', required: false, min: 0, max: 17 },\r\n  { name: 'Rushing Attempts', type: 'number', required: false, min: 0, max: 400 },\r\n  { name: 'Rushing Yards', type: 'number', required: false, min: -100, max: 2500 },\r\n  { name: 'Rushing TDs', type: 'number', required: false, min: 0, max: 30 },\r\n  { name: 'Receptions', type: 'number', required: false, min: 0, max: 150 },\r\n  { name: 'Targets', type: 'number', required: false, min: 0, max: 200 },\r\n  { name: 'Receiving Yards', type: 'number', required: false, min: 0, max: 2000 },\r\n  { name: 'Receiving TDs', type: 'number', required: false, min: 0, max: 20 },\r\n  { name: 'Fantasy Points', type: 'number', required: false, min: 0, max: 600 }\r\n];\r\n\r\n/**\r\n * Schema for configuration CSV files\r\n */\r\nexport const CONFIG_LEAGUE_SETTINGS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'setting', type: 'string', required: true },\r\n  { name: 'value', type: 'string', required: true }\r\n];\r\n\r\nexport const CONFIG_SCORING_SCHEMA: ColumnSchema[] = [\r\n  { name: 'category', type: 'string', required: true },\r\n  { name: 'stat', type: 'string', required: true },\r\n  { name: 'points', type: 'number', required: true, min: -10, max: 10 }\r\n];\r\n\r\nexport const CONFIG_REPLACEMENT_LEVELS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'position', type: 'string', required: true },\r\n  { name: 'rank', type: 'number', required: true, min: 1, max: 100 }\r\n];\r\n\r\nexport const CONFIG_MARKET_ADJUSTMENTS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'position', type: 'string', required: true },\r\n  { name: 'multiplier', type: 'number', required: true, min: 0.5, max: 2.0 }\r\n];\r\n\r\nexport const CONFIG_TIER_MULTIPLIERS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'tier', type: 'string', required: true },\r\n  { name: 'multiplier', type: 'number', required: true, min: 0.8, max: 1.5 }\r\n];\r\n\r\nexport const CONFIG_PROJECTION_WEIGHTS_SCHEMA: ColumnSchema[] = [\r\n  { name: 'source', type: 'string', required: true },\r\n  { name: 'weight', type: 'number', required: true, min: 0, max: 1 }\r\n];\r\n\r\nexport const CONFIG_BUDGET_ALLOCATION_SCHEMA: ColumnSchema[] = [\r\n  { name: 'position', type: 'string', required: true },\r\n  { name: 'percentage', type: 'number', required: true, min: 0, max: 100 }\r\n];\r\n\r\nexport const CONFIG_BID_RANGES_SCHEMA: ColumnSchema[] = [\r\n  { name: 'tier', type: 'string', required: true },\r\n  { name: 'min_multiplier', type: 'number', required: true, min: 0.5, max: 1.5 },\r\n  { name: 'max_multiplier', type: 'number', required: true, min: 0.8, max: 2.0 }\r\n];\r\n\r\n/**\r\n * Map of file names to their schemas\r\n */\r\nexport const FILE_SCHEMAS: Record<string, ColumnSchema[]> = {\r\n  'projections_2025.csv': PROJECTIONS_SCHEMA,\r\n  'adp0_2025.csv': ADP0_SCHEMA,\r\n  'adp1_2025.csv': ADP1_SCHEMA,\r\n  'adp2_2025.csv': ADP2_SCHEMA,\r\n  'adp3_2025.csv': ADP3_SCHEMA,\r\n  'sos_2025.csv': SOS_SCHEMA,\r\n  'fantasy-stats-passing_2024.csv': STATS_PASSING_SCHEMA,\r\n  'fantasy-stats-receiving_rushing_2024.csv': STATS_RECEIVING_RUSHING_SCHEMA,\r\n  'league_settings.csv': CONFIG_LEAGUE_SETTINGS_SCHEMA,\r\n  'scoring_system.csv': CONFIG_SCORING_SCHEMA,\r\n  'replacement_levels.csv': CONFIG_REPLACEMENT_LEVELS_SCHEMA,\r\n  'market_adjustments.csv': CONFIG_MARKET_ADJUSTMENTS_SCHEMA,\r\n  'tier_multipliers.csv': CONFIG_TIER_MULTIPLIERS_SCHEMA,\r\n  'projection_weights.csv': CONFIG_PROJECTION_WEIGHTS_SCHEMA,\r\n  'budget_allocation.csv': CONFIG_BUDGET_ALLOCATION_SCHEMA,\r\n  'bid_ranges.csv': CONFIG_BID_RANGES_SCHEMA\r\n};\r\n\r\n/**\r\n * Get schema for a specific file\r\n */\r\nexport function getSchemaForFile(filename: string): ColumnSchema[] | null {\r\n  // Handle both full paths and just filenames\r\n  const basename = filename.split('/').pop() || filename;\r\n  return FILE_SCHEMAS[basename] || null;\r\n}","/**\r\n * Clean Data Loader\r\n * \r\n * This module loads pre-processed, validated data from the artifacts directory.\r\n * All data has already been cleaned by the Python ETL pipeline and is guaranteed to be:\r\n * - Schema compliant\r\n * - Duplicate-free\r\n * - Type-validated\r\n * - Referentially consistent\r\n */\r\n\r\nimport type { \r\n  Player, \r\n  PlayerProjection, \r\n  PlayerADP, \r\n  PlayerStats,\r\n  ComprehensiveData\r\n} from '@/types';\r\nimport { logger } from './utils/logger';\r\nimport Papa from 'papaparse';\r\nimport { \r\n  safeParseFloat, \r\n  safeParseInt, \r\n  safeParseString,\r\n  STANDARD_PAPA_CONFIG,\r\n  parseCSV,\r\n  validateRow,\r\n  getCompletenessStats\r\n} from './utils/csvParsingUtils';\r\nimport { getSchemaForFile } from './utils/csvSchemaDefinitions';\r\n\r\nexport interface DataManifest {\r\n  version: string;\r\n  generated_at: string;\r\n  pipeline_version: string;\r\n  data_location: string;\r\n  files: Record<string, {\r\n    path: string;\r\n    size_bytes: number;\r\n    modified: string;\r\n    format: string;\r\n  }>;\r\n  statistics: {\r\n    files_processed: number;\r\n    successful_loads: number;\r\n    failed_loads: number;\r\n    rows_parsed: number;\r\n    rows_quarantined: number;\r\n    coercions: number;\r\n    duplicates: number;\r\n  };\r\n  integrity_verified: boolean;\r\n}\r\n\r\nexport interface CleanDataLoadResult {\r\n  success: boolean;\r\n  data: ComprehensiveData;\r\n  manifest: DataManifest;\r\n  errors: string[];\r\n  warnings: string[];\r\n  loadTime: number;\r\n}\r\n\r\n/**\r\n * Clean Data Loader - Loads pre-processed data from the ETL pipeline\r\n */\r\nexport class CleanDataLoader {\r\n  // Handle both development and production (GitHub Pages) paths\r\n  private static readonly BASE_PATH = import.meta.env.BASE_URL || '/';\r\n  private static readonly ARTIFACTS_PATH = `${CleanDataLoader.BASE_PATH}artifacts`;\r\n  private static readonly CLEAN_DATA_PATH = `${CleanDataLoader.BASE_PATH}artifacts/clean_data`;\r\n  private static readonly MANIFEST_PATH = `${CleanDataLoader.BASE_PATH}artifacts/data_manifest.json`;\r\n  private static readonly CACHE_TTL = 5 * 60 * 1000; // 5 minutes cache\r\n  \r\n  private static cache: Map<string, { data: any; timestamp: number }> = new Map();\r\n  private manifest: DataManifest | null = null;\r\n\r\n  /**\r\n   * Load the data manifest to understand what clean data is available\r\n   */\r\n  private async loadManifest(): Promise<DataManifest> {\r\n    if (this.manifest) {\r\n      return this.manifest;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(CleanDataLoader.MANIFEST_PATH);\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to load manifest: ${response.statusText}`);\r\n      }\r\n      \r\n      this.manifest = await response.json();\r\n      \r\n      // Validate manifest\r\n      if (!this.manifest?.integrity_verified) {\r\n        logger.warn('Data integrity not verified in manifest');\r\n      }\r\n      \r\n      logger.info('Data manifest loaded successfully', {\r\n        version: this.manifest.version,\r\n        files: Object.keys(this.manifest.files).length,\r\n        generated_at: this.manifest.generated_at\r\n      });\r\n      \r\n      return this.manifest;\r\n    } catch (error) {\r\n      logger.error('Failed to load data manifest', { error });\r\n      throw new Error('Data manifest not available. Please run the ETL pipeline first.');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if cached data is still fresh\r\n   */\r\n  private isCacheFresh(key: string): boolean {\r\n    const cached = CleanDataLoader.cache.get(key);\r\n    if (!cached) return false;\r\n    \r\n    const age = Date.now() - cached.timestamp;\r\n    return age < CleanDataLoader.CACHE_TTL;\r\n  }\r\n\r\n  /**\r\n   * Load a specific cleaned CSV file\r\n   */\r\n  private async loadCleanCSV<T>(filename: string, parser?: (row: any, idx?: number) => T): Promise<T[]> {\r\n    // Check cache\r\n    if (this.isCacheFresh(filename)) {\r\n      logger.info(`Loading ${filename} from cache`);\r\n      return CleanDataLoader.cache.get(filename)!.data;\r\n    }\r\n\r\n    try {\r\n      const path = `${CleanDataLoader.CLEAN_DATA_PATH}/${filename}`;\r\n      const response = await fetch(path);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to load ${filename}: ${response.statusText}`);\r\n      }\r\n      \r\n      const text = await response.text();\r\n      \r\n      // Parse CSV using standardized configuration\r\n      const result = parseCSV(text, {\r\n        header: true,\r\n        dynamicTyping: false, // We handle typing ourselves\r\n        skipEmptyLines: 'greedy'\r\n      });\r\n      \r\n      if (result.errors.length > 0) {\r\n        logger.warn(`Errors parsing ${filename}:`, result.errors);\r\n      }\r\n      \r\n      let data = result.data;\r\n      \r\n      // Validate against schema if available\r\n      const schema = getSchemaForFile(filename);\r\n      if (schema) {\r\n        let validRows = 0;\r\n        let totalWarnings = 0;\r\n        let totalErrors = 0;\r\n        \r\n        data.forEach((row, idx) => {\r\n          const validation = validateRow(row, schema);\r\n          if (validation.valid) {\r\n            validRows++;\r\n          } else {\r\n            totalErrors += validation.errors.length;\r\n            if (validation.errors.length > 0 && idx < 5) {\r\n              logger.warn(`Row ${idx + 1} validation errors in ${filename}:`, validation.errors);\r\n            }\r\n          }\r\n          totalWarnings += validation.warnings.length;\r\n        });\r\n        \r\n        const stats = getCompletenessStats(data);\r\n        logger.info(`Schema validation for ${filename}: ${validRows}/${data.length} valid rows, ` +\r\n                   `${totalErrors} errors, ${totalWarnings} warnings, ` +\r\n                   `${stats.completenessPercentage.toFixed(1)}% complete`);\r\n      }\r\n      \r\n      // Apply custom parser if provided\r\n      if (parser) {\r\n        data = data.map((row, idx) => parser(row, idx));\r\n      }\r\n      \r\n      // Cache the result\r\n      CleanDataLoader.cache.set(filename, {\r\n        data,\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      logger.info(`Loaded ${data.length} rows from ${filename}`);\r\n      return data;\r\n      \r\n    } catch (error) {\r\n      logger.error(`Failed to load ${filename}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load all clean data from the artifacts directory\r\n   */\r\n  public async loadAllCleanData(): Promise<CleanDataLoadResult> {\r\n    const startTime = performance.now();\r\n    const errors: string[] = [];\r\n    const warnings: string[] = [];\r\n    \r\n    try {\r\n      // Load manifest first\r\n      const manifest = await this.loadManifest();\r\n      \r\n      // Check if clean data is available\r\n      if (!manifest.files || Object.keys(manifest.files).length === 0) {\r\n        throw new Error('No clean data files available. Please run the ETL pipeline.');\r\n      }\r\n      \r\n      // Check data freshness\r\n      const dataAge = Date.now() - new Date(manifest.generated_at).getTime();\r\n      if (dataAge > 24 * 60 * 60 * 1000) { // Older than 24 hours\r\n        warnings.push('Data is more than 24 hours old. Consider running the ETL pipeline.');\r\n      }\r\n      \r\n      logger.info('Loading clean data from artifacts...');\r\n      \r\n      // Load each dataset in parallel\r\n      const [\r\n        projections,\r\n        adpData,\r\n        historicalStats,\r\n        preseasonRankings\r\n      ] = await Promise.all([\r\n        this.loadProjections(),\r\n        this.loadADPData(),\r\n        this.loadHistoricalStats(),\r\n        this.loadPreseasonRankings()\r\n      ]);\r\n      \r\n      // Compile comprehensive data structure\r\n      const comprehensiveData: ComprehensiveData = {\r\n        // Core data\r\n        adpData,\r\n        projections,\r\n        historicalStats,\r\n        players: this.buildPlayersList(projections, adpData),\r\n        \r\n        // These would need additional loading\r\n        teamMetrics: new Map(),\r\n        teamComposites: new Map(),\r\n        playerAdvanced: new Map(),\r\n        playerStats: new Map(),\r\n        depthCharts: {\r\n          teams: [],\r\n          byPlayer: new Map(),\r\n          byTeam: new Map()\r\n        },\r\n        \r\n        // Data quality report from manifest\r\n        deduplicationReport: {\r\n          adpConflicts: [],\r\n          projectionConflicts: [],\r\n          dataQualityScore: this.calculateDataQualityScore(manifest),\r\n          flaggedForReview: []\r\n        },\r\n        \r\n        positionEligibility: new Map(),\r\n        advancedStats: [],\r\n        teamData: [],\r\n        scheduleData: null\r\n      };\r\n      \r\n      const loadTime = performance.now() - startTime;\r\n      \r\n      logger.info(`Clean data loaded successfully in ${loadTime.toFixed(2)}ms`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: comprehensiveData,\r\n        manifest,\r\n        errors,\r\n        warnings,\r\n        loadTime\r\n      };\r\n      \r\n    } catch (error) {\r\n      const errorMsg = error instanceof Error ? error.message : String(error);\r\n      errors.push(errorMsg);\r\n      logger.error('Failed to load clean data:', error);\r\n      \r\n      return {\r\n        success: false,\r\n        data: this.getEmptyData(),\r\n        manifest: this.getEmptyManifest(),\r\n        errors,\r\n        warnings,\r\n        loadTime: performance.now() - startTime\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build SOS map from CSV data for quick lookup\r\n   */\r\n  private async buildSOSMap(): Promise<Map<string, number>> {\r\n    const sosMap = new Map<string, number>();\r\n    \r\n    try {\r\n      const sosData = await this.loadCleanCSV<any>('sos_2025.csv');\r\n      sosData.forEach(row => {\r\n        // New format: Team, SOS_Rank, SOS_Percentage, SOS_Normalized\r\n        if (row.Team) {\r\n          const teamCode = row.Team;\r\n          const seasonSOS = safeParseFloat(row.SOS_Normalized, null, 0);\r\n          \r\n          // Set SOS for team\r\n          sosMap.set(teamCode, seasonSOS);\r\n          \r\n          // Debug specific teams\r\n          if (teamCode === 'DET' || teamCode === 'GB' || teamCode === 'SF' || teamCode === 'NYG') {\r\n            logger.info(`SOS Debug: ${teamCode}, SOS = ${seasonSOS}`);\r\n          }\r\n        }\r\n      });\r\n      logger.info(`Built SOS map for ${sosMap.size} teams`);\r\n      \r\n      // Debug: Show what's in the map for key teams\r\n      const debugTeams = ['DET', 'GB', 'SF', 'JAX', 'NYG'];\r\n      debugTeams.forEach(team => {\r\n        if (sosMap.has(team)) {\r\n          logger.info(`SOS Map contains ${team}: ${sosMap.get(team)}`);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      logger.warn('Could not load SOS data:', error);\r\n    }\r\n    \r\n    return sosMap;\r\n  }\r\n\r\n  /**\r\n   * Load projections data\r\n   */\r\n  private async loadProjections(): Promise<PlayerProjection[]> {\r\n    // Build SOS lookup map\r\n    const sosMap = await this.buildSOSMap();\r\n    \r\n    // Use projections_2025_with_adp.csv which has correct market values in column 65\r\n    return this.loadCleanCSV<PlayerProjection>('projections_2025_with_adp.csv', (row) => ({\r\n      id: `${row.playerName}_${row.position}_${row.teamName}`.toLowerCase(),\r\n      name: safeParseString(row.playerName) || '',\r\n      position: safeParseString(row.position) || '',\r\n      team: safeParseString(row.teamName) || '',\r\n      byeWeek: safeParseInt(row.byeWeek) || undefined,\r\n      projectedPoints: safeParseFloat(row.fantasyPoints, 2, null) ?? 0,\r\n      teamSeasonSOS: sosMap.get(row.teamName) || 0,  // Just lookup the SOS by team\r\n      \r\n      // Projection details\r\n      games: safeParseFloat(row.games, 1, null) ?? 0,\r\n      \r\n      // Passing stats\r\n      passingYards: safeParseFloat(row.passYds, 1, null) ?? 0,\r\n      passingTDs: safeParseFloat(row.passTd, 1, null) ?? 0,\r\n      passingINTs: safeParseFloat(row.passInt, 1, null) ?? 0,\r\n      \r\n      // Rushing stats\r\n      rushingYards: safeParseFloat(row.rushYds, 1, null) ?? 0,\r\n      rushingTDs: safeParseFloat(row.rushTd, 1, null) ?? 0,\r\n      \r\n      // Receiving stats\r\n      receptions: safeParseFloat(row.recvReceptions, 1, null) ?? 0,\r\n      receivingYards: safeParseFloat(row.recvYds, 1, null) ?? 0,\r\n      receivingTDs: safeParseFloat(row.recvTd, 1, null) ?? 0,\r\n      \r\n      // Confidence and value\r\n      confidence: 0.85, // Default confidence since cleaned data\r\n      marketValue: (() => {\r\n        const value = safeParseInt(row.marketValue) ?? 1;\r\n        // Debug log for Breece Hall\r\n        if (row.playerName === 'Breece Hall') {\r\n          console.log('[DEBUG] Breece Hall marketValue:', {\r\n            raw: row.marketValue,\r\n            parsed: value,\r\n            auctionValue: row.auctionValue\r\n          });\r\n        }\r\n        return value;\r\n      })()\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Load ADP data from all sources and calculate aggregate\r\n   */\r\n  private async loadADPData(): Promise<PlayerADP[]> {\r\n    // Build SOS lookup map\r\n    const sosMap = await this.buildSOSMap();\r\n    \r\n    // Map to store all ADP values for each player\r\n    const playerADPMap = new Map<string, {\r\n      player: PlayerADP,\r\n      adpValues: { source: string, value: number }[]\r\n    }>();\r\n\r\n    // Helper to create player key\r\n    const makeKey = (name: string, team: string, pos: string) => \r\n      `${name}_${team}_${pos}`.toLowerCase().replace(/[^a-z0-9_]/g, '');\r\n\r\n    // Load primary ADP data (adp0)\r\n    const primaryADP = await this.loadCleanCSV<PlayerADP>('adp0_2025.csv', (row) => ({\r\n      id: `${row['Full Name']}_${row.Position}_${row['Team Abbreviation']}`.toLowerCase(),\r\n      name: safeParseString(row['Full Name']) || '',\r\n      position: safeParseString(row.Position) || '',\r\n      team: safeParseString(row['Team Abbreviation']) || '',\r\n      adp: safeParseFloat(row.ADP, 2) ?? 999,\r\n      adpRank: safeParseInt(row['Overall Rank']) ?? 999,\r\n      auctionValue: safeParseInt(row['Auction Value']) ?? 1,\r\n      isRookie: row['Is Rookie'] === 'Yes',\r\n      byeWeek: safeParseInt(row['Bye Week']) || undefined,\r\n      positionRank: safeParseInt(row['Position Rank']) ?? 999,\r\n      overallRank: safeParseInt(row['Overall Rank']) ?? 999,\r\n      teamSeasonSOS: sosMap.get(row['Team Abbreviation']) || 0, // Add SOS\r\n      age: undefined, // adp0 doesn't have age\r\n      adpSources: [] // Track individual sources\r\n    }));\r\n\r\n    // Add primary ADP to map\r\n    primaryADP.forEach(player => {\r\n      const key = makeKey(player.name, player.team, player.position);\r\n      playerADPMap.set(key, {\r\n        player,\r\n        adpValues: [{ source: 'adp0', value: player.adp }]\r\n      });\r\n    });\r\n    \r\n    // Load adp2_2025.csv for age and injury status data\r\n    try {\r\n      const supplementalData = await this.loadCleanCSV<any>('adp2_2025.csv', (row) => ({\r\n        name: safeParseString(row.Name),\r\n        age: safeParseInt(row.Age) || undefined,\r\n        status: safeParseString(row.Status) || 'Healthy',\r\n        fantasyScore: safeParseFloat(row['Fantasy Score'], 2) || undefined\r\n      }));\r\n      \r\n      // Create lookup maps\r\n      const supplementalMap = new Map<string, any>();\r\n      supplementalData.forEach(player => {\r\n        if (player.name) {\r\n          // Normalize name for matching\r\n          const normalizedName = player.name.toLowerCase().replace(/[^a-z]/g, '');\r\n          supplementalMap.set(normalizedName, player);\r\n        }\r\n      });\r\n      \r\n      // Merge supplemental data into primary ADP\r\n      primaryADP.forEach(player => {\r\n        const normalizedName = player.name.toLowerCase().replace(/[^a-z]/g, '');\r\n        const supplemental = supplementalMap.get(normalizedName);\r\n        if (supplemental) {\r\n          player.age = supplemental.age;\r\n          // Map injury status to standard codes\r\n          const statusMap: Record<string, string> = {\r\n            'Healthy': null,\r\n            'Questionable': 'Q',\r\n            'Doubtful': 'D',\r\n            'Out': 'O',\r\n            'IR': 'IR',\r\n            'PUP': 'PUP',\r\n            'Suspended': 'SUS'\r\n          };\r\n          player.injuryStatus = statusMap[supplemental.status] || null;\r\n          player.fantasyScore = supplemental.fantasyScore;\r\n        }\r\n      });\r\n    } catch (error) {\r\n      logger.warn('Could not load supplemental data from adp2_2025.csv:', error);\r\n    }\r\n\r\n    // Load adp1_2025.csv (largest source with 4000+ players)\r\n    try {\r\n      const adp1Data = await this.loadCleanCSV<any>('adp1_2025.csv', (row) => {\r\n        // Helper to parse values that might be \"-\" or have commas\r\n        const parseValue = (val: string) => {\r\n          const parsed = safeParseFloat(val, 2);\r\n          return parsed ?? 999; // Use 999 for missing ADP values\r\n        };\r\n\r\n        // Process player from adp1\r\n        // The clean data has been preprocessed with proper column names\r\n        // ESPN_AAV contains the actual auction values\r\n        \r\n        return {\r\n          name: row.Name,\r\n          team: row.Team,\r\n          position: row.Pos,\r\n          espn: parseValue(row.ESPN),\r\n          sleeper: parseValue(row.Sleeper),\r\n          fantrax: parseValue(row.Fantrax),\r\n          mfl: parseValue(row.MFL),\r\n          nffc: parseValue(row.NFFC),\r\n          // ESPN_AAV contains the actual auction values\r\n          aav: parseValue(row.ESPN_AAV || row.MFL_AAV || '1')\r\n        };\r\n      });\r\n\r\n      adp1Data.forEach(player => {\r\n        if (player.name && player.team && player.position) {\r\n          const key = makeKey(player.name, player.team, player.position);\r\n          const existing = playerADPMap.get(key);\r\n          \r\n          // Process fullbacks and special positions\r\n          \r\n          // Calculate mean ADP from available sources in adp1\r\n          const adpValues = [\r\n            player.espn, player.sleeper, player.fantrax, \r\n            player.mfl, player.nffc\r\n          ].filter(v => v && v < 500);\r\n          \r\n          // If no valid ADP values but player exists, use a high default\r\n          if (adpValues.length === 0 && player.name) {\r\n            // For players with no ADP, use 300 as default\r\n            const defaultAdp = 300;\r\n            \r\n            if (existing) {\r\n              existing.adpValues.push({ source: 'adp1', value: defaultAdp });\r\n            } else {\r\n              // Still add the player with high ADP\r\n              playerADPMap.set(key, {\r\n                player: {\r\n                  id: `${player.name}_${player.position}_${player.team}`.toLowerCase(),\r\n                  name: player.name,\r\n                  position: player.position,\r\n                  team: player.team,\r\n                  adp: defaultAdp,\r\n                  adpRank: defaultAdp,\r\n                  auctionValue: player.aav && player.aav < 999 ? Math.round(player.aav) : 1,\r\n                  isRookie: false,\r\n                  byeWeek: undefined,\r\n                  positionRank: 999,\r\n                  overallRank: defaultAdp,\r\n                  age: undefined,\r\n                  adpSources: []\r\n                },\r\n                adpValues: [{ source: 'adp1', value: defaultAdp }]\r\n              });\r\n            }\r\n          } else if (adpValues.length > 0) {\r\n            const meanAdp = adpValues.reduce((a, b) => a + b, 0) / adpValues.length;\r\n            \r\n            if (existing) {\r\n              existing.adpValues.push({ source: 'adp1', value: meanAdp });\r\n              // Update auction value ONLY if we don't have a good one from adp0\r\n              // adp0 has the authoritative auction values, don't overwrite with ESPN_AAV/MFL_AAV\r\n              if (player.aav && player.aav > 0 && player.aav < 999) {\r\n                // Only update if current value is 1 (default) or missing\r\n                if (!existing.player.auctionValue || existing.player.auctionValue <= 1) {\r\n                  existing.player.auctionValue = Math.round(player.aav);\r\n                }\r\n                // Debug for Breece Hall\r\n                if (player.name === 'Breece Hall') {\r\n                  console.log('[ROOT CAUSE FIX] Breece Hall auction value:', {\r\n                    fromAdp0: existing.player.auctionValue,\r\n                    fromAdp1AAV: player.aav,\r\n                    keeping: existing.player.auctionValue\r\n                  });\r\n                }\r\n              }\r\n            } else {\r\n              // New player not in adp0\r\n              playerADPMap.set(key, {\r\n                player: {\r\n                  id: `${player.name}_${player.position}_${player.team}`.toLowerCase(),\r\n                  name: player.name,\r\n                  position: player.position,\r\n                  team: player.team,\r\n                  adp: meanAdp,\r\n                  adpRank: Math.round(meanAdp),\r\n                  auctionValue: player.aav && player.aav < 999 ? Math.round(player.aav) : 1,\r\n                  isRookie: false,\r\n                  byeWeek: undefined,\r\n                  positionRank: 999,\r\n                  overallRank: Math.round(meanAdp),\r\n                  age: undefined,\r\n                  teamSeasonSOS: sosMap.get(player.team) || 0,  // Add SOS\r\n                  adpSources: []\r\n                },\r\n                adpValues: [{ source: 'adp1', value: meanAdp }]\r\n              });\r\n            }\r\n          }\r\n        }\r\n      });\r\n      logger.info(`Loaded ${adp1Data.length} entries from adp1_2025.csv`);\r\n    } catch (error) {\r\n      logger.warn('Could not load adp1_2025.csv:', error);\r\n    }\r\n\r\n    // Load adp3_2025.csv  \r\n    try {\r\n      const adp3Data = await this.loadCleanCSV<any>('adp3_2025.csv', (row) => ({\r\n        adp: safeParseFloat(row.ADP, 2) ?? 999,\r\n        position: safeParseString(row.Position)?.split('-')[0] || '',\r\n        name: safeParseString(row.Player),\r\n        team: safeParseString(row.Team)\r\n      }));\r\n\r\n      adp3Data.forEach(player => {\r\n        if (player.name && player.team && player.position) {\r\n          const key = makeKey(player.name, player.team, player.position);\r\n          const existing = playerADPMap.get(key);\r\n          \r\n          if (player.adp && player.adp < 500) {\r\n            if (existing) {\r\n              existing.adpValues.push({ source: 'adp3', value: player.adp });\r\n            } else {\r\n              // New player not in other sources\r\n              playerADPMap.set(key, {\r\n                player: {\r\n                  id: `${player.name}_${player.position}_${player.team}`.toLowerCase(),\r\n                  name: player.name,\r\n                  position: player.position,\r\n                  team: player.team,\r\n                  adp: player.adp,\r\n                  adpRank: Math.round(player.adp),\r\n                  auctionValue: 1,\r\n                  isRookie: false,\r\n                  byeWeek: undefined,\r\n                  positionRank: 999,\r\n                  overallRank: Math.round(player.adp),\r\n                  age: undefined,\r\n                  teamSeasonSOS: sosMap.get(player.team) || 0,  // Add SOS\r\n                  adpSources: []\r\n                },\r\n                adpValues: [{ source: 'adp3', value: player.adp }]\r\n              });\r\n            }\r\n          }\r\n        }\r\n      });\r\n      logger.info(`Loaded ${adp3Data.length} entries from adp3_2025.csv`);\r\n    } catch (error) {\r\n      logger.warn('Could not load adp3_2025.csv:', error);\r\n    }\r\n\r\n    // Load adp4_2025.txt\r\n    try {\r\n      const response4 = await fetch(`${CleanDataLoader.CLEAN_DATA_PATH}/adp4_2025.txt`);\r\n      if (response4.ok) {\r\n        const text4 = await response4.text();\r\n        const lines4 = text4.trim().split('\\n').slice(1); // Skip header\r\n        \r\n        lines4.forEach(line => {\r\n          const parts = line.split(',');\r\n          if (parts.length >= 5) {\r\n            const name = parts[1]?.trim();\r\n            const position = parts[2]?.trim();\r\n            const team = parts[3]?.trim();\r\n            const adp = safeParseFloat(parts[5], 2) ?? 999;\r\n            \r\n            if (name && position && team) {\r\n              const key = makeKey(name, team, position);\r\n              const existing = playerADPMap.get(key);\r\n              \r\n              if (existing) {\r\n                existing.adpValues.push({ source: 'adp4', value: adp });\r\n              } else {\r\n                // Create new player entry if not in primary\r\n                const newPlayer: PlayerADP = {\r\n                  id: key,\r\n                  name,\r\n                  position: position as any,\r\n                  team,\r\n                  adp,\r\n                  adpRank: safeParseInt(parts[0]) ?? 999,\r\n                  auctionValue: 1,\r\n                  positionRank: 999,\r\n                  adpSources: []\r\n                };\r\n                playerADPMap.set(key, {\r\n                  player: newPlayer,\r\n                  adpValues: [{ source: 'adp4', value: adp }]\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n        logger.info(`Loaded ${lines4.length} entries from adp4_2025.txt`);\r\n      }\r\n    } catch (error) {\r\n      logger.warn('Could not load adp4_2025.txt:', error);\r\n    }\r\n\r\n    // Load adp5_2025.txt\r\n    try {\r\n      const response5 = await fetch(`${CleanDataLoader.CLEAN_DATA_PATH}/adp5_2025.txt`);\r\n      if (response5.ok) {\r\n        const text5 = await response5.text();\r\n        const lines5 = text5.trim().split('\\n').slice(1); // Skip header\r\n        \r\n        lines5.forEach(line => {\r\n          const parts = line.split(',');\r\n          if (parts.length >= 6) {\r\n            const name = parts[2]?.trim();\r\n            const position = parts[3]?.trim();\r\n            const team = parts[4]?.trim();\r\n            const adp = safeParseFloat(parts[1], 2) ?? 999;\r\n            \r\n            if (name && position && team) {\r\n              const key = makeKey(name, team, position);\r\n              const existing = playerADPMap.get(key);\r\n              \r\n              if (existing) {\r\n                existing.adpValues.push({ source: 'adp5', value: adp });\r\n              } else {\r\n                // Create new player entry if not in primary\r\n                const newPlayer: PlayerADP = {\r\n                  id: key,\r\n                  name,\r\n                  position: position as any,\r\n                  team,\r\n                  adp,\r\n                  adpRank: 999,\r\n                  auctionValue: 1,\r\n                  positionRank: 999,\r\n                  teamSeasonSOS: sosMap.get(team) || 0,  // Add SOS\r\n                  adpSources: []\r\n                };\r\n                playerADPMap.set(key, {\r\n                  player: newPlayer,\r\n                  adpValues: [{ source: 'adp5', value: adp }]\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n        logger.info(`Loaded ${lines5.length} entries from adp5_2025.txt`);\r\n      }\r\n    } catch (error) {\r\n      logger.warn('Could not load adp5_2025.txt:', error);\r\n    }\r\n\r\n    // Calculate aggregate ADP for each player\r\n    const finalPlayers: PlayerADP[] = [];\r\n    playerADPMap.forEach((entry, key) => {\r\n      const { player, adpValues } = entry;\r\n      \r\n      // Calculate mean ADP from all sources\r\n      const validValues = adpValues.filter(v => v.value < 500); // Filter out placeholder 999 values\r\n      if (validValues.length > 0) {\r\n        const sum = validValues.reduce((acc, v) => acc + v.value, 0);\r\n        player.adp = sum / validValues.length;\r\n        \r\n        // Store individual source values for reference\r\n        player.adpSources = adpValues;\r\n      }\r\n      \r\n      // Keep the actual market auction value if we have it, otherwise use a default\r\n      // Don't manufacture auction values from ADP - that creates circular logic\r\n      if (!player.auctionValue || player.auctionValue === 1) {\r\n        // Only set a minimal default if we don't have real market data\r\n        player.auctionValue = 1;\r\n      }\r\n      \r\n      finalPlayers.push(player);\r\n    });\r\n\r\n    logger.info(`Loaded ${finalPlayers.length} total players with aggregate ADP from ${playerADPMap.size} unique players`);\r\n    \r\n    // Final player list completed\r\n    \r\n    return finalPlayers;\r\n  }\r\n\r\n  /**\r\n   * Load historical stats\r\n   */\r\n  private async loadHistoricalStats(): Promise<PlayerStats[]> {\r\n    const stats: PlayerStats[] = [];\r\n    \r\n    // Load 2024 stats\r\n    const [passing2024, rushing2024] = await Promise.all([\r\n      this.loadCleanCSV('fantasy-stats-passing_2024.csv'),\r\n      this.loadCleanCSV('fantasy-stats-receiving_rushing_2024.csv')\r\n    ]);\r\n    \r\n    // Process and combine stats\r\n    // Implementation would parse and structure the historical data\r\n    \r\n    return stats;\r\n  }\r\n\r\n  /**\r\n   * Load preseason rankings\r\n   */\r\n  private async loadPreseasonRankings(): Promise<any[]> {\r\n    return this.loadCleanCSV('preseason_rankings_2025.csv');\r\n  }\r\n\r\n  /**\r\n   * Build players list from projections and ADP data\r\n   */\r\n  private buildPlayersList(projections: PlayerProjection[], adpData: PlayerADP[]): Player[] {\r\n    const playersMap = new Map<string, Player>();\r\n    \r\n    // Start with projections\r\n    for (const proj of projections) {\r\n      playersMap.set(proj.id, {\r\n        id: proj.id,\r\n        name: proj.name,\r\n        position: proj.position,\r\n        team: proj.team,\r\n        byeWeek: proj.byeWeek,\r\n        teamSeasonSOS: proj.teamSeasonSOS,\r\n        points: proj.projectedPoints || 0,\r\n        adp: 999, // Will be updated from ADP data\r\n        auctionValue: proj.marketValue || 1\r\n      });\r\n    }\r\n    \r\n    // Merge with ADP data\r\n    for (const adp of adpData) {\r\n      const existing = playersMap.get(adp.id);\r\n      if (existing) {\r\n        existing.adp = adp.adp;\r\n        existing.auctionValue = adp.auctionValue;\r\n      } else {\r\n        // Add players that are only in ADP\r\n        playersMap.set(adp.id, {\r\n          id: adp.id,\r\n          name: adp.name,\r\n          position: adp.position,\r\n          team: adp.team,\r\n          byeWeek: adp.byeWeek,\r\n          teamSeasonSOS: adp.teamSeasonSOS,\r\n          points: 0, // No projection available\r\n          adp: adp.adp,\r\n          auctionValue: adp.auctionValue\r\n        });\r\n      }\r\n    }\r\n    \r\n    return Array.from(playersMap.values());\r\n  }\r\n\r\n  /**\r\n   * Calculate data quality score based on manifest statistics\r\n   */\r\n  private calculateDataQualityScore(manifest: DataManifest): number {\r\n    const stats = manifest.statistics;\r\n    if (!stats) return 0;\r\n    \r\n    let score = 100;\r\n    \r\n    // Deduct points for failures and issues\r\n    score -= (stats.failed_loads || 0) * 10;\r\n    score -= (stats.rows_quarantined || 0) / Math.max(stats.rows_parsed || 1, 1) * 20;\r\n    score -= Math.min((stats.coercions || 0) / 100, 10); // Max 10 point deduction for coercions\r\n    \r\n    // Ensure score is between 0 and 100\r\n    return Math.max(0, Math.min(100, score));\r\n  }\r\n\r\n  /**\r\n   * Get empty data structure for error cases\r\n   */\r\n  private getEmptyData(): ComprehensiveData {\r\n    return {\r\n      adpData: [],\r\n      projections: [],\r\n      historicalStats: [],\r\n      players: [],\r\n      teamMetrics: new Map(),\r\n      teamComposites: new Map(),\r\n      playerAdvanced: new Map(),\r\n      playerStats: new Map(),\r\n      depthCharts: {\r\n        teams: [],\r\n        byPlayer: new Map(),\r\n        byTeam: new Map()\r\n      },\r\n      deduplicationReport: {\r\n        adpConflicts: [],\r\n        projectionConflicts: [],\r\n        dataQualityScore: 0,\r\n        flaggedForReview: []\r\n      },\r\n      positionEligibility: new Map(),\r\n      advancedStats: [],\r\n      teamData: [],\r\n      scheduleData: null\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get empty manifest for error cases\r\n   */\r\n  private getEmptyManifest(): DataManifest {\r\n    return {\r\n      version: '0.0.0',\r\n      generated_at: new Date().toISOString(),\r\n      pipeline_version: '0.0.0',\r\n      data_location: '',\r\n      files: {},\r\n      statistics: {\r\n        files_processed: 0,\r\n        successful_loads: 0,\r\n        failed_loads: 0,\r\n        rows_parsed: 0,\r\n        rows_quarantined: 0,\r\n        coercions: 0,\r\n        duplicates: 0\r\n      },\r\n      integrity_verified: false\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Clear the data cache\r\n   */\r\n  public clearCache(): void {\r\n    CleanDataLoader.cache.clear();\r\n    this.manifest = null;\r\n    logger.info('Data cache cleared');\r\n  }\r\n\r\n  /**\r\n   * Check if ETL pipeline needs to be run\r\n   */\r\n  public async needsETLUpdate(): Promise<boolean> {\r\n    try {\r\n      const manifest = await this.loadManifest();\r\n      \r\n      // Check if data exists\r\n      if (!manifest.files || Object.keys(manifest.files).length === 0) {\r\n        return true;\r\n      }\r\n      \r\n      // Check data age (older than 24 hours)\r\n      const dataAge = Date.now() - new Date(manifest.generated_at).getTime();\r\n      if (dataAge > 24 * 60 * 60 * 1000) {\r\n        return true;\r\n      }\r\n      \r\n      // Check integrity\r\n      if (!manifest.integrity_verified) {\r\n        return true;\r\n      }\r\n      \r\n      return false;\r\n    } catch {\r\n      // If we can't load manifest, we need to run ETL\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const cleanDataLoader = new CleanDataLoader();","import { PlayerProjection } from '@/types';\r\n\r\ninterface ProjectionSource {\r\n  name: string;\r\n  weight: number;\r\n  projections: PlayerProjection[];\r\n}\r\n\r\ninterface AggregatedProjection {\r\n  player: string;\r\n  position: string;\r\n  team: string;\r\n  sources: Map<string, PlayerProjection>;\r\n  weightedAverage: PlayerProjection;\r\n}\r\n\r\n/**\r\n * Aggregates projections from multiple sources using weighted averaging\r\n * Priority/Weight:\r\n * - FantasyPros: 0.4 (most comprehensive)\r\n * - CBS: 0.35 (detailed position-specific)\r\n * - projections_2025: 0.25 (good baseline)\r\n */\r\nexport class ProjectionAggregator {\r\n  private readonly SOURCE_WEIGHTS = {\r\n    'fantasypros': 0.40,\r\n    'cbs': 0.35,\r\n    'projections_2025': 0.25,\r\n    'flx': 0.0  // FLX is just duplicates, use for validation only\r\n  };\r\n\r\n  /**\r\n   * Aggregate projections from multiple sources\r\n   */\r\n  aggregateProjections(sources: ProjectionSource[]): PlayerProjection[] {\r\n    // Group projections by player (normalized name + position)\r\n    const playerMap = new Map<string, AggregatedProjection>();\r\n    \r\n    for (const source of sources) {\r\n      for (const proj of source.projections) {\r\n        const key = this.getPlayerKey(proj);\r\n        \r\n        if (!playerMap.has(key)) {\r\n          playerMap.set(key, {\r\n            player: proj.name,\r\n            position: proj.position,\r\n            team: proj.team || 'FA',\r\n            sources: new Map(),\r\n            weightedAverage: {} as PlayerProjection\r\n          });\r\n        }\r\n        \r\n        const aggregated = playerMap.get(key)!;\r\n        aggregated.sources.set(source.name, proj);\r\n      }\r\n    }\r\n    \r\n    // Calculate weighted averages\r\n    const results: PlayerProjection[] = [];\r\n    \r\n    for (const [key, aggregated] of playerMap) {\r\n      const weightedProj = this.calculateWeightedAverage(aggregated);\r\n      \r\n      // Only include if we have reasonable confidence (at least 1 source)\r\n      if (aggregated.sources.size > 0 && weightedProj.projectedPoints > 0) {\r\n        results.push(weightedProj);\r\n      }\r\n    }\r\n    \r\n    // Sort by projected points descending\r\n    results.sort((a, b) => (b.projectedPoints || 0) - (a.projectedPoints || 0));\r\n    \r\n    return results;\r\n  }\r\n  \r\n  /**\r\n   * Calculate weighted average of projections\r\n   */\r\n  private calculateWeightedAverage(aggregated: AggregatedProjection): PlayerProjection {\r\n    let totalWeight = 0;\r\n    let weightedPoints = 0;\r\n    let weightedFloor = 0;\r\n    let weightedCeiling = 0;\r\n    \r\n    // Aggregate numeric values\r\n    const numericFields: {[key: string]: number} = {\r\n      projectedPoints: 0,\r\n      floorPoints: 0,\r\n      ceilingPoints: 0,\r\n      passingYards: 0,\r\n      passingTDs: 0,\r\n      rushingYards: 0,\r\n      rushingTDs: 0,\r\n      receivingYards: 0,\r\n      receivingTDs: 0,\r\n      receptions: 0,\r\n      targets: 0,\r\n      carries: 0\r\n    };\r\n    \r\n    // Calculate weighted sums\r\n    for (const [sourceName, proj] of aggregated.sources) {\r\n      const weight = this.getSourceWeight(sourceName);\r\n      totalWeight += weight;\r\n      \r\n      // Weight all numeric fields\r\n      for (const field in numericFields) {\r\n        const value = (proj as any)[field];\r\n        if (value !== undefined && value !== null && !isNaN(value)) {\r\n          numericFields[field] += value * weight;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Calculate weighted averages\r\n    if (totalWeight > 0) {\r\n      for (const field in numericFields) {\r\n        numericFields[field] = numericFields[field] / totalWeight;\r\n      }\r\n    }\r\n    \r\n    // Find the most complete/recent source for non-numeric fields\r\n    const bestSource = this.getBestSource(aggregated.sources);\r\n    \r\n    // Build final projection\r\n    const result: PlayerProjection = {\r\n      id: `${this.normalizePlayerName(aggregated.player)}_${aggregated.position}_${aggregated.team}`,\r\n      name: aggregated.player,\r\n      position: aggregated.position,\r\n      team: aggregated.team,\r\n      projectedPoints: Math.round(numericFields.projectedPoints * 10) / 10, // Round to 1 decimal\r\n      floorPoints: numericFields.floorPoints,\r\n      ceilingPoints: numericFields.ceilingPoints,\r\n      confidence: this.calculateConfidence(aggregated.sources),\r\n      \r\n      // Copy over other fields from best source\r\n      byeWeek: bestSource?.byeWeek,\r\n      age: bestSource?.age,\r\n      injuryStatus: bestSource?.injuryStatus,\r\n      isRookie: bestSource?.isRookie,\r\n      games: bestSource?.games,\r\n      teamSeasonSOS: bestSource?.teamSeasonSOS,  // Preserve SOS data\r\n      \r\n      // Include averaged stats\r\n      passingYards: numericFields.passingYards > 0 ? Math.round(numericFields.passingYards) : undefined,\r\n      passingTDs: numericFields.passingTDs > 0 ? Math.round(numericFields.passingTDs * 10) / 10 : undefined,\r\n      rushingYards: numericFields.rushingYards > 0 ? Math.round(numericFields.rushingYards) : undefined,\r\n      rushingTDs: numericFields.rushingTDs > 0 ? Math.round(numericFields.rushingTDs * 10) / 10 : undefined,\r\n      receivingYards: numericFields.receivingYards > 0 ? Math.round(numericFields.receivingYards) : undefined,\r\n      receivingTDs: numericFields.receivingTDs > 0 ? Math.round(numericFields.receivingTDs * 10) / 10 : undefined,\r\n      receptions: numericFields.receptions > 0 ? Math.round(numericFields.receptions) : undefined\r\n    };\r\n    \r\n    // Calculate floor and ceiling if not provided\r\n    if (!result.floorPoints && result.projectedPoints > 0) {\r\n      result.floorPoints = Math.round(result.projectedPoints * 0.75);\r\n    }\r\n    if (!result.ceilingPoints && result.projectedPoints > 0) {\r\n      result.ceilingPoints = Math.round(result.projectedPoints * 1.25);\r\n    }\r\n    \r\n    return result;\r\n  }\r\n  \r\n  /**\r\n   * Get weight for a source\r\n   */\r\n  private getSourceWeight(sourceName: string): number {\r\n    const normalized = sourceName.toLowerCase();\r\n    \r\n    if (normalized.includes('fantasypros')) return this.SOURCE_WEIGHTS.fantasypros;\r\n    if (normalized.includes('cbs')) return this.SOURCE_WEIGHTS.cbs;\r\n    if (normalized.includes('projections_2025')) return this.SOURCE_WEIGHTS.projections_2025;\r\n    if (normalized.includes('flx')) return this.SOURCE_WEIGHTS.flx;\r\n    \r\n    return 0.1; // Default low weight for unknown sources\r\n  }\r\n  \r\n  /**\r\n   * Calculate confidence based on number and agreement of sources\r\n   */\r\n  private calculateConfidence(sources: Map<string, PlayerProjection>): number {\r\n    if (sources.size === 0) return 0;\r\n    if (sources.size === 1) return 0.6;\r\n    \r\n    // Calculate standard deviation of projections\r\n    const projections = Array.from(sources.values()).map(p => p.projectedPoints || 0);\r\n    const mean = projections.reduce((a, b) => a + b, 0) / projections.length;\r\n    const variance = projections.reduce((sum, p) => sum + Math.pow(p - mean, 2), 0) / projections.length;\r\n    const stdDev = Math.sqrt(variance);\r\n    \r\n    // Lower standard deviation = higher confidence\r\n    const coefficientOfVariation = mean > 0 ? stdDev / mean : 1;\r\n    \r\n    // More sources = higher confidence\r\n    const sourceFactor = Math.min(1, sources.size / 3);\r\n    \r\n    // Calculate final confidence\r\n    let confidence = sourceFactor * 0.5; // Base from number of sources\r\n    \r\n    // Add confidence based on agreement\r\n    if (coefficientOfVariation < 0.1) confidence += 0.4;  // Very high agreement\r\n    else if (coefficientOfVariation < 0.2) confidence += 0.3;  // High agreement\r\n    else if (coefficientOfVariation < 0.3) confidence += 0.2;  // Moderate agreement\r\n    else if (coefficientOfVariation < 0.5) confidence += 0.1;  // Low agreement\r\n    \r\n    return Math.min(0.95, Math.max(0.3, confidence));\r\n  }\r\n  \r\n  /**\r\n   * Get the best/most complete source for non-numeric fields\r\n   */\r\n  private getBestSource(sources: Map<string, PlayerProjection>): PlayerProjection | undefined {\r\n    let bestSource: PlayerProjection | undefined;\r\n    let bestScore = -1;\r\n    \r\n    for (const [sourceName, proj] of sources) {\r\n      let score = 0;\r\n      \r\n      // Prefer FantasyPros\r\n      if (sourceName.includes('fantasypros')) score += 3;\r\n      else if (sourceName.includes('cbs')) score += 2;\r\n      else if (sourceName.includes('projections_2025')) score += 1;\r\n      \r\n      // Prefer sources with more complete data\r\n      if (proj.byeWeek) score++;\r\n      if (proj.team && proj.team !== 'FA') score++;\r\n      if (proj.age) score++;\r\n      if (proj.games) score++;\r\n      if (proj.injuryStatus) score++;\r\n      \r\n      if (score > bestScore) {\r\n        bestScore = score;\r\n        bestSource = proj;\r\n      }\r\n    }\r\n    \r\n    return bestSource;\r\n  }\r\n  \r\n  /**\r\n   * Get normalized player key for matching\r\n   */\r\n  private getPlayerKey(proj: PlayerProjection): string {\r\n    return `${this.normalizePlayerName(proj.name)}_${proj.position}`;\r\n  }\r\n  \r\n  /**\r\n   * Normalize player name for matching\r\n   */\r\n  private normalizePlayerName(name: string): string {\r\n    return name\r\n      .toLowerCase()\r\n      .replace(/[^a-z0-9]/g, '')\r\n      .replace(/jr$/g, '')\r\n      .replace(/sr$/g, '')\r\n      .replace(/ii$/g, '')\r\n      .replace(/iii$/g, '')\r\n      .replace(/iv$/g, '')\r\n      .replace(/v$/g, '');\r\n  }\r\n  \r\n  /**\r\n   * Validate projections are realistic\r\n   */\r\n  validateProjections(projections: PlayerProjection[]): PlayerProjection[] {\r\n    return projections.filter(proj => {\r\n      // Check for realistic ranges by position\r\n      const maxPoints = {\r\n        'QB': 450,\r\n        'RB': 400,\r\n        'WR': 400,\r\n        'TE': 300,\r\n        'K': 200,\r\n        'DST': 200,\r\n        'DEF': 200\r\n      }[proj.position] || 350;\r\n      \r\n      if (proj.projectedPoints <= 0 || proj.projectedPoints > maxPoints) {\r\n        console.warn(`Invalid projection for ${proj.name}: ${proj.projectedPoints} points`);\r\n        return false;\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  }\r\n}","/**\r\n * Player Resolver System for ESPN Fantasy Football Auction Draft\r\n * Handles foreign key resolution, name matching, and team standardization\r\n * Optimized for 2025-2026 season, full PPR, $200 budget\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\n// Standard ESPN team abbreviations for 2025-2026\r\nexport const TEAM_ABBREVIATION_MAP: Record<string, string> = {\r\n  // Primary mappings\r\n  'LA': 'LAR',   // LA Rams\r\n  'BLT': 'BAL',  // Baltimore (typo)\r\n  'HST': 'HOU',  // Houston (typo)\r\n  'ARZ': 'ARI',  // Arizona\r\n  'JAX': 'JAC',  // Jacksonville\r\n  'JACK': 'JAC', // Jacksonville variant\r\n  'WSH': 'WAS',  // Washington Commanders\r\n  'WASH': 'WAS', // Washington variant\r\n  'LVR': 'LV',   // Las Vegas Raiders\r\n  'LV': 'LV',    // Already correct\r\n  \r\n  // Historical mappings (for older data)\r\n  'STL': 'LAR',  // St. Louis Rams -> LA Rams\r\n  'SD': 'LAC',   // San Diego Chargers -> LA Chargers\r\n  'OAK': 'LV',   // Oakland Raiders -> Las Vegas Raiders\r\n  \r\n  // Keep correct ones as-is\r\n  'ARI': 'ARI', 'ATL': 'ATL', 'BAL': 'BAL', 'BUF': 'BUF',\r\n  'CAR': 'CAR', 'CHI': 'CHI', 'CIN': 'CIN', 'CLE': 'CLE',\r\n  'DAL': 'DAL', 'DEN': 'DEN', 'DET': 'DET', 'GB': 'GB',\r\n  'HOU': 'HOU', 'IND': 'IND', 'JAC': 'JAC', 'KC': 'KC',\r\n  'LAC': 'LAC', 'LAR': 'LAR', 'MIA': 'MIA', 'MIN': 'MIN',\r\n  'NE': 'NE', 'NO': 'NO', 'NYG': 'NYG', 'NYJ': 'NYJ',\r\n  'PHI': 'PHI', 'PIT': 'PIT', 'SF': 'SF', 'SEA': 'SEA',\r\n  'TB': 'TB', 'TEN': 'TEN', 'WAS': 'WAS',\r\n  \r\n  // Free agents\r\n  'FA': 'FA', '': 'FA', 'N/A': 'FA', 'UFA': 'FA'\r\n};\r\n\r\n// Known player name aliases for 2025-2026 season\r\nexport const PLAYER_NAME_ALIASES: Record<string, string> = {\r\n  // Common nicknames\r\n  'Mike Thomas': 'Michael Thomas',\r\n  'Mike Williams': 'Michael Williams',\r\n  'Mike Evans': 'Michael Evans',\r\n  'DJ Moore': 'D.J. Moore',\r\n  'DJ Chark': 'D.J. Chark',\r\n  'AJ Brown': 'A.J. Brown',\r\n  \r\n  // Andrew/Drew variations\r\n  'Andrew Ogletree': 'Drew Ogletree',\r\n  'Drew Ogletree': 'Andrew Ogletree',\r\n  \r\n  // Jr./Sr./III suffixes - bidirectional mappings\r\n  'Marvin Mims Jr': 'Marvin Mims',\r\n  'Marvin Mims Jr.': 'Marvin Mims',\r\n  'Marvin Mims': 'Marvin Mims',\r\n  'Luther Burden': 'Luther Burden',\r\n  'Luther Burden III': 'Luther Burden',\r\n  'Odell Beckham': 'Odell Beckham Jr.',\r\n  'Odell Beckham Jr': 'Odell Beckham Jr.',\r\n  'Michael Pittman': 'Michael Pittman Jr.',\r\n  'Michael Pittman Jr': 'Michael Pittman Jr.',\r\n  'Brian Robinson': 'Brian Robinson Jr.',\r\n  'Brian Robinson Jr': 'Brian Robinson Jr.',\r\n  \r\n  // Hollywood Brown - map both ways to handle either form\r\n  'Marquise Brown': 'Marquise Brown',\r\n  'Hollywood Brown': 'Marquise Brown',\r\n  'Marquise \"Hollywood\" Brown': 'Marquise Brown',\r\n  \r\n  // Other common variations\r\n  'Kenneth Walker': 'Kenneth Walker III',\r\n  'Kenneth Walker III': 'Kenneth Walker III',\r\n  'Will Fuller': 'Will Fuller V',\r\n  'Will Fuller V': 'Will Fuller V',\r\n  'AJ Dillon': 'A.J. Dillon',\r\n  'TJ Hockenson': 'T.J. Hockenson',\r\n  'CJ Stroud': 'C.J. Stroud',\r\n  'CJ Beathard': 'C.J. Beathard',\r\n  \r\n  // Suffix variations (avoid duplicates)\r\n  'Ken Walker': 'Kenneth Walker III',\r\n  'Marvin Harrison': 'Marvin Harrison Jr.',\r\n  \r\n  // Special cases\r\n  'Gabriel Davis': 'Gabe Davis',\r\n  'Joshua Palmer': 'Josh Palmer',\r\n  'Joshua Downs': 'Josh Downs',\r\n  'Christopher Olave': 'Chris Olave',\r\n  'DeAndre Hopkins': 'Deandre Hopkins', // ESPN sometimes drops capital A\r\n  \r\n  // Defense/Special Teams\r\n  'Cleveland Browns': 'Browns DST',\r\n  'Browns Defense': 'Browns DST',\r\n  'Cleveland Defense': 'Browns DST',\r\n  \r\n  // DST mappings for all teams\r\n  'Bills DST': 'Buffalo Bills',\r\n  'Buffalo Bills': 'Bills DST',\r\n  'BUF': 'Bills DST',\r\n  \r\n  'Steelers DST': 'Pittsburgh Steelers',\r\n  'Pittsburgh Steelers': 'Steelers DST',\r\n  'PIT': 'Steelers DST',\r\n  \r\n  '49ers DST': 'San Francisco 49ers',\r\n  'San Francisco 49ers': '49ers DST',\r\n  'SF': '49ers DST',\r\n  \r\n  'Lions DST': 'Detroit Lions',\r\n  'Detroit Lions': 'Lions DST',\r\n  'DET': 'Lions DST',\r\n  \r\n  'Eagles DST': 'Philadelphia Eagles',\r\n  'Philadelphia Eagles': 'Eagles DST',\r\n  'PHI': 'Eagles DST',\r\n  \r\n  'Broncos DST': 'Denver Broncos',\r\n  'Denver Broncos': 'Broncos DST',\r\n  'DEN': 'Broncos DST',\r\n  \r\n  'Vikings DST': 'Minnesota Vikings',\r\n  'Minnesota Vikings': 'Vikings DST',\r\n  'MIN': 'Vikings DST',\r\n  \r\n  'Cowboys DST': 'Dallas Cowboys',\r\n  'Dallas Cowboys': 'Cowboys DST',\r\n  'DAL': 'Cowboys DST',\r\n  \r\n  'Ravens DST': 'Baltimore Ravens',\r\n  'Baltimore Ravens': 'Ravens DST',\r\n  'BAL': 'Ravens DST',\r\n  \r\n  'Chiefs DST': 'Kansas City Chiefs',\r\n  'Kansas City Chiefs': 'Chiefs DST',\r\n  'KC': 'Chiefs DST'\r\n};\r\n\r\ninterface PlayerMatch {\r\n  player: any;\r\n  confidence: number;\r\n  matchType: 'exact' | 'normalized' | 'fuzzy' | 'alias' | 'not_found';\r\n  reason?: string;\r\n}\r\n\r\nexport class PlayerResolver {\r\n  private playerIndex: Map<string, any> = new Map();\r\n  private normalizedIndex: Map<string, any> = new Map();\r\n  private teamRosters: Map<string, Set<string>> = new Map();\r\n  \r\n  // Public getter for debugging\r\n  public getPlayerIndex(): Map<string, any> {\r\n    return this.playerIndex;\r\n  }\r\n\r\n  /**\r\n   * Initialize resolver with master player data (typically from ADP)\r\n   */\r\n  initialize(players: any[]): void {\r\n    this.playerIndex.clear();\r\n    this.normalizedIndex.clear();\r\n    this.teamRosters.clear();\r\n\r\n    // Initialize player resolver with players\r\n\r\n    // Debug: Check DST entries before processing\r\n    const dstPlayers = players.filter(p => {\r\n      const pos = (p.position || p.Position || '').toUpperCase();\r\n      return pos === 'DST' || pos === 'DEF';\r\n    });\r\n    if (dstPlayers.length > 0) {\r\n      logger.info(`Found ${dstPlayers.length} DST entries to index:`, \r\n        dstPlayers.slice(0, 5).map(d => ({\r\n          name: d.name || d['Full Name'] || d.Player,\r\n          team: d.team || d['Team Abbreviation'] || d.Team,\r\n          position: d.position || d.Position\r\n        }))\r\n      );\r\n    } else {\r\n      logger.warn('NO DST entries found in ADP data!');\r\n      // Check what positions we do have\r\n      const positions = new Set(players.map(p => p.position || p.Position));\r\n      logger.warn(`Available positions in ADP:`, Array.from(positions));\r\n    }\r\n\r\n    players.forEach(player => {\r\n      // Handle both formats: original CSV fields and transformed object fields\r\n      const name = player.name || player['Full Name'] || player.Player;\r\n      const rawTeam = player.team || player['Team Abbreviation'] || player.Team;\r\n      const team = this.normalizeTeam(rawTeam);\r\n      const position = this.normalizePosition(player.position || player.Position);\r\n      \r\n      if (!name) {\r\n        logger.warn('Player with no name found:', player);\r\n        return;\r\n      }\r\n\r\n      // Primary index\r\n      const key = this.generateKey(name, team, position);\r\n      this.playerIndex.set(key, player);\r\n      \r\n      // Create player index key\r\n      if (position === 'DST') {\r\n        \r\n        // For DSTs, create multiple alternate keys for better matching\r\n        const baseName = name.replace(' DST', '').replace(' Defense', '').trim();\r\n        const words = baseName.split(' ');\r\n        \r\n        // Create variations for DST matching\r\n        const dstVariations = [\r\n          `${baseName} DST`,           // Full name with DST\r\n          `${baseName} Defense`,       // Full name with Defense\r\n          baseName,                    // Just team name\r\n        ];\r\n        \r\n        // If multi-word team name, also add last word only (e.g., \"Bills\" from \"Buffalo Bills\")\r\n        if (words.length > 1) {\r\n          const cityName = words[words.length - 1]; // Last word (e.g., \"Bills\")\r\n          dstVariations.push(`${cityName} DST`);\r\n          dstVariations.push(`${cityName} Defense`);\r\n          dstVariations.push(cityName);\r\n        }\r\n        \r\n        // Also add first word for teams like \"49ers\"\r\n        if (words.length >= 1) {\r\n          const firstName = words[0];\r\n          if (firstName !== baseName) {\r\n            dstVariations.push(`${firstName} DST`);\r\n            dstVariations.push(`${firstName} Defense`);\r\n          }\r\n        }\r\n        \r\n        // Create keys for all variations\r\n        dstVariations.forEach(variation => {\r\n          if (variation && variation !== name) {\r\n            const altKey = this.generateKey(variation, team, position);\r\n            this.playerIndex.set(altKey, player);\r\n            // Created DST variation key\r\n          }\r\n        });\r\n      }\r\n\r\n      // Normalized index for fuzzy matching\r\n      const normalizedKey = this.generateNormalizedKey(name, team, position);\r\n      this.normalizedIndex.set(normalizedKey, player);\r\n\r\n      // Team rosters\r\n      if (!this.teamRosters.has(team)) {\r\n        this.teamRosters.set(team, new Set());\r\n      }\r\n      this.teamRosters.get(team)!.add(name);\r\n    });\r\n\r\n    // Debug: Verify DST keys were created\r\n    const dstKeys = Array.from(this.playerIndex.keys()).filter(k => k.includes('|DST'));\r\n    if (dstKeys.length > 0) {\r\n      // Successfully indexed DST keys\r\n    } else {\r\n      logger.warn('No DST keys were created in the player index!');\r\n    }\r\n\r\n    logger.info(`PlayerResolver initialized with ${this.playerIndex.size} players`);\r\n    \r\n    // Debug: Check if specific problematic players are in the index\r\n    const problematicNames = ['Mims', 'Marquise', 'Luther', 'Bills', '49ers', 'Lions', 'Vikings', 'Packers', 'Cowboys', 'Patriots', 'Chiefs', 'Broncos'];\r\n    const foundProblematic: string[] = [];\r\n    this.playerIndex.forEach((player, key) => {\r\n      if (problematicNames.some(name => key.toLowerCase().includes(name.toLowerCase()))) {\r\n        foundProblematic.push(key);\r\n      }\r\n    });\r\n    \r\n    // Also check all DST keys\r\n    const allDstKeys = Array.from(this.playerIndex.keys()).filter(k => k.includes('|DST'));\r\n    \r\n    // Index check completed\r\n    if (allDstKeys.length > 0) {\r\n      \r\n      // Group DST keys by team\r\n      const dstByTeam = new Map<string, string[]>();\r\n      allDstKeys.forEach(key => {\r\n        const parts = key.split('|');\r\n        const team = parts[1];\r\n        if (!dstByTeam.has(team)) {\r\n          dstByTeam.set(team, []);\r\n        }\r\n        dstByTeam.get(team)!.push(key);\r\n      });\r\n      \r\n      // Show DST keys for specific teams we're having trouble with\r\n      const troubleTeams = ['BUF', 'PIT', 'KC', 'SF', 'DET', 'MIN', 'GB', 'DAL', 'NE'];\r\n      troubleTeams.forEach(team => {\r\n        const keys = dstByTeam.get(team);\r\n        // Team DST keys checked\r\n      });\r\n    }\r\n    \r\n    // Completed problematic player check\r\n  }\r\n\r\n  /**\r\n   * Generate primary key for player\r\n   */\r\n  generateKey(name: string, team: string, position: string): string {\r\n    return `${name}|${this.normalizeTeam(team)}|${this.normalizePosition(position)}`;\r\n  }\r\n\r\n  /**\r\n   * Generate normalized key for fuzzy matching\r\n   */\r\n  generateNormalizedKey(name: string, team: string, position: string): string {\r\n    return `${this.normalizeName(name)}|${this.normalizeTeam(team)}|${this.normalizePosition(position)}`;\r\n  }\r\n\r\n  /**\r\n   * Normalize player name for matching\r\n   */\r\n  normalizeName(name: string): string {\r\n    if (!name) return '';\r\n    \r\n    // Check for known aliases first\r\n    const aliased = PLAYER_NAME_ALIASES[name] || name;\r\n    \r\n    return aliased\r\n      .toLowerCase()\r\n      .replace(/[.']/g, '') // Remove punctuation\r\n      .replace(/\\s+(jr\\.?|sr\\.?|iii|ii|iv|v)$/i, '') // Remove suffixes (with or without period)\r\n      .replace(/\\s+/g, ' ') // Normalize spaces\r\n      .trim();\r\n  }\r\n\r\n  /**\r\n   * Normalize team abbreviation\r\n   */\r\n  normalizeTeam(team: string): string {\r\n    if (!team) return 'FA';\r\n    const upper = team.toUpperCase().trim();\r\n    return TEAM_ABBREVIATION_MAP[upper] || upper;\r\n  }\r\n\r\n  /**\r\n   * Normalize position to uppercase\r\n   */\r\n  normalizePosition(position: string): string {\r\n    if (!position) return '';\r\n    return position.toUpperCase().trim();\r\n  }\r\n\r\n  /**\r\n   * Generate DST name variations for matching\r\n   */\r\n  generateDSTVariations(name: string, teamCode: string): string[] {\r\n    const variations: string[] = [];\r\n    \r\n    // Get full team name from team code\r\n    const fullTeamName = this.getFullTeamName(teamCode);\r\n    const teamParts = fullTeamName.split(' ');\r\n    const cityName = teamParts.slice(0, -1).join(' '); // e.g., \"Kansas City\" from \"Kansas City Chiefs\"\r\n    const nickname = teamParts[teamParts.length - 1]; // e.g., \"Chiefs\" from \"Kansas City Chiefs\"\r\n    \r\n    // Add all possible variations\r\n    variations.push(name); // Original name\r\n    variations.push(`${nickname} DST`); // e.g., \"Chiefs DST\"\r\n    variations.push(`${fullTeamName} DST`); // e.g., \"Kansas City Chiefs DST\"\r\n    variations.push(`${fullTeamName}`); // e.g., \"Kansas City Chiefs\"\r\n    variations.push(`${nickname}`); // e.g., \"Chiefs\"\r\n    variations.push(`${cityName} Defense`); // e.g., \"Kansas City Defense\"\r\n    variations.push(`${nickname} Defense`); // e.g., \"Chiefs Defense\"\r\n    variations.push(`${fullTeamName} Defense`); // e.g., \"Kansas City Chiefs Defense\"\r\n    \r\n    // Add city-based variations\r\n    if (cityName && cityName !== nickname) {\r\n      variations.push(`${cityName} DST`); // e.g., \"Kansas City DST\"\r\n    }\r\n    \r\n    // Special cases for teams with unique names\r\n    if (teamCode === 'SF') {\r\n      variations.push('San Francisco DST');\r\n      variations.push('49ers DST');\r\n      variations.push('San Francisco 49ers DST');\r\n      variations.push('49ers');\r\n      variations.push('San Francisco 49ers');\r\n    }\r\n    \r\n    if (teamCode === 'GB') {\r\n      variations.push('Green Bay Defense');\r\n      variations.push('Packers DST');\r\n      variations.push('Green Bay DST');\r\n      variations.push('Green Bay Packers DST');\r\n      variations.push('Packers');\r\n      variations.push('Green Bay Packers');\r\n    }\r\n    \r\n    if (teamCode === 'NE') {\r\n      variations.push('New England Defense');\r\n      variations.push('Patriots DST');\r\n      variations.push('New England DST');\r\n      variations.push('New England Patriots DST');\r\n      variations.push('Patriots');\r\n      variations.push('New England Patriots');\r\n    }\r\n    \r\n    // Remove duplicates\r\n    return [...new Set(variations)];\r\n  }\r\n\r\n  /**\r\n   * Get full team name from abbreviation or partial name\r\n   */\r\n  getFullTeamName(teamNameOrAbbr: string): string {\r\n    if (!teamNameOrAbbr) return '';\r\n    \r\n    // Map of short names/abbreviations to full team names\r\n    const teamFullNames: Record<string, string> = {\r\n      // Abbreviations to full names\r\n      'BUF': 'Buffalo Bills',\r\n      'MIA': 'Miami Dolphins',\r\n      'NE': 'New England Patriots',\r\n      'NYJ': 'New York Jets',\r\n      'BAL': 'Baltimore Ravens',\r\n      'CIN': 'Cincinnati Bengals',\r\n      'CLE': 'Cleveland Browns',\r\n      'PIT': 'Pittsburgh Steelers',\r\n      'HOU': 'Houston Texans',\r\n      'IND': 'Indianapolis Colts',\r\n      'JAC': 'Jacksonville Jaguars',\r\n      'TEN': 'Tennessee Titans',\r\n      'DEN': 'Denver Broncos',\r\n      'KC': 'Kansas City Chiefs',\r\n      'LV': 'Las Vegas Raiders',\r\n      'LAC': 'Los Angeles Chargers',\r\n      'DAL': 'Dallas Cowboys',\r\n      'NYG': 'New York Giants',\r\n      'PHI': 'Philadelphia Eagles',\r\n      'WAS': 'Washington Commanders',\r\n      'CHI': 'Chicago Bears',\r\n      'DET': 'Detroit Lions',\r\n      'GB': 'Green Bay Packers',\r\n      'MIN': 'Minnesota Vikings',\r\n      'ATL': 'Atlanta Falcons',\r\n      'CAR': 'Carolina Panthers',\r\n      'NO': 'New Orleans Saints',\r\n      'TB': 'Tampa Bay Buccaneers',\r\n      'ARI': 'Arizona Cardinals',\r\n      'LAR': 'Los Angeles Rams',\r\n      'SF': 'San Francisco 49ers',\r\n      'SEA': 'Seattle Seahawks',\r\n      \r\n      // Short names to full names\r\n      'Bills': 'Buffalo Bills',\r\n      'Dolphins': 'Miami Dolphins',\r\n      'Patriots': 'New England Patriots',\r\n      'Jets': 'New York Jets',\r\n      'Ravens': 'Baltimore Ravens',\r\n      'Bengals': 'Cincinnati Bengals',\r\n      'Browns': 'Cleveland Browns',\r\n      'Steelers': 'Pittsburgh Steelers',\r\n      'Texans': 'Houston Texans',\r\n      'Colts': 'Indianapolis Colts',\r\n      'Jaguars': 'Jacksonville Jaguars',\r\n      'Titans': 'Tennessee Titans',\r\n      'Broncos': 'Denver Broncos',\r\n      'Chiefs': 'Kansas City Chiefs',\r\n      'Raiders': 'Las Vegas Raiders',\r\n      'Chargers': 'Los Angeles Chargers',\r\n      'Cowboys': 'Dallas Cowboys',\r\n      'Giants': 'New York Giants',\r\n      'Eagles': 'Philadelphia Eagles',\r\n      'Commanders': 'Washington Commanders',\r\n      'Bears': 'Chicago Bears',\r\n      'Lions': 'Detroit Lions',\r\n      'Packers': 'Green Bay Packers',\r\n      'Vikings': 'Minnesota Vikings',\r\n      'Falcons': 'Atlanta Falcons',\r\n      'Panthers': 'Carolina Panthers',\r\n      'Saints': 'New Orleans Saints',\r\n      'Buccaneers': 'Tampa Bay Buccaneers',\r\n      'Cardinals': 'Arizona Cardinals',\r\n      'Rams': 'Los Angeles Rams',\r\n      '49ers': 'San Francisco 49ers',\r\n      'Seahawks': 'Seattle Seahawks'\r\n    };\r\n    \r\n    // Check if already a full name\r\n    const fullNameValues = Object.values(teamFullNames);\r\n    if (fullNameValues.includes(teamNameOrAbbr)) {\r\n      return teamNameOrAbbr;\r\n    }\r\n    \r\n    // Try exact match first\r\n    if (teamFullNames[teamNameOrAbbr]) {\r\n      return teamFullNames[teamNameOrAbbr];\r\n    }\r\n    \r\n    // Try normalized team abbreviation\r\n    const normalized = this.normalizeTeam(teamNameOrAbbr);\r\n    if (teamFullNames[normalized]) {\r\n      return teamFullNames[normalized];\r\n    }\r\n    \r\n    // Return original if no match found\r\n    return teamNameOrAbbr;\r\n  }\r\n\r\n  /**\r\n   * Find best match for a player\r\n   */\r\n  findBestMatch(name: string, team: string, position: string): PlayerMatch {\r\n    // Debug logging for problematic players\r\n    const isProblematic = name?.includes('Mims') || name?.includes('Marquise') || \r\n                         name?.includes('Luther') || name?.includes('DST') || \r\n                         position === 'DST';\r\n    \r\n    if (isProblematic) {\r\n      // Finding best match\r\n    }\r\n    \r\n    // Special handling for DSTs\r\n    if (position?.toUpperCase() === 'DST' || name?.includes('DST') || name?.includes('Defense')) {\r\n      const normalizedTeam = this.normalizeTeam(team);\r\n      \r\n      // Try various DST name formats\r\n      const dstVariations = this.generateDSTVariations(name, normalizedTeam);\r\n      \r\n      // Searching for DST variations\r\n      \r\n      for (const variation of dstVariations) {\r\n        const key = this.generateKey(variation, normalizedTeam, 'DST');\r\n        // Try DST key variation\r\n        if (this.playerIndex.has(key)) {\r\n          return {\r\n            player: this.playerIndex.get(key)!,\r\n            confidence: 1.0,\r\n            matchType: 'exact',\r\n            reason: `DST matched as ${variation}`\r\n          };\r\n        }\r\n      }\r\n      \r\n      // If no exact match, try to find any DST for this team\r\n      const allDstKeys = Array.from(this.playerIndex.keys()).filter(k => k.includes('|DST'));\r\n      const teamDstKey = allDstKeys.find(k => k.includes(`|${normalizedTeam}|`));\r\n      \r\n      if (teamDstKey) {\r\n        return {\r\n          player: this.playerIndex.get(teamDstKey)!,\r\n          confidence: 0.95,\r\n          matchType: 'normalized',\r\n          reason: `DST matched by team code ${normalizedTeam}`\r\n        };\r\n      }\r\n      \r\n      // DST not found - create provisional entry\r\n      const provisionalDST = this.createProvisionalPlayer(name, normalizedTeam, 'DST', { fantasyPoints: 0 });\r\n      return {\r\n        player: provisionalDST,\r\n        confidence: 0.5,\r\n        matchType: 'normalized',\r\n        reason: `Provisional DST created (not in ADP data)`\r\n      };\r\n    }\r\n    \r\n    // 1. Try exact match\r\n    const exactKey = this.generateKey(name, team, position);\r\n    if (this.playerIndex.has(exactKey)) {\r\n      return {\r\n        player: this.playerIndex.get(exactKey),\r\n        confidence: 1.0,\r\n        matchType: 'exact',\r\n        reason: 'Exact match found'\r\n      };\r\n    }\r\n    \r\n    // 1.5 Special handling for FB/RB position flexibility\r\n    // Many fullbacks are listed as RB in some sources and FB in others\r\n    if (position === 'RB' || position === 'FB') {\r\n      const altPosition = position === 'RB' ? 'FB' : 'RB';\r\n      const altKey = this.generateKey(name, team, altPosition);\r\n      if (this.playerIndex.has(altKey)) {\r\n        return {\r\n          player: this.playerIndex.get(altKey),\r\n          confidence: 0.98,\r\n          matchType: 'normalized',\r\n          reason: `Matched with position flexibility: ${position}  ${altPosition}`\r\n        };\r\n      }\r\n    }\r\n\r\n    // 2. Try with alias resolution (check multiple variations)\r\n    const aliasedName = PLAYER_NAME_ALIASES[name] || name;\r\n    \r\n    // Try direct alias match\r\n    if (aliasedName !== name) {\r\n      const aliasKey = this.generateKey(aliasedName, team, position);\r\n      if (this.playerIndex.has(aliasKey)) {\r\n        return {\r\n          player: this.playerIndex.get(aliasKey)!,\r\n          confidence: 0.95,\r\n          matchType: 'alias',\r\n          reason: `Matched via alias: ${name}  ${aliasedName}`\r\n        };\r\n      }\r\n      \r\n      // Also try alias with position flexibility for FB/RB\r\n      if (position === 'RB' || position === 'FB') {\r\n        const altPosition = position === 'RB' ? 'FB' : 'RB';\r\n        const altAliasKey = this.generateKey(aliasedName, team, altPosition);\r\n        if (this.playerIndex.has(altAliasKey)) {\r\n          return {\r\n            player: this.playerIndex.get(altAliasKey)!,\r\n            confidence: 0.93,\r\n            matchType: 'alias',\r\n            reason: `Matched via alias + position: ${name}  ${aliasedName} (${position}  ${altPosition})`\r\n          };\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Special handling for nicknamed players (e.g., \"Hollywood\" Brown)\r\n    // Try removing nickname in quotes or parentheses\r\n    const nameWithoutNickname = name\r\n      .replace(/\"[^\"]*\"/g, '') // Remove quoted nicknames\r\n      .replace(/\\([^)]*\\)/g, '') // Remove parenthetical nicknames\r\n      .replace(/\\s+/g, ' ')\r\n      .trim();\r\n    \r\n    if (nameWithoutNickname !== name && nameWithoutNickname.length > 0) {\r\n      const withoutNicknameKey = this.generateKey(nameWithoutNickname, team, position);\r\n      if (this.playerIndex.has(withoutNicknameKey)) {\r\n        return {\r\n          player: this.playerIndex.get(withoutNicknameKey)!,\r\n          confidence: 0.95,\r\n          matchType: 'alias',\r\n          reason: `Matched by removing nickname: ${name}  ${nameWithoutNickname}`\r\n        };\r\n      }\r\n      \r\n      // Also try the alias of the name without nickname\r\n      const aliasedWithoutNickname = PLAYER_NAME_ALIASES[nameWithoutNickname] || nameWithoutNickname;\r\n      if (aliasedWithoutNickname !== nameWithoutNickname) {\r\n        const aliasKey2 = this.generateKey(aliasedWithoutNickname, team, position);\r\n        if (this.playerIndex.has(aliasKey2)) {\r\n          return {\r\n            player: this.playerIndex.get(aliasKey2)!,\r\n            confidence: 0.95,\r\n            matchType: 'alias',\r\n            reason: `Matched via alias: ${nameWithoutNickname}  ${aliasedWithoutNickname}`\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    // 3. Try normalized match\r\n    const normalizedKey = this.generateNormalizedKey(name, team, position);\r\n    if (this.normalizedIndex.has(normalizedKey)) {\r\n      return {\r\n        player: this.normalizedIndex.get(normalizedKey),\r\n        confidence: 0.9,\r\n        matchType: 'normalized',\r\n        reason: 'Matched after normalization'\r\n      };\r\n    }\r\n\r\n    // 4. Try fuzzy matching with same team\r\n    const fuzzyMatch = this.fuzzyMatchPlayer(name, team, position);\r\n    if (fuzzyMatch && fuzzyMatch.confidence > 0.7) {\r\n      return fuzzyMatch;\r\n    }\r\n\r\n    // 5. Check if player exists on different team (possible trade)\r\n    const differentTeamMatch = this.findPlayerOnDifferentTeam(name, position);\r\n    if (differentTeamMatch) {\r\n      return {\r\n        ...differentTeamMatch,\r\n        confidence: Math.min(0.8, differentTeamMatch.confidence),\r\n        reason: `Found on different team: ${differentTeamMatch.player.team} (possible trade)`\r\n      };\r\n    }\r\n\r\n    // Not found - return null for unmatched players\r\n    // These are typically deep bench/practice squad players not relevant for fantasy\r\n    return {\r\n      player: null,\r\n      confidence: 0,\r\n      matchType: 'not_found',\r\n      reason: `No match found for ${name} (${position}, ${team})`\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Fuzzy match player name using Levenshtein distance\r\n   */\r\n  private fuzzyMatchPlayer(name: string, team: string, position: string): PlayerMatch | null {\r\n    const normalized = this.normalizeName(name);\r\n    let bestMatch: PlayerMatch | null = null;\r\n    let bestDistance = Infinity;\r\n\r\n    this.playerIndex.forEach((player, key) => {\r\n      const [playerName, playerTeam, playerPos] = key.split('|');\r\n      \r\n      // Must match team and position for fuzzy matching\r\n      if (this.normalizeTeam(playerTeam) !== this.normalizeTeam(team)) return;\r\n      if (this.normalizePosition(playerPos) !== this.normalizePosition(position)) return;\r\n\r\n      const distance = this.levenshteinDistance(\r\n        normalized,\r\n        this.normalizeName(playerName)\r\n      );\r\n\r\n      if (distance < bestDistance && distance <= 3) {\r\n        bestDistance = distance;\r\n        bestMatch = {\r\n          player,\r\n          confidence: Math.max(0.5, 1 - (distance * 0.15)),\r\n          matchType: 'fuzzy',\r\n          reason: `Fuzzy match (distance: ${distance})`\r\n        };\r\n      }\r\n    });\r\n\r\n    return bestMatch;\r\n  }\r\n\r\n  /**\r\n   * Find player on different team\r\n   */\r\n  private findPlayerOnDifferentTeam(name: string, position: string): PlayerMatch | null {\r\n    const normalized = this.normalizeName(name);\r\n    \r\n    for (const [key, player] of this.playerIndex.entries()) {\r\n      const [playerName, _, playerPos] = key.split('|');\r\n      \r\n      if (this.normalizePosition(playerPos) !== this.normalizePosition(position)) continue;\r\n      \r\n      if (this.normalizeName(playerName) === normalized) {\r\n        return {\r\n          player,\r\n          confidence: 0.85,\r\n          matchType: 'normalized',\r\n          reason: 'Found on different team'\r\n        };\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Calculate Levenshtein distance between two strings\r\n   */\r\n  private levenshteinDistance(str1: string, str2: string): number {\r\n    const matrix: number[][] = [];\r\n    \r\n    for (let i = 0; i <= str2.length; i++) {\r\n      matrix[i] = [i];\r\n    }\r\n    \r\n    for (let j = 0; j <= str1.length; j++) {\r\n      matrix[0][j] = j;\r\n    }\r\n    \r\n    for (let i = 1; i <= str2.length; i++) {\r\n      for (let j = 1; j <= str1.length; j++) {\r\n        if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\r\n          matrix[i][j] = matrix[i - 1][j - 1];\r\n        } else {\r\n          matrix[i][j] = Math.min(\r\n            matrix[i - 1][j - 1] + 1, // substitution\r\n            matrix[i][j - 1] + 1,     // insertion\r\n            matrix[i - 1][j] + 1      // deletion\r\n          );\r\n        }\r\n      }\r\n    }\r\n    \r\n    return matrix[str2.length][str1.length];\r\n  }\r\n\r\n  /**\r\n   * Create provisional player entry for projection-only players\r\n   */\r\n  createProvisionalPlayer(name: string, team: string, position: string, projectionData: any): any {\r\n    return {\r\n      id: this.generateKey(name, team, position),\r\n      name,\r\n      team: this.normalizeTeam(team),\r\n      position: this.normalizePosition(position),\r\n      adp: 999, // Undrafted\r\n      auctionValue: 0, // Minimum value\r\n      isProvisional: true,\r\n      dataSource: 'projection-only',\r\n      projectedPoints: projectionData.fantasyPoints || 0,\r\n      confidence: 0.5,\r\n      note: 'Player not in ADP data - created from projections'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Resolve all foreign keys in a dataset\r\n   */\r\n  resolveDataset(data: any[], nameField: string, teamField: string, positionField: string): {\r\n    resolved: any[];\r\n    provisional: any[];\r\n    unresolved: any[];\r\n    stats: {\r\n      total: number;\r\n      exact: number;\r\n      normalized: number;\r\n      fuzzy: number;\r\n      alias: number;\r\n      provisional: number;\r\n      unresolved: number;\r\n    };\r\n  } {\r\n    const resolved: any[] = [];\r\n    const provisional: any[] = [];\r\n    const unresolved: any[] = [];\r\n    \r\n    const stats = {\r\n      total: 0,\r\n      exact: 0,\r\n      normalized: 0,\r\n      fuzzy: 0,\r\n      alias: 0,\r\n      provisional: 0,\r\n      unresolved: 0\r\n    };\r\n\r\n    data.forEach(item => {\r\n      const name = item[nameField];\r\n      const team = item[teamField];\r\n      const position = item[positionField];\r\n      \r\n      if (!name) return;\r\n      \r\n      stats.total++;\r\n      \r\n      const match = this.findBestMatch(name, team, position);\r\n      \r\n      if (match.matchType === 'exact') {\r\n        stats.exact++;\r\n        resolved.push({ ...item, _resolved: match.player, _confidence: match.confidence });\r\n      } else if (match.matchType === 'normalized') {\r\n        stats.normalized++;\r\n        resolved.push({ ...item, _resolved: match.player, _confidence: match.confidence });\r\n      } else if (match.matchType === 'fuzzy') {\r\n        stats.fuzzy++;\r\n        resolved.push({ ...item, _resolved: match.player, _confidence: match.confidence });\r\n      } else if (match.matchType === 'alias') {\r\n        stats.alias++;\r\n        resolved.push({ ...item, _resolved: match.player, _confidence: match.confidence });\r\n      } else {\r\n        // Create provisional entry\r\n        const provisionalPlayer = this.createProvisionalPlayer(name, team, position, item);\r\n        provisional.push(provisionalPlayer);\r\n        stats.provisional++;\r\n      }\r\n    });\r\n\r\n    logger.info(`Foreign key resolution complete:`, stats);\r\n\r\n    return {\r\n      resolved,\r\n      provisional,\r\n      unresolved,\r\n      stats\r\n    };\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const playerResolver = new PlayerResolver();","/**\r\n * Loads player physical attributes and college data from team roster files\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\nexport interface PlayerProfile {\r\n  name: string;\r\n  team: string;\r\n  position: string;\r\n  height?: string;\r\n  weight?: number;\r\n  college?: string;\r\n  age?: number;\r\n  year?: number; // Draft year\r\n  round?: number; // Draft round\r\n  pick?: number; // Draft pick\r\n  offGrade?: number; // PFF offensive grade\r\n  passGrade?: number;\r\n  runGrade?: number;\r\n  recvGrade?: number;\r\n}\r\n\r\nexport class RosterDataLoader {\r\n  private static instance: RosterDataLoader;\r\n  private playerProfiles = new Map<string, PlayerProfile>();\r\n  private loaded = false;\r\n  \r\n  private constructor() {}\r\n  \r\n  public static getInstance(): RosterDataLoader {\r\n    if (!RosterDataLoader.instance) {\r\n      RosterDataLoader.instance = new RosterDataLoader();\r\n    }\r\n    return RosterDataLoader.instance;\r\n  }\r\n  \r\n  /**\r\n   * Load all team roster files\r\n   */\r\n  public async loadRosterData(): Promise<Map<string, PlayerProfile>> {\r\n    if (this.loaded) {\r\n      return this.playerProfiles;\r\n    }\r\n    \r\n    const teams = [\r\n      '49ers', 'bears', 'bengals', 'bills', 'broncos', 'browns', 'buccaneers',\r\n      'cardinals', 'chargers', 'chiefs', 'colts', 'commanders', 'cowboys',\r\n      'dolphins', 'eagles', 'falcons', 'giants', 'jaguars', 'jets', 'lions',\r\n      'packers', 'panthers', 'patriots', 'raiders', 'rams', 'ravens', 'saints',\r\n      'seahawks', 'steelers', 'texans', 'titans', 'vikings'\r\n    ];\r\n    \r\n    const teamCodeMap: Record<string, string> = {\r\n      '49ers': 'SF',\r\n      'bears': 'CHI',\r\n      'bengals': 'CIN',\r\n      'bills': 'BUF',\r\n      'broncos': 'DEN',\r\n      'browns': 'CLE',\r\n      'buccaneers': 'TB',\r\n      'cardinals': 'ARI',\r\n      'chargers': 'LAC',\r\n      'chiefs': 'KC',\r\n      'colts': 'IND',\r\n      'commanders': 'WAS',\r\n      'cowboys': 'DAL',\r\n      'dolphins': 'MIA',\r\n      'eagles': 'PHI',\r\n      'falcons': 'ATL',\r\n      'giants': 'NYG',\r\n      'jaguars': 'JAC',\r\n      'jets': 'NYJ',\r\n      'lions': 'DET',\r\n      'packers': 'GB',\r\n      'panthers': 'CAR',\r\n      'patriots': 'NE',\r\n      'raiders': 'LV',\r\n      'rams': 'LAR',\r\n      'ravens': 'BAL',\r\n      'saints': 'NO',\r\n      'seahawks': 'SEA',\r\n      'steelers': 'PIT',\r\n      'texans': 'HOU',\r\n      'titans': 'TEN',\r\n      'vikings': 'MIN'\r\n    };\r\n    \r\n    const basePath = import.meta.env.BASE_URL || '/';\r\n    for (const teamFile of teams) {\r\n      try {\r\n        const response = await fetch(`${basePath}canonical_data/advanced_data/2025-2026/${teamFile}.csv`);\r\n        if (!response.ok) continue;\r\n        \r\n        const text = await response.text();\r\n        const rows = this.parseCSV(text);\r\n        const teamCode = teamCodeMap[teamFile];\r\n        \r\n        rows.forEach(row => {\r\n          if (row.NAME && row.NAME !== '-') {\r\n            const profile: PlayerProfile = {\r\n              name: row.NAME,\r\n              team: teamCode,\r\n              position: row.POS,\r\n              height: row.HEIGHT,\r\n              weight: this.parseWeight(row.WEIGHT),\r\n              college: row.COLLEGE,\r\n              age: parseFloat(row.AGE) || undefined,\r\n              year: parseInt(row.YEAR) || undefined,\r\n              round: this.parseRound(row['R#']),\r\n              pick: this.parsePick(row['D#']),\r\n              offGrade: parseFloat(row.OFF_GRADE) || undefined,\r\n              passGrade: parseFloat(row.PASS_GRADE) || undefined,\r\n              runGrade: parseFloat(row.RUN_GRADE) || undefined,\r\n              recvGrade: parseFloat(row.RECV_GRADE) || undefined\r\n            };\r\n            \r\n            // Create normalized key for lookup\r\n            const key = this.normalizeKey(row.NAME);\r\n            this.playerProfiles.set(key, profile);\r\n          }\r\n        });\r\n      } catch (error) {\r\n        logger.warn(`Failed to load roster data for ${teamFile}:`, error);\r\n      }\r\n    }\r\n    \r\n    this.loaded = true;\r\n    logger.info(`Loaded roster data for ${this.playerProfiles.size} players`);\r\n    return this.playerProfiles;\r\n  }\r\n  \r\n  /**\r\n   * Get player profile by name\r\n   */\r\n  public getPlayerProfile(name: string): PlayerProfile | undefined {\r\n    const key = this.normalizeKey(name);\r\n    return this.playerProfiles.get(key);\r\n  }\r\n  \r\n  /**\r\n   * Parse CSV text\r\n   */\r\n  private parseCSV(text: string): any[] {\r\n    const lines = text.trim().split('\\n');\r\n    if (lines.length < 2) return [];\r\n    \r\n    const headers = lines[0].split(',').map(h => h.trim());\r\n    const rows = [];\r\n    \r\n    for (let i = 1; i < lines.length; i++) {\r\n      const values = lines[i].split(',');\r\n      const row: any = {};\r\n      headers.forEach((header, index) => {\r\n        row[header] = values[index]?.trim() || '';\r\n      });\r\n      rows.push(row);\r\n    }\r\n    \r\n    return rows;\r\n  }\r\n  \r\n  /**\r\n   * Parse weight string (e.g., \"218\" -> 218)\r\n   */\r\n  private parseWeight(weight: string): number | undefined {\r\n    const parsed = parseInt(weight);\r\n    return isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  \r\n  /**\r\n   * Parse round (e.g., \"1\" -> 1, \"-\" -> undefined)\r\n   */\r\n  private parseRound(round: string): number | undefined {\r\n    if (!round || round === '-') return undefined;\r\n    const parsed = parseInt(round);\r\n    return isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  \r\n  /**\r\n   * Parse draft pick\r\n   */\r\n  private parsePick(pick: string): number | undefined {\r\n    if (!pick || pick === '-') return undefined;\r\n    const parsed = parseInt(pick);\r\n    return isNaN(parsed) ? undefined : parsed;\r\n  }\r\n  \r\n  /**\r\n   * Normalize player name for matching\r\n   */\r\n  private normalizeKey(name: string): string {\r\n    return name.toLowerCase().replace(/[^a-z]/g, '');\r\n  }\r\n}\r\n\r\nexport const rosterDataLoader = RosterDataLoader.getInstance();","/**\r\n * Strength of Schedule Data Loader\r\n * Loads team strength of schedule data for the season\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\nexport interface TeamSOS {\r\n  team: string;\r\n  seasonGames: number;\r\n  seasonSOS: number;\r\n  playoffGames: number;\r\n  playoffSOS: number;\r\n  allGames: number;\r\n  allSOS: number;\r\n  weeklyOpponents: Map<number, number>; // week -> opponent difficulty\r\n}\r\n\r\nexport class SOSLoader {\r\n  private static instance: SOSLoader;\r\n  private sosData = new Map<string, TeamSOS>();\r\n  private loaded = false;\r\n  \r\n  private constructor() {}\r\n  \r\n  public static getInstance(): SOSLoader {\r\n    if (!SOSLoader.instance) {\r\n      SOSLoader.instance = new SOSLoader();\r\n    }\r\n    return SOSLoader.instance;\r\n  }\r\n  \r\n  /**\r\n   * Load SOS data from CSV\r\n   */\r\n  public async loadSOSData(): Promise<Map<string, TeamSOS>> {\r\n    if (this.loaded) {\r\n      return this.sosData;\r\n    }\r\n    \r\n    try {\r\n      const basePath = import.meta.env.BASE_URL || '/';\r\n      const response = await fetch(`${basePath}artifacts/clean_data/sos_2025.csv`);\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to load SOS data: ${response.statusText}`);\r\n      }\r\n      \r\n      const text = await response.text();\r\n      const rows = this.parseCSV(text);\r\n      \r\n      // New SOS format doesn't need team code mapping\r\n      rows.forEach(row => {\r\n        // New format: Team, SOS_Rank, SOS_Percentage, SOS_Normalized\r\n        const team = row.Team;\r\n        if (!team) return; // Skip invalid rows\r\n        \r\n        // Use team code directly (no mapping needed for new format)\r\n        const standardCode = team;\r\n        \r\n        const weeklyOpponents = new Map<number, number>();\r\n        // New format doesn't have weekly data, leaving empty\r\n        \r\n        const sosEntry: TeamSOS = {\r\n          team: standardCode,\r\n          seasonGames: 17, // Standard NFL season\r\n          seasonSOS: parseFloat(row['SOS_Normalized']) || 0,\r\n          playoffGames: 0, // Not in new format\r\n          playoffSOS: 0, // Not in new format\r\n          allGames: 17,\r\n          allSOS: parseFloat(row['SOS_Normalized']) || 0,\r\n          weeklyOpponents\r\n        };\r\n        \r\n        // Set for the team code\r\n        this.sosData.set(standardCode, sosEntry);\r\n      });\r\n      \r\n      this.loaded = true;\r\n      logger.info(`Loaded SOS data for ${this.sosData.size} teams`);\r\n      \r\n      return this.sosData;\r\n    } catch (error) {\r\n      logger.error('Failed to load SOS data:', error);\r\n      return new Map();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Get SOS for a specific team\r\n   */\r\n  public getTeamSOS(team: string): TeamSOS | undefined {\r\n    return this.sosData.get(team);\r\n  }\r\n  \r\n  /**\r\n   * Get SOS for specific weeks\r\n   */\r\n  public getWeeklySOS(team: string, weeks: number[]): number {\r\n    const teamSOS = this.sosData.get(team);\r\n    if (!teamSOS) return 0;\r\n    \r\n    let totalDifficulty = 0;\r\n    let count = 0;\r\n    \r\n    weeks.forEach(week => {\r\n      const difficulty = teamSOS.weeklyOpponents.get(week);\r\n      if (difficulty !== undefined) {\r\n        totalDifficulty += difficulty;\r\n        count++;\r\n      }\r\n    });\r\n    \r\n    return count > 0 ? totalDifficulty / count : 0;\r\n  }\r\n  \r\n  /**\r\n   * Get playoff SOS (weeks 15-17)\r\n   */\r\n  public getPlayoffSOS(team: string): number {\r\n    const teamSOS = this.sosData.get(team);\r\n    return teamSOS ? teamSOS.playoffSOS : 0;\r\n  }\r\n  \r\n  /**\r\n   * Parse CSV text\r\n   */\r\n  private parseCSV(text: string): any[] {\r\n    const lines = text.trim().split('\\n');\r\n    if (lines.length < 2) return [];\r\n    \r\n    const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\r\n    const rows = [];\r\n    \r\n    for (let i = 1; i < lines.length; i++) {\r\n      const values = this.parseCSVLine(lines[i]);\r\n      const row: any = {};\r\n      headers.forEach((header, index) => {\r\n        row[header] = values[index]?.trim().replace(/\"/g, '') || '';\r\n      });\r\n      rows.push(row);\r\n    }\r\n    \r\n    return rows;\r\n  }\r\n  \r\n  /**\r\n   * Parse a single CSV line (handles quoted values)\r\n   */\r\n  private parseCSVLine(line: string): string[] {\r\n    const values = [];\r\n    let current = '';\r\n    let inQuotes = false;\r\n    \r\n    for (let i = 0; i < line.length; i++) {\r\n      const char = line[i];\r\n      \r\n      if (char === '\"') {\r\n        inQuotes = !inQuotes;\r\n      } else if (char === ',' && !inQuotes) {\r\n        values.push(current);\r\n        current = '';\r\n      } else {\r\n        current += char;\r\n      }\r\n    }\r\n    \r\n    values.push(current);\r\n    return values;\r\n  }\r\n}\r\n\r\nexport const sosLoader = SOSLoader.getInstance();","export const TEAM_NAME_TO_ABBR: Record<string, string> = {\r\n  'Arizona': 'ARI',\r\n  'Atlanta': 'ATL',\r\n  'Baltimore': 'BAL',\r\n  'Buffalo': 'BUF',\r\n  'Carolina': 'CAR',\r\n  'Chicago': 'CHI',\r\n  'Cincinnati': 'CIN',\r\n  'Cleveland': 'CLE',\r\n  'Dallas': 'DAL',\r\n  'Denver': 'DEN',\r\n  'Detroit': 'DET',\r\n  'Green Bay': 'GB',\r\n  'Houston': 'HOU',\r\n  'Indianapolis': 'IND',\r\n  'Jacksonville': 'JAC',\r\n  'Kansas City': 'KC',\r\n  'LA Chargers': 'LAC',\r\n  'Los Angeles Chargers': 'LAC',\r\n  'LA Rams': 'LAR',\r\n  'Los Angeles Rams': 'LAR',\r\n  'Las Vegas': 'LV',\r\n  'Miami': 'MIA',\r\n  'Minnesota': 'MIN',\r\n  'New England': 'NE',\r\n  'New Orleans': 'NO',\r\n  'NY Giants': 'NYG',\r\n  'New York Giants': 'NYG',\r\n  'NY Jets': 'NYJ',\r\n  'New York Jets': 'NYJ',\r\n  'Philadelphia': 'PHI',\r\n  'Pittsburgh': 'PIT',\r\n  'San Francisco': 'SF',\r\n  'Seattle': 'SEA',\r\n  'Tampa Bay': 'TB',\r\n  'Tennessee': 'TEN',\r\n  'Washington': 'WAS'\r\n};\r\n\r\nexport function normalizeTeamName(teamName: string): string | null {\r\n  if (!teamName) return null;\r\n  \r\n  const trimmed = teamName.trim();\r\n  \r\n  // Direct match\r\n  if (TEAM_NAME_TO_ABBR[trimmed]) {\r\n    return TEAM_NAME_TO_ABBR[trimmed];\r\n  }\r\n  \r\n  // Try case-insensitive match\r\n  const lowerTeam = trimmed.toLowerCase();\r\n  for (const [key, value] of Object.entries(TEAM_NAME_TO_ABBR)) {\r\n    if (key.toLowerCase() === lowerTeam) {\r\n      return value;\r\n    }\r\n  }\r\n  \r\n  // Already an abbreviation?\r\n  const upperTeam = trimmed.toUpperCase();\r\n  const validAbbrs = new Set(Object.values(TEAM_NAME_TO_ABBR));\r\n  if (validAbbrs.has(upperTeam)) {\r\n    return upperTeam;\r\n  }\r\n  \r\n  return null;\r\n}","import Papa from 'papaparse';\r\nimport { logger } from './logger';\r\n\r\n/**\r\n * Centralized CSV parsing configuration and utilities\r\n * Handles UTF-8 BOM, encoding issues, and provides consistent parsing across the application\r\n */\r\n\r\n// Null value patterns that should be treated as undefined/null\r\nexport const NULL_VALUES = ['', '--', 'N/A', 'null', 'undefined', 'NA', 'n/a', '-'];\r\n\r\n// Standard CSV parsing configuration\r\nexport const CSV_CONFIG = {\r\n  NULL_VALUES,\r\n  ENCODING: 'UTF-8',\r\n  DEFAULT_OPTIONS: {\r\n    header: true,\r\n    skipEmptyLines: true,\r\n    dynamicTyping: true,\r\n    delimitersToGuess: [',', '\\t', '|', ';'],\r\n    trimHeaders: true,\r\n    transformHeader: (header: string) => header.trim()\r\n  } as Papa.ParseConfig\r\n};\r\n\r\n/**\r\n * Remove UTF-8 BOM (Byte Order Mark) from content\r\n * BOM can cause issues with parsing the first column\r\n */\r\nexport function removeBOM(content: string): string {\r\n  // Remove UTF-8 BOM if present (EF BB BF in hex, FEFF in Unicode)\r\n  return content.replace(/^\\uFEFF/, '').replace(/^\\xEF\\xBB\\xBF/, '');\r\n}\r\n\r\n/**\r\n * Parse a number value handling various null patterns and formatting\r\n * @param value - The value to parse\r\n * @returns Parsed number or undefined if invalid/null\r\n */\r\nexport function parseNumber(value: any): number | undefined {\r\n  // Check for null/undefined\r\n  if (value == null) {\r\n    return undefined;\r\n  }\r\n\r\n  // Convert to string and trim\r\n  const strValue = String(value).trim();\r\n\r\n  // Check against null value patterns\r\n  if (NULL_VALUES.includes(strValue) || strValue.toLowerCase() === 'null' || strValue.toLowerCase() === 'undefined') {\r\n    return undefined;\r\n  }\r\n\r\n  // Remove common formatting characters (commas, dollar signs, percentages)\r\n  const cleanedValue = strValue\r\n    .replace(/,/g, '')\r\n    .replace(/\\$/g, '')\r\n    .replace(/%$/g, '');\r\n\r\n  // Parse the number\r\n  const num = parseFloat(cleanedValue);\r\n\r\n  // Return undefined if parsing failed or resulted in NaN\r\n  return isNaN(num) ? undefined : num;\r\n}\r\n\r\n/**\r\n * Parse an integer value\r\n */\r\nexport function parseInteger(value: any): number | undefined {\r\n  const num = parseNumber(value);\r\n  return num !== undefined ? Math.round(num) : undefined;\r\n}\r\n\r\n/**\r\n * Parse a boolean value\r\n */\r\nexport function parseBoolean(value: any): boolean | undefined {\r\n  if (value == null || NULL_VALUES.includes(String(value).trim())) {\r\n    return undefined;\r\n  }\r\n  \r\n  const strValue = String(value).trim().toLowerCase();\r\n  if (['true', 'yes', '1', 't', 'y'].includes(strValue)) {\r\n    return true;\r\n  }\r\n  if (['false', 'no', '0', 'f', 'n'].includes(strValue)) {\r\n    return false;\r\n  }\r\n  \r\n  return undefined;\r\n}\r\n\r\n/**\r\n * Validate a CSV row for basic data integrity\r\n */\r\nexport function validateRow<T extends Record<string, any>>(row: T, requiredFields?: string[]): boolean {\r\n  // Check if row is null or not an object\r\n  if (!row || typeof row !== 'object') {\r\n    return false;\r\n  }\r\n\r\n  // Check for required fields if specified\r\n  if (requiredFields) {\r\n    for (const field of requiredFields) {\r\n      if (!(field in row) || row[field] == null || NULL_VALUES.includes(String(row[field]).trim())) {\r\n        logger.warn(`Missing required field: ${field}`, { row });\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Check if row has at least one non-null value\r\n  const hasValue = Object.values(row).some(\r\n    value => value != null && !NULL_VALUES.includes(String(value).trim())\r\n  );\r\n\r\n  return hasValue;\r\n}\r\n\r\n/**\r\n * Safe CSV parsing with BOM handling, validation, and error recovery\r\n * @param content - The CSV content to parse\r\n * @param options - Optional Papa.parse configuration\r\n * @param requiredFields - Optional list of required fields for validation\r\n * @returns Parsed and validated data array\r\n */\r\nexport function parseCSVSafe<T extends Record<string, any>>(\r\n  content: string,\r\n  options?: Papa.ParseConfig,\r\n  requiredFields?: string[]\r\n): T[] {\r\n  try {\r\n    // Remove BOM from content\r\n    const cleanContent = removeBOM(content);\r\n\r\n    // Check if content is empty\r\n    if (!cleanContent || cleanContent.trim().length === 0) {\r\n      logger.warn('Empty CSV content provided');\r\n      return [];\r\n    }\r\n\r\n    // Parse CSV with merged options\r\n    const result = Papa.parse<T>(cleanContent, {\r\n      ...CSV_CONFIG.DEFAULT_OPTIONS,\r\n      ...options,\r\n      beforeFirstChunk: (chunk) => removeBOM(chunk)\r\n    });\r\n\r\n    // Filter critical errors (ignore field mismatch warnings)\r\n    const criticalErrors = result.errors.filter(\r\n      error => \r\n        error.type !== 'FieldMismatch' && \r\n        !error.message?.includes('Duplicate headers found') &&\r\n        !error.message?.includes('Too many fields') &&\r\n        !error.message?.includes('Too few fields')\r\n    );\r\n\r\n    if (criticalErrors.length > 0) {\r\n      logger.error('Critical CSV parsing errors', { errors: criticalErrors });\r\n      // Continue processing but log the errors\r\n    }\r\n\r\n    // Validate and filter rows\r\n    const validData = result.data.filter(row => {\r\n      const isValid = validateRow(row, requiredFields);\r\n      if (!isValid) {\r\n        logger.debug('Invalid row filtered', { row });\r\n      }\r\n      return isValid;\r\n    });\r\n\r\n    logger.info(`CSV parsed successfully: ${validData.length} valid rows out of ${result.data.length} total`);\r\n    return validData;\r\n\r\n  } catch (error) {\r\n    logger.error('Failed to parse CSV', { error });\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Parse CSV with specific column mappings\r\n * Useful when CSV headers don't match expected property names\r\n */\r\nexport function parseCSVWithMapping<T extends Record<string, any>>(\r\n  content: string,\r\n  columnMapping: Record<string, string | string[]>,\r\n  options?: Papa.ParseConfig\r\n): T[] {\r\n  const data = parseCSVSafe<Record<string, any>>(content, options);\r\n  \r\n  return data.map(row => {\r\n    const mappedRow: any = {};\r\n    \r\n    for (const [targetField, sourceFields] of Object.entries(columnMapping)) {\r\n      const sources = Array.isArray(sourceFields) ? sourceFields : [sourceFields];\r\n      \r\n      // Try each source field until we find a non-null value\r\n      for (const sourceField of sources) {\r\n        const value = row[sourceField];\r\n        if (value != null && !NULL_VALUES.includes(String(value).trim())) {\r\n          mappedRow[targetField] = value;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return mappedRow as T;\r\n  });\r\n}\r\n\r\n/**\r\n * Parse tab-delimited content (common in some data sources)\r\n */\r\nexport function parseTabDelimited<T extends Record<string, any>>(\r\n  content: string,\r\n  headers?: string[],\r\n  requiredFields?: string[]\r\n): T[] {\r\n  return parseCSVSafe<T>(\r\n    content,\r\n    {\r\n      delimiter: '\\t',\r\n      header: headers ? false : true\r\n    },\r\n    requiredFields\r\n  );\r\n}\r\n\r\n/**\r\n * Parse CSV with duplicate column handling (like FantasyPros format)\r\n */\r\nexport function parseCSVWithDuplicateColumns(\r\n  content: string,\r\n  duplicateRenaming: Record<string, { count: number; names: string[] }>\r\n): any[] {\r\n  // Remove BOM\r\n  const cleanContent = removeBOM(content);\r\n  \r\n  const lines = cleanContent.split('\\n').filter(line => line.trim());\r\n  if (lines.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  // Process headers to handle duplicates\r\n  const headers = lines[0].split(',');\r\n  const counters: Record<string, number> = {};\r\n  \r\n  const newHeaders = headers.map(h => {\r\n    const cleaned = h.replace(/\"/g, '').trim();\r\n    \r\n    if (duplicateRenaming[cleaned]) {\r\n      counters[cleaned] = (counters[cleaned] || 0) + 1;\r\n      const index = counters[cleaned] - 1;\r\n      const newName = duplicateRenaming[cleaned].names[index] || cleaned;\r\n      return `\"${newName}\"`;\r\n    }\r\n    \r\n    return h;\r\n  });\r\n\r\n  // Reconstruct CSV with new headers\r\n  const fixedContent = [newHeaders.join(','), ...lines.slice(1)].join('\\n');\r\n  \r\n  return parseCSVSafe(fixedContent);\r\n}\r\n\r\n/**\r\n * Detect the delimiter used in a CSV file\r\n */\r\nexport function detectDelimiter(content: string): string {\r\n  const delimiters = [',', '\\t', ';', '|'];\r\n  const counts: Record<string, number> = {};\r\n  \r\n  // Count occurrences of each delimiter in first few lines\r\n  const lines = content.split('\\n').slice(0, 5);\r\n  \r\n  for (const delimiter of delimiters) {\r\n    counts[delimiter] = lines.reduce((sum, line) => \r\n      sum + (line.split(delimiter).length - 1), 0\r\n    );\r\n  }\r\n  \r\n  // Return delimiter with highest count\r\n  return Object.entries(counts).reduce((a, b) => \r\n    counts[a[0]] > counts[b[0]] ? a : b\r\n  )[0];\r\n}\r\n\r\n/**\r\n * Stream parse large CSV files (for memory efficiency)\r\n */\r\nexport function streamParseCSV<T extends Record<string, any>>(\r\n  content: string,\r\n  onRow: (row: T, index: number) => void,\r\n  options?: Papa.ParseConfig\r\n): Promise<void> {\r\n  return new Promise((resolve, reject) => {\r\n    let rowIndex = 0;\r\n    \r\n    Papa.parse(removeBOM(content), {\r\n      ...CSV_CONFIG.DEFAULT_OPTIONS,\r\n      ...options,\r\n      step: (results: any) => {\r\n        if (validateRow(results.data)) {\r\n          onRow(results.data as T, rowIndex++);\r\n        }\r\n      },\r\n      complete: () => resolve(),\r\n      error: (error: any) => {\r\n        logger.error('Stream parsing error', { error });\r\n        reject(error);\r\n      }\r\n    });\r\n  });\r\n}","/**\r\n * CSV Schema Definitions and Strict Enforcement\r\n * Provides explicit dtypes, validation rules, and referential integrity\r\n */\r\n\r\nimport { logger } from './logger';\r\n\r\n// Data types for CSV columns\r\nexport enum ColumnType {\r\n  STRING = 'string',\r\n  INTEGER = 'integer',\r\n  FLOAT = 'float',\r\n  BOOLEAN = 'boolean',\r\n  DATE = 'date',\r\n  ENUM = 'enum',\r\n  PERCENTAGE = 'percentage',\r\n  CURRENCY = 'currency'\r\n}\r\n\r\n// Column definition with strict typing\r\nexport interface ColumnSchema {\r\n  name: string;\r\n  type: ColumnType;\r\n  required: boolean;\r\n  unique?: boolean;\r\n  allowedValues?: any[]; // For ENUM type\r\n  min?: number; // For numeric types\r\n  max?: number; // For numeric types\r\n  pattern?: RegExp; // For string validation\r\n  foreignKey?: { // For referential integrity\r\n    table: string;\r\n    column: string;\r\n  };\r\n  transform?: (value: any) => any; // Custom transformation\r\n  default?: any; // Default value if missing\r\n}\r\n\r\n// Complete schema for a CSV file\r\nexport interface CSVSchema {\r\n  name: string; // Schema identifier\r\n  columns: ColumnSchema[];\r\n  uniqueKeys: string[][]; // Composite unique keys\r\n  allowExtraColumns: boolean;\r\n  encoding: 'UTF-8' | 'UTF-16' | 'ASCII';\r\n  delimiter: string;\r\n  quoteChar: string;\r\n  escapeChar: string;\r\n  hasHeader: boolean;\r\n  skipRows: number;\r\n  maxRows?: number;\r\n  naValues: string[];\r\n  thousandsSeparator: string;\r\n  decimalSeparator: string;\r\n  dateFormat?: string;\r\n  duplicatePolicy: 'fail' | 'first' | 'last' | 'quarantine';\r\n  validationMode: 'strict' | 'warning' | 'permissive';\r\n}\r\n\r\n// Parsing configuration with explicit settings\r\nexport interface ParseConfig {\r\n  schema: CSVSchema;\r\n  bomHandling: 'remove' | 'keep' | 'fail';\r\n  trimWhitespace: boolean;\r\n  skipEmptyLines: boolean;\r\n  maxErrors: number;\r\n  quarantinePath?: string;\r\n  logPath?: string;\r\n}\r\n\r\n// Data lineage tracking\r\nexport interface DataLineage {\r\n  sourceFile: string;\r\n  parsedAt: Date;\r\n  rowCountOriginal: number;\r\n  rowCountAfterHeaders: number;\r\n  rowCountAfterEmpty: number;\r\n  rowCountAfterDuplicates: number;\r\n  rowCountAfterValidation: number;\r\n  rowCountFinal: number;\r\n  duplicatesRemoved: number;\r\n  validationErrors: number;\r\n  coercions: Array<{\r\n    row: number;\r\n    column: string;\r\n    originalValue: any;\r\n    coercedValue: any;\r\n    reason: string;\r\n  }>;\r\n  quarantinedRows: Array<{\r\n    row: number;\r\n    data: any;\r\n    reason: string;\r\n  }>;\r\n}\r\n\r\n// Referential integrity definition\r\nexport interface ReferentialIntegrityRule {\r\n  sourceTable: string;\r\n  sourceColumn: string;\r\n  targetTable: string;\r\n  targetColumn: string;\r\n  nullable: boolean;\r\n  onMissing: 'fail' | 'warn' | 'ignore' | 'setNull';\r\n}\r\n\r\n// Parse result with lineage\r\nexport interface StrictParseResult<T> {\r\n  data: T[];\r\n  lineage: DataLineage;\r\n  errors: ParseError[];\r\n  warnings: ParseWarning[];\r\n  success: boolean;\r\n}\r\n\r\nexport interface ParseError {\r\n  row?: number;\r\n  column?: string;\r\n  value?: any;\r\n  message: string;\r\n  type: 'type' | 'range' | 'required' | 'unique' | 'referential' | 'schema';\r\n}\r\n\r\nexport interface ParseWarning {\r\n  row?: number;\r\n  column?: string;\r\n  value?: any;\r\n  message: string;\r\n  type: string;\r\n}\r\n\r\n/**\r\n * Pre-defined schemas for FFTools CSV files\r\n */\r\nexport const CSV_SCHEMAS = {\r\n  // ADP Data Schema\r\n  ADP_DATA: {\r\n    name: 'adp_data',\r\n    columns: [\r\n      { name: 'Overall Rank', type: ColumnType.INTEGER, required: true, min: 1, max: 500 },\r\n      { name: 'Full Name', type: ColumnType.STRING, required: true },\r\n      { name: 'Team Abbreviation', type: ColumnType.STRING, required: true, pattern: /^[A-Z]{2,3}$/ },\r\n      { name: 'Position', type: ColumnType.ENUM, required: true, allowedValues: ['QB', 'RB', 'WR', 'TE', 'DST', 'K'] },\r\n      { name: 'Position Rank', type: ColumnType.INTEGER, required: true, min: 1, max: 100 },\r\n      { name: 'Bye Week', type: ColumnType.INTEGER, required: false, min: 1, max: 18 },\r\n      { name: 'ADP', type: ColumnType.FLOAT, required: true, min: 1, max: 300 },\r\n      { name: 'Projected Points', type: ColumnType.FLOAT, required: true, min: 0, max: 500 },\r\n      { name: 'Auction Value', type: ColumnType.CURRENCY, required: false, min: 0, max: 200 },\r\n      { name: 'Is Rookie', type: ColumnType.ENUM, required: false, allowedValues: ['Yes', 'No'] },\r\n      { name: 'Data Status', type: ColumnType.ENUM, required: false, allowedValues: ['Complete', 'Partial', 'Pending'] }\r\n    ],\r\n    uniqueKeys: [['Full Name', 'Position']],\r\n    allowExtraColumns: false,\r\n    encoding: 'UTF-8',\r\n    delimiter: ',',\r\n    quoteChar: '\"',\r\n    escapeChar: '\\\\',\r\n    hasHeader: true,\r\n    skipRows: 0,\r\n    naValues: ['', 'N/A', '--', 'null', 'NA', 'n/a', '-'],\r\n    thousandsSeparator: ',',\r\n    decimalSeparator: '.',\r\n    duplicatePolicy: 'fail',\r\n    validationMode: 'strict'\r\n  } as CSVSchema,\r\n\r\n  // Player Projections Schema\r\n  PROJECTIONS: {\r\n    name: 'projections',\r\n    columns: [\r\n      { name: 'playerName', type: ColumnType.STRING, required: true },\r\n      { name: 'teamName', type: ColumnType.STRING, required: true },\r\n      { name: 'position', type: ColumnType.ENUM, required: true, allowedValues: ['QB', 'RB', 'WR', 'TE', 'DST', 'K'] },\r\n      { name: 'byeWeek', type: ColumnType.INTEGER, required: false, min: 1, max: 18 },\r\n      { name: 'games', type: ColumnType.INTEGER, required: false, min: 0, max: 17 },\r\n      { name: 'fantasyPoints', type: ColumnType.FLOAT, required: true, min: 0, max: 600 },\r\n      { name: 'auctionValue', type: ColumnType.CURRENCY, required: false, min: 0, max: 200 },\r\n      { name: 'passComp', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'passAtt', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'passYds', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'passTd', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'passInt', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'rushAtt', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'rushYds', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'rushTd', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'recvTargets', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'recvReceptions', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'recvYds', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'recvTd', type: ColumnType.FLOAT, required: false, min: 0 }\r\n    ],\r\n    uniqueKeys: [['playerName', 'teamName', 'position']],\r\n    allowExtraColumns: true, // Some sources have additional stats\r\n    encoding: 'UTF-8',\r\n    delimiter: ',',\r\n    quoteChar: '\"',\r\n    escapeChar: '\\\\',\r\n    hasHeader: true,\r\n    skipRows: 0,\r\n    naValues: ['', 'N/A', '--', 'null', 'NA', 'n/a', '-', '0'],\r\n    thousandsSeparator: ',',\r\n    decimalSeparator: '.',\r\n    duplicatePolicy: 'last', // Keep most recent projection\r\n    validationMode: 'strict'\r\n  } as CSVSchema,\r\n\r\n  // Team Metrics Schema (Tab-delimited)\r\n  TEAM_METRICS: {\r\n    name: 'team_metrics',\r\n    columns: [\r\n      { name: 'Rank', type: ColumnType.INTEGER, required: true, min: 1, max: 32 },\r\n      { name: 'Team', type: ColumnType.STRING, required: true },\r\n      { name: '2024', type: ColumnType.FLOAT, required: false },\r\n      { name: 'Last 3', type: ColumnType.FLOAT, required: false },\r\n      { name: 'Last 1', type: ColumnType.FLOAT, required: false },\r\n      { name: 'Home', type: ColumnType.FLOAT, required: false },\r\n      { name: 'Away', type: ColumnType.FLOAT, required: false },\r\n      { name: '2023', type: ColumnType.FLOAT, required: false }\r\n    ],\r\n    uniqueKeys: [['Team']],\r\n    allowExtraColumns: false,\r\n    encoding: 'UTF-8',\r\n    delimiter: '\\t',\r\n    quoteChar: '\"',\r\n    escapeChar: '\\\\',\r\n    hasHeader: true,\r\n    skipRows: 0,\r\n    naValues: ['', '--', 'N/A'],\r\n    thousandsSeparator: ',',\r\n    decimalSeparator: '.',\r\n    duplicatePolicy: 'fail',\r\n    validationMode: 'strict'\r\n  } as CSVSchema,\r\n\r\n  // Fantasy Pros Advanced Stats Schema\r\n  ADVANCED_STATS_WR: {\r\n    name: 'advanced_stats_wr',\r\n    columns: [\r\n      { name: 'Player', type: ColumnType.STRING, required: true },\r\n      { name: 'Team', type: ColumnType.STRING, required: false },\r\n      { name: 'Targets', type: ColumnType.INTEGER, required: false, min: 0 },\r\n      { name: 'Target Share', type: ColumnType.PERCENTAGE, required: false, min: 0, max: 100 },\r\n      { name: 'Receptions', type: ColumnType.INTEGER, required: false, min: 0 },\r\n      { name: 'Catch Rate', type: ColumnType.PERCENTAGE, required: false, min: 0, max: 100 },\r\n      { name: 'Yards', type: ColumnType.INTEGER, required: false, min: 0 },\r\n      { name: 'YAC', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'Air Yards', type: ColumnType.FLOAT, required: false, min: 0 },\r\n      { name: 'Red Zone Targets', type: ColumnType.INTEGER, required: false, min: 0 },\r\n      { name: 'TDs', type: ColumnType.INTEGER, required: false, min: 0 }\r\n    ],\r\n    uniqueKeys: [['Player']],\r\n    allowExtraColumns: true,\r\n    encoding: 'UTF-8',\r\n    delimiter: ',',\r\n    quoteChar: '\"',\r\n    escapeChar: '\\\\',\r\n    hasHeader: true,\r\n    skipRows: 0,\r\n    naValues: ['', '--', 'N/A', '-'],\r\n    thousandsSeparator: ',',\r\n    decimalSeparator: '.',\r\n    duplicatePolicy: 'last',\r\n    validationMode: 'warning'\r\n  } as CSVSchema\r\n};\r\n\r\n/**\r\n * Referential integrity rules for FFTools data\r\n */\r\nexport const REFERENTIAL_INTEGRITY_RULES: ReferentialIntegrityRule[] = [\r\n  // Player names in projections must exist in ADP data\r\n  {\r\n    sourceTable: 'projections',\r\n    sourceColumn: 'playerName',\r\n    targetTable: 'adp_data',\r\n    targetColumn: 'Full Name',\r\n    nullable: false,\r\n    onMissing: 'warn'\r\n  },\r\n  // Team codes must be valid\r\n  {\r\n    sourceTable: 'projections',\r\n    sourceColumn: 'teamName',\r\n    targetTable: 'team_metrics',\r\n    targetColumn: 'Team',\r\n    nullable: false,\r\n    onMissing: 'fail'\r\n  },\r\n  // Player in advanced stats should exist in projections\r\n  {\r\n    sourceTable: 'advanced_stats_wr',\r\n    sourceColumn: 'Player',\r\n    targetTable: 'projections',\r\n    targetColumn: 'playerName',\r\n    nullable: false,\r\n    onMissing: 'warn'\r\n  }\r\n];\r\n\r\n/**\r\n * Type coercion functions for each data type\r\n */\r\nexport const TYPE_COERCERS = {\r\n  [ColumnType.STRING]: (value: any, schema: ColumnSchema): string | null => {\r\n    if (value == null) return schema.required ? null : (schema.default ?? null);\r\n    const str = String(value).trim();\r\n    if (schema.pattern && !schema.pattern.test(str)) {\r\n      throw new Error(`Value \"${str}\" does not match pattern ${schema.pattern}`);\r\n    }\r\n    return str;\r\n  },\r\n\r\n  [ColumnType.INTEGER]: (value: any, schema: ColumnSchema): number | null => {\r\n    if (value == null || String(value).trim() === '') {\r\n      return schema.required ? null : (schema.default ?? null);\r\n    }\r\n    const num = parseInt(String(value).replace(/,/g, ''), 10);\r\n    if (isNaN(num)) {\r\n      throw new Error(`Cannot parse \"${value}\" as integer`);\r\n    }\r\n    if (schema.min !== undefined && num < schema.min) {\r\n      throw new Error(`Value ${num} is below minimum ${schema.min}`);\r\n    }\r\n    if (schema.max !== undefined && num > schema.max) {\r\n      throw new Error(`Value ${num} is above maximum ${schema.max}`);\r\n    }\r\n    return num;\r\n  },\r\n\r\n  [ColumnType.FLOAT]: (value: any, schema: ColumnSchema): number | null => {\r\n    if (value == null || String(value).trim() === '') {\r\n      return schema.required ? null : (schema.default ?? null);\r\n    }\r\n    const num = parseFloat(String(value).replace(/,/g, ''));\r\n    if (isNaN(num)) {\r\n      throw new Error(`Cannot parse \"${value}\" as float`);\r\n    }\r\n    if (schema.min !== undefined && num < schema.min) {\r\n      throw new Error(`Value ${num} is below minimum ${schema.min}`);\r\n    }\r\n    if (schema.max !== undefined && num > schema.max) {\r\n      throw new Error(`Value ${num} is above maximum ${schema.max}`);\r\n    }\r\n    return num;\r\n  },\r\n\r\n  [ColumnType.BOOLEAN]: (value: any, schema: ColumnSchema): boolean | null => {\r\n    if (value == null) return schema.required ? null : (schema.default ?? null);\r\n    const str = String(value).trim().toLowerCase();\r\n    if (['true', 'yes', '1', 't', 'y'].includes(str)) return true;\r\n    if (['false', 'no', '0', 'f', 'n'].includes(str)) return false;\r\n    throw new Error(`Cannot parse \"${value}\" as boolean`);\r\n  },\r\n\r\n  [ColumnType.PERCENTAGE]: (value: any, schema: ColumnSchema): number | null => {\r\n    if (value == null || String(value).trim() === '') {\r\n      return schema.required ? null : (schema.default ?? null);\r\n    }\r\n    const str = String(value).replace('%', '').replace(/,/g, '');\r\n    const num = parseFloat(str);\r\n    if (isNaN(num)) {\r\n      throw new Error(`Cannot parse \"${value}\" as percentage`);\r\n    }\r\n    // Convert to decimal if it's a percentage value > 1\r\n    const decimal = num > 1 ? num / 100 : num;\r\n    if (schema.min !== undefined && decimal < schema.min / 100) {\r\n      throw new Error(`Value ${decimal * 100}% is below minimum ${schema.min}%`);\r\n    }\r\n    if (schema.max !== undefined && decimal > schema.max / 100) {\r\n      throw new Error(`Value ${decimal * 100}% is above maximum ${schema.max}%`);\r\n    }\r\n    return decimal;\r\n  },\r\n\r\n  [ColumnType.CURRENCY]: (value: any, schema: ColumnSchema): number | null => {\r\n    if (value == null || String(value).trim() === '') {\r\n      return schema.required ? null : (schema.default ?? null);\r\n    }\r\n    const str = String(value).replace(/[$,]/g, '').trim();\r\n    const num = parseFloat(str);\r\n    if (isNaN(num)) {\r\n      throw new Error(`Cannot parse \"${value}\" as currency`);\r\n    }\r\n    if (schema.min !== undefined && num < schema.min) {\r\n      throw new Error(`Value $${num} is below minimum $${schema.min}`);\r\n    }\r\n    if (schema.max !== undefined && num > schema.max) {\r\n      throw new Error(`Value $${num} is above maximum $${schema.max}`);\r\n    }\r\n    return num;\r\n  },\r\n\r\n  [ColumnType.ENUM]: (value: any, schema: ColumnSchema): any => {\r\n    if (value == null || String(value).trim() === '') {\r\n      return schema.required ? null : (schema.default ?? null);\r\n    }\r\n    const str = String(value).trim();\r\n    if (!schema.allowedValues?.includes(str)) {\r\n      throw new Error(`Value \"${str}\" is not in allowed values: ${schema.allowedValues?.join(', ')}`);\r\n    }\r\n    return str;\r\n  },\r\n\r\n  [ColumnType.DATE]: (value: any, schema: ColumnSchema): Date | null => {\r\n    if (value == null) return schema.required ? null : (schema.default ?? null);\r\n    const date = new Date(String(value));\r\n    if (isNaN(date.getTime())) {\r\n      throw new Error(`Cannot parse \"${value}\" as date`);\r\n    }\r\n    return date;\r\n  }\r\n};","/**\r\n * Strict CSV Parser with Schema Enforcement\r\n * Implements explicit dtypes, validation, referential integrity, and comprehensive logging\r\n */\r\n\r\nimport Papa from 'papaparse';\r\nimport {\r\n  CSVSchema,\r\n  ColumnSchema,\r\n  ColumnType,\r\n  ParseConfig,\r\n  DataLineage,\r\n  StrictParseResult,\r\n  ParseError,\r\n  ParseWarning,\r\n  ReferentialIntegrityRule,\r\n  TYPE_COERCERS\r\n} from './csvSchema';\r\nimport { removeBOM } from './csvParser';\r\nimport { logger } from './logger';\r\n\r\nexport class StrictCSVParser {\r\n  private dataStore: Map<string, any[]> = new Map(); // For referential integrity checks\r\n  private quarantine: Array<{ row: any; reason: string; lineNumber: number }> = [];\r\n  private coercions: Array<{ row: number; column: string; originalValue: any; coercedValue: any; reason: string }> = [];\r\n\r\n  /**\r\n   * Parse CSV with strict schema enforcement\r\n   */\r\n  public parseWithSchema<T extends Record<string, any>>(\r\n    content: string,\r\n    config: ParseConfig\r\n  ): StrictParseResult<T> {\r\n    const startTime = performance.now();\r\n    const schema = config.schema;\r\n    const lineage: DataLineage = {\r\n      sourceFile: schema.name,\r\n      parsedAt: new Date(),\r\n      rowCountOriginal: 0,\r\n      rowCountAfterHeaders: 0,\r\n      rowCountAfterEmpty: 0,\r\n      rowCountAfterDuplicates: 0,\r\n      rowCountAfterValidation: 0,\r\n      rowCountFinal: 0,\r\n      duplicatesRemoved: 0,\r\n      validationErrors: 0,\r\n      coercions: [],\r\n      quarantinedRows: []\r\n    };\r\n\r\n    const errors: ParseError[] = [];\r\n    const warnings: ParseWarning[] = [];\r\n\r\n    try {\r\n      // Step 1: Handle BOM\r\n      logger.info(`[${schema.name}] Step 1: BOM handling`);\r\n      let processedContent = content;\r\n      if (config.bomHandling === 'remove') {\r\n        processedContent = removeBOM(content);\r\n        if (processedContent !== content) {\r\n          logger.info(`[${schema.name}] BOM detected and removed`);\r\n        }\r\n      } else if (config.bomHandling === 'fail' && content.startsWith('\\uFEFF')) {\r\n        throw new Error('BOM detected but bomHandling is set to \"fail\"');\r\n      }\r\n\r\n      // Step 2: Count original rows\r\n      const originalLines = processedContent.split('\\n');\r\n      lineage.rowCountOriginal = originalLines.length;\r\n      logger.info(`[${schema.name}] Step 2: Original row count: ${lineage.rowCountOriginal}`);\r\n\r\n      // Step 3: Parse CSV with Papa Parse\r\n      logger.info(`[${schema.name}] Step 3: Parsing CSV with delimiter: \"${schema.delimiter}\"`);\r\n      const parseResult = Papa.parse(processedContent, {\r\n        delimiter: schema.delimiter,\r\n        quoteChar: schema.quoteChar,\r\n        escapeChar: schema.escapeChar,\r\n        header: schema.hasHeader,\r\n        skipEmptyLines: config.skipEmptyLines,\r\n        dynamicTyping: false, // We'll handle typing ourselves\r\n        encoding: schema.encoding,\r\n        comments: false,\r\n        trimHeaders: config.trimWhitespace,\r\n        transformHeader: (header: string) => config.trimWhitespace ? header.trim() : header\r\n      });\r\n\r\n      if (parseResult.errors.length > 0) {\r\n        const criticalErrors = parseResult.errors.filter(\r\n          e => e.type !== 'FieldMismatch' && !e.message?.includes('Too many fields')\r\n        );\r\n        if (criticalErrors.length > 0) {\r\n          logger.error(`[${schema.name}] Critical parsing errors:`, { errors: criticalErrors });\r\n          criticalErrors.forEach(e => {\r\n            errors.push({\r\n              row: e.row,\r\n              message: e.message || 'Unknown parsing error',\r\n              type: 'schema'\r\n            });\r\n          });\r\n        }\r\n      }\r\n\r\n      let data = parseResult.data as any[];\r\n      lineage.rowCountAfterHeaders = data.length;\r\n      logger.info(`[${schema.name}] Step 4: Rows after header: ${lineage.rowCountAfterHeaders}`);\r\n\r\n      // Step 4: Skip specified rows\r\n      if (schema.skipRows > 0) {\r\n        data = data.slice(schema.skipRows);\r\n        logger.info(`[${schema.name}] Skipped ${schema.skipRows} rows`);\r\n      }\r\n\r\n      // Step 5: Remove empty rows\r\n      const beforeEmpty = data.length;\r\n      if (config.skipEmptyLines) {\r\n        data = data.filter(row => {\r\n          const values = Object.values(row);\r\n          return values.some(v => v != null && String(v).trim() !== '');\r\n        });\r\n      }\r\n      lineage.rowCountAfterEmpty = data.length;\r\n      logger.info(`[${schema.name}] Step 5: Rows after removing empty: ${lineage.rowCountAfterEmpty} (removed ${beforeEmpty - data.length})`);\r\n\r\n      // Step 6: Schema validation and column checking\r\n      logger.info(`[${schema.name}] Step 6: Schema validation`);\r\n      const schemaColumns = new Set(schema.columns.map(c => c.name));\r\n      const actualColumns = new Set(Object.keys(data[0] || {}));\r\n\r\n      // Check for unexpected columns\r\n      if (!schema.allowExtraColumns) {\r\n        const extraColumns = Array.from(actualColumns).filter(c => !schemaColumns.has(c));\r\n        if (extraColumns.length > 0) {\r\n          const error: ParseError = {\r\n            message: `Unexpected columns found: ${extraColumns.join(', ')}`,\r\n            type: 'schema'\r\n          };\r\n          if (schema.validationMode === 'strict') {\r\n            errors.push(error);\r\n            throw new Error(error.message);\r\n          } else {\r\n            warnings.push(error as ParseWarning);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Check for missing required columns\r\n      const missingColumns = schema.columns\r\n        .filter(c => c.required && !actualColumns.has(c.name))\r\n        .map(c => c.name);\r\n      \r\n      if (missingColumns.length > 0) {\r\n        throw new Error(`Missing required columns: ${missingColumns.join(', ')}`);\r\n      }\r\n\r\n      // Step 7: Type coercion and validation\r\n      logger.info(`[${schema.name}] Step 7: Type coercion and validation`);\r\n      const validatedData: T[] = [];\r\n      const rowsToQuarantine: number[] = [];\r\n\r\n      for (let i = 0; i < data.length; i++) {\r\n        const row = data[i];\r\n        const validatedRow: any = {};\r\n        let rowValid = true;\r\n        const rowErrors: string[] = [];\r\n\r\n        for (const columnSchema of schema.columns) {\r\n          const rawValue = row[columnSchema.name];\r\n          const isNA = schema.naValues.includes(String(rawValue).trim());\r\n\r\n          try {\r\n            // Handle NA values\r\n            if (isNA) {\r\n              if (columnSchema.required) {\r\n                rowErrors.push(`Required column \"${columnSchema.name}\" has NA value`);\r\n                rowValid = false;\r\n              } else {\r\n                validatedRow[columnSchema.name] = columnSchema.default ?? null;\r\n              }\r\n              continue;\r\n            }\r\n\r\n            // Type coercion\r\n            const coercer = TYPE_COERCERS[columnSchema.type];\r\n            if (!coercer) {\r\n              throw new Error(`No coercer for type ${columnSchema.type}`);\r\n            }\r\n\r\n            const coercedValue = coercer(rawValue, columnSchema);\r\n            \r\n            // Track coercion if value changed\r\n            if (coercedValue !== rawValue && rawValue != null) {\r\n              this.coercions.push({\r\n                row: i + 1,\r\n                column: columnSchema.name,\r\n                originalValue: rawValue,\r\n                coercedValue: coercedValue,\r\n                reason: `Type coercion to ${columnSchema.type}`\r\n              });\r\n            }\r\n\r\n            // Check if required field is null after coercion\r\n            if (columnSchema.required && coercedValue == null) {\r\n              rowErrors.push(`Required column \"${columnSchema.name}\" is null`);\r\n              rowValid = false;\r\n            }\r\n\r\n            validatedRow[columnSchema.name] = coercedValue;\r\n\r\n          } catch (error) {\r\n            const errorMsg = `Column \"${columnSchema.name}\": ${error instanceof Error ? error.message : String(error)}`;\r\n            rowErrors.push(errorMsg);\r\n            rowValid = false;\r\n            \r\n            errors.push({\r\n              row: i + 1,\r\n              column: columnSchema.name,\r\n              value: rawValue,\r\n              message: errorMsg,\r\n              type: 'type'\r\n            });\r\n          }\r\n        }\r\n\r\n        if (!rowValid) {\r\n          if (schema.validationMode === 'strict') {\r\n            rowsToQuarantine.push(i);\r\n            this.quarantine.push({\r\n              row: row,\r\n              reason: rowErrors.join('; '),\r\n              lineNumber: i + 1\r\n            });\r\n            lineage.validationErrors++;\r\n          } else if (schema.validationMode === 'warning') {\r\n            warnings.push({\r\n              row: i + 1,\r\n              message: rowErrors.join('; '),\r\n              type: 'validation'\r\n            });\r\n            validatedData.push(validatedRow as T);\r\n          }\r\n        } else {\r\n          validatedData.push(validatedRow as T);\r\n        }\r\n      }\r\n\r\n      lineage.rowCountAfterValidation = validatedData.length;\r\n      logger.info(`[${schema.name}] Step 8: Rows after validation: ${lineage.rowCountAfterValidation} (quarantined ${rowsToQuarantine.length})`);\r\n\r\n      // Step 8: Handle duplicates\r\n      logger.info(`[${schema.name}] Step 9: Duplicate handling with policy: ${schema.duplicatePolicy}`);\r\n      const { deduplicated, duplicatesRemoved } = this.handleDuplicates(\r\n        validatedData,\r\n        schema\r\n      );\r\n      lineage.rowCountAfterDuplicates = deduplicated.length;\r\n      lineage.duplicatesRemoved = duplicatesRemoved;\r\n      \r\n      if (duplicatesRemoved > 0) {\r\n        logger.info(`[${schema.name}] Removed ${duplicatesRemoved} duplicate rows`);\r\n      }\r\n\r\n      // Step 9: Apply max rows limit if specified\r\n      let finalData = deduplicated;\r\n      if (schema.maxRows && finalData.length > schema.maxRows) {\r\n        logger.warn(`[${schema.name}] Truncating to maxRows: ${schema.maxRows}`);\r\n        finalData = finalData.slice(0, schema.maxRows);\r\n      }\r\n\r\n      lineage.rowCountFinal = finalData.length;\r\n      lineage.coercions = this.coercions;\r\n      lineage.quarantinedRows = this.quarantine;\r\n\r\n      // Step 10: Store for referential integrity checks\r\n      this.dataStore.set(schema.name, finalData);\r\n\r\n      // Step 11: Log final summary\r\n      const duration = performance.now() - startTime;\r\n      logger.info(`[${schema.name}] ===== PARSING COMPLETE =====`);\r\n      logger.info(`[${schema.name}] Duration: ${duration.toFixed(2)}ms`);\r\n      logger.info(`[${schema.name}] Original rows: ${lineage.rowCountOriginal}`);\r\n      logger.info(`[${schema.name}] After headers: ${lineage.rowCountAfterHeaders}`);\r\n      logger.info(`[${schema.name}] After empty removal: ${lineage.rowCountAfterEmpty}`);\r\n      logger.info(`[${schema.name}] After validation: ${lineage.rowCountAfterValidation}`);\r\n      logger.info(`[${schema.name}] After deduplication: ${lineage.rowCountAfterDuplicates}`);\r\n      logger.info(`[${schema.name}] Final count: ${lineage.rowCountFinal}`);\r\n      logger.info(`[${schema.name}] Coercions: ${lineage.coercions.length}`);\r\n      logger.info(`[${schema.name}] Quarantined: ${lineage.quarantinedRows.length}`);\r\n      logger.info(`[${schema.name}] Errors: ${errors.length}`);\r\n      logger.info(`[${schema.name}] Warnings: ${warnings.length}`);\r\n      logger.info(`[${schema.name}] ===========================`);\r\n\r\n      return {\r\n        data: finalData,\r\n        lineage,\r\n        errors,\r\n        warnings,\r\n        success: errors.length === 0 || schema.validationMode !== 'strict'\r\n      };\r\n\r\n    } catch (error) {\r\n      logger.error(`[${schema.name}] Fatal parsing error:`, error);\r\n      return {\r\n        data: [],\r\n        lineage,\r\n        errors: [...errors, {\r\n          message: error instanceof Error ? error.message : String(error),\r\n          type: 'schema'\r\n        }],\r\n        warnings,\r\n        success: false\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle duplicate rows based on schema policy\r\n   */\r\n  private handleDuplicates<T extends Record<string, any>>(\r\n    data: T[],\r\n    schema: CSVSchema\r\n  ): { deduplicated: T[]; duplicatesRemoved: number } {\r\n    if (schema.duplicatePolicy === 'first' || schema.duplicatePolicy === 'last') {\r\n      const seen = new Map<string, T>();\r\n      let duplicatesRemoved = 0;\r\n\r\n      for (const row of data) {\r\n        // Generate composite key\r\n        const keys = schema.uniqueKeys.map(keySet => \r\n          keySet.map(col => String(row[col] ?? '')).join('|')\r\n        );\r\n        \r\n        for (const key of keys) {\r\n          if (seen.has(key)) {\r\n            duplicatesRemoved++;\r\n            if (schema.duplicatePolicy === 'last') {\r\n              seen.set(key, row); // Replace with newer\r\n            }\r\n            // If 'first', don't replace\r\n          } else {\r\n            seen.set(key, row);\r\n          }\r\n        }\r\n      }\r\n\r\n      return {\r\n        deduplicated: Array.from(seen.values()),\r\n        duplicatesRemoved\r\n      };\r\n    } else if (schema.duplicatePolicy === 'fail') {\r\n      const seen = new Set<string>();\r\n      const duplicateKeys: string[] = [];\r\n\r\n      for (const row of data) {\r\n        const keys = schema.uniqueKeys.map(keySet => \r\n          keySet.map(col => String(row[col] ?? '')).join('|')\r\n        );\r\n        \r\n        for (const key of keys) {\r\n          if (seen.has(key)) {\r\n            duplicateKeys.push(key);\r\n          }\r\n          seen.add(key);\r\n        }\r\n      }\r\n\r\n      if (duplicateKeys.length > 0) {\r\n        throw new Error(`Duplicate keys found: ${duplicateKeys.slice(0, 10).join(', ')}${duplicateKeys.length > 10 ? '...' : ''}`);\r\n      }\r\n    } else if (schema.duplicatePolicy === 'quarantine') {\r\n      const seen = new Set<string>();\r\n      const deduplicated: T[] = [];\r\n      let quarantinedCount = 0;\r\n\r\n      for (const row of data) {\r\n        const keys = schema.uniqueKeys.map(keySet => \r\n          keySet.map(col => String(row[col] ?? '')).join('|')\r\n        );\r\n        \r\n        let isDuplicate = false;\r\n        for (const key of keys) {\r\n          if (seen.has(key)) {\r\n            isDuplicate = true;\r\n            break;\r\n          }\r\n          seen.add(key);\r\n        }\r\n\r\n        if (isDuplicate) {\r\n          this.quarantine.push({\r\n            row,\r\n            reason: 'Duplicate key',\r\n            lineNumber: -1\r\n          });\r\n          quarantinedCount++;\r\n        } else {\r\n          deduplicated.push(row);\r\n        }\r\n      }\r\n\r\n      return {\r\n        deduplicated,\r\n        duplicatesRemoved: quarantinedCount\r\n      };\r\n    }\r\n\r\n    return { deduplicated: data, duplicatesRemoved: 0 };\r\n  }\r\n\r\n  /**\r\n   * Check referential integrity across datasets\r\n   */\r\n  public checkReferentialIntegrity(rules: ReferentialIntegrityRule[]): {\r\n    valid: boolean;\r\n    violations: Array<{\r\n      rule: ReferentialIntegrityRule;\r\n      missingValues: any[];\r\n      count: number;\r\n    }>;\r\n  } {\r\n    const violations: Array<{\r\n      rule: ReferentialIntegrityRule;\r\n      missingValues: any[];\r\n      count: number;\r\n    }> = [];\r\n\r\n    for (const rule of rules) {\r\n      const sourceData = this.dataStore.get(rule.sourceTable);\r\n      const targetData = this.dataStore.get(rule.targetTable);\r\n\r\n      if (!sourceData || !targetData) {\r\n        logger.warn(`Cannot check referential integrity: missing data for ${rule.sourceTable} -> ${rule.targetTable}`);\r\n        continue;\r\n      }\r\n\r\n      // Build lookup set from target\r\n      const targetValues = new Set(\r\n        targetData.map(row => String(row[rule.targetColumn] ?? '').toLowerCase())\r\n      );\r\n\r\n      // Check source values\r\n      const missingValues: any[] = [];\r\n      for (const row of sourceData) {\r\n        const sourceValue = row[rule.sourceColumn];\r\n        if (sourceValue == null && rule.nullable) {\r\n          continue;\r\n        }\r\n\r\n        const normalizedValue = String(sourceValue ?? '').toLowerCase();\r\n        if (!targetValues.has(normalizedValue)) {\r\n          missingValues.push(sourceValue);\r\n        }\r\n      }\r\n\r\n      if (missingValues.length > 0) {\r\n        violations.push({\r\n          rule,\r\n          missingValues: [...new Set(missingValues)].slice(0, 10), // Unique, first 10\r\n          count: missingValues.length\r\n        });\r\n\r\n        const logMessage = `Referential integrity violation: ${rule.sourceTable}.${rule.sourceColumn} -> ${rule.targetTable}.${rule.targetColumn}: ${missingValues.length} missing values`;\r\n        \r\n        if (rule.onMissing === 'fail') {\r\n          logger.error(logMessage);\r\n        } else if (rule.onMissing === 'warn') {\r\n          logger.warn(logMessage);\r\n        }\r\n      }\r\n    }\r\n\r\n    logger.info(`Referential integrity check complete: ${violations.length} violations found`);\r\n    return {\r\n      valid: violations.length === 0,\r\n      violations\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get parsed data by table name\r\n   */\r\n  public getData(tableName: string): any[] | undefined {\r\n    return this.dataStore.get(tableName);\r\n  }\r\n\r\n  /**\r\n   * Get quarantined rows\r\n   */\r\n  public getQuarantinedRows(): Array<{ row: any; reason: string; lineNumber: number }> {\r\n    return this.quarantine;\r\n  }\r\n\r\n  /**\r\n   * Clear all stored data\r\n   */\r\n  public clearDataStore(): void {\r\n    this.dataStore.clear();\r\n    this.quarantine = [];\r\n    this.coercions = [];\r\n  }\r\n\r\n  /**\r\n   * Export data lineage report\r\n   */\r\n  public exportLineageReport(): string {\r\n    const report: string[] = ['=== DATA LINEAGE REPORT ===\\n'];\r\n    \r\n    for (const [tableName, data] of this.dataStore.entries()) {\r\n      report.push(`Table: ${tableName}`);\r\n      report.push(`  Rows: ${data.length}`);\r\n      report.push(`  Columns: ${Object.keys(data[0] || {}).join(', ')}`);\r\n      report.push('');\r\n    }\r\n\r\n    if (this.quarantine.length > 0) {\r\n      report.push(`\\n=== QUARANTINED ROWS (${this.quarantine.length} total) ===`);\r\n      this.quarantine.slice(0, 10).forEach(q => {\r\n        report.push(`  Line ${q.lineNumber}: ${q.reason}`);\r\n      });\r\n      if (this.quarantine.length > 10) {\r\n        report.push(`  ... and ${this.quarantine.length - 10} more`);\r\n      }\r\n    }\r\n\r\n    if (this.coercions.length > 0) {\r\n      report.push(`\\n=== COERCIONS (${this.coercions.length} total) ===`);\r\n      const coercionSummary = new Map<string, number>();\r\n      this.coercions.forEach(c => {\r\n        const key = `${c.column}: ${c.reason}`;\r\n        coercionSummary.set(key, (coercionSummary.get(key) || 0) + 1);\r\n      });\r\n      \r\n      for (const [key, count] of coercionSummary.entries()) {\r\n        report.push(`  ${key}: ${count} occurrences`);\r\n      }\r\n    }\r\n\r\n    return report.join('\\n');\r\n  }\r\n}\r\n\r\n// Export singleton instance for convenience\r\nexport const strictParser = new StrictCSVParser();","import { \r\n  WRAdvancedStats, \r\n  RBAdvancedStats, \r\n  TEAdvancedStats, \r\n  QBAdvancedStats,\r\n  PlayerAdvanced \r\n} from '@/types';\r\nimport { normalizeTeamName } from './teamMappings';\r\nimport { parseCSVSafe, parseNumber as parseNum, logger } from '@/lib/utils';\r\n\r\n// Helper to parse player name and team from \"Name (TEAM)\" format\r\nfunction parsePlayerNameAndTeam(nameWithTeam: string): { name: string; team: string | null } {\r\n  const match = nameWithTeam.match(/^(.+?)\\s+\\(([A-Z]{2,3}|FA)\\)$/);\r\n  if (match) {\r\n    const name = match[1].trim();\r\n    const teamRaw = match[2];\r\n    const team = teamRaw === 'FA' ? null : normalizeTeamName(teamRaw);\r\n    return { name, team };\r\n  }\r\n  // Fallback if pattern doesn't match\r\n  return { name: nameWithTeam.trim(), team: null };\r\n}\r\n\r\n// Use imported parseNum function, rename to avoid conflict\r\nconst parseNumber = parseNum;\r\n\r\n// Helper to parse percentage values\r\nfunction parsePercent(value: any): number | undefined {\r\n  const num = parseNumber(String(value).replace('%', ''));\r\n  if (num === undefined) return undefined;\r\n  // If it's already a decimal (0.xx), return as is\r\n  // If it's a whole number (xx), convert to decimal\r\n  return num > 1 ? num / 100 : num;\r\n}\r\n\r\n// Load WR advanced stats\r\nexport async function loadWRAdvanced(): Promise<WRAdvancedStats[]> {\r\n  try {\r\n    const basePath = import.meta.env?.BASE_URL || '/fftool/';\r\n    const url = `${basePath}artifacts/clean_data/FantasyPros_Fantasy_Football_Advanced_Stats_Report_WR.csv`;\r\n    console.log('[loadWRAdvanced] Fetching from:', url);\r\n    const response = await fetch(url);\r\n    \r\n    if (!response.ok) {\r\n      console.warn('Failed to fetch WR advanced stats:', response.status);\r\n      return [];\r\n    }\r\n    \r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Advanced Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      // Calculate catch rate from REC / CATCHABLE\r\n      const receptions = parseNumber(record['REC']);\r\n      const catchable = parseNumber(record['CATCHABLE']);\r\n      const catchRate = (receptions && catchable && catchable > 0) ? \r\n        receptions / catchable : undefined;\r\n      \r\n      // Calculate YPRR if we have yards and routes info\r\n      const yards = parseNumber(record['YDS']);\r\n      const yardsPerRec = parseNumber(record['Y/R']);\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        targetShare: parsePercent(record['% TM'] || record['TGT%']),\r\n        catchRate: catchRate,\r\n        yardsAfterCatch: parseNumber(record['YAC']),\r\n        yardsAfterCatchPerRec: parseNumber(record['YAC/R']),\r\n        separationYards: parseNumber(record['SEP']),\r\n        drops: parseNumber(record['DROP']),\r\n        redZoneTargets: parseNumber(record['RZ TGT']),\r\n        airYards: parseNumber(record['AIR']),\r\n        yardsBeforeContact: parseNumber(record['YBC']),\r\n        targets: parseNumber(record['TGT']),\r\n        receptions: receptions,\r\n        receivingYards: yards,\r\n        yardsPerRouteRun: yardsPerRec // Using Y/R as proxy for now\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load WR advanced stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load TE advanced stats\r\nexport async function loadTEAdvanced(): Promise<TEAdvancedStats[]> {\r\n  try {\r\n    const basePath = import.meta.env?.BASE_URL || '/fftool/';\r\n    const url = `${basePath}artifacts/clean_data/FantasyPros_Fantasy_Football_Advanced_Stats_Report_TE.csv`;\r\n    console.log('[loadTEAdvanced] Fetching from:', url);\r\n    const response = await fetch(url);\r\n    \r\n    if (!response.ok) {\r\n      console.warn('Failed to fetch TE advanced stats:', response.status);\r\n      return [];\r\n    }\r\n    \r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('TE Advanced Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      // Calculate catch rate from REC / CATCHABLE\r\n      const receptions = parseNumber(record['REC']);\r\n      const catchable = parseNumber(record['CATCHABLE']);\r\n      const catchRate = (receptions && catchable && catchable > 0) ? \r\n        receptions / catchable : undefined;\r\n      \r\n      // Get yards data\r\n      const yards = parseNumber(record['YDS']);\r\n      const yardsPerRec = parseNumber(record['Y/R']);\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        targetShare: parsePercent(record['% TM'] || record['TGT%']),\r\n        catchRate: catchRate,\r\n        yardsAfterCatch: parseNumber(record['YAC']),\r\n        yardsAfterCatchPerRec: parseNumber(record['YAC/R']),\r\n        separationYards: parseNumber(record['SEP']),\r\n        drops: parseNumber(record['DROP']),\r\n        redZoneTargets: parseNumber(record['RZ TGT']),\r\n        airYards: parseNumber(record['AIR']),\r\n        yardsBeforeContact: parseNumber(record['YBC']),\r\n        targets: parseNumber(record['TGT']),\r\n        receptions: receptions,\r\n        receivingYards: yards,\r\n        yardsPerRouteRun: yardsPerRec // Using Y/R as proxy for now\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load TE advanced stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load RB advanced stats\r\nexport async function loadRBAdvanced(): Promise<RBAdvancedStats[]> {\r\n  try {\r\n    const basePath = import.meta.env?.BASE_URL || '/fftool/';\r\n    const url = `${basePath}artifacts/clean_data/FantasyPros_Fantasy_Football_Advanced_Stats_Report_RB.csv`;\r\n    console.log('[loadRBAdvanced] Fetching from:', url);\r\n    const response = await fetch(url);\r\n    \r\n    if (!response.ok) {\r\n      console.warn('Failed to fetch RB advanced stats:', response.status);\r\n      return [];\r\n    }\r\n    \r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Advanced Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      // Calculate touches per game if we have attempts and games\r\n      const attempts = parseNumber(record['ATT'] || record['Attempts']);\r\n      const receptions = parseNumber(record['REC'] || record['Receptions']);\r\n      const games = parseNumber(record['G'] || record['Games']);\r\n      let touchesPerGame: number | undefined;\r\n      \r\n      if (attempts !== undefined && receptions !== undefined && games && games > 0) {\r\n        touchesPerGame = (attempts + receptions) / games;\r\n      }\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        yardsPerCarry: parseNumber(record['YPC'] || record['Y/A'] || record['YDS/ATT']),\r\n        yardsBeforeContact: parseNumber(record['YBC/ATT'] || record['YBC/A'] || record['YBC']),\r\n        yardsAfterContact: parseNumber(record['YAC/ATT'] || record['YAC/A'] || record['YAC']),\r\n        brokenTackles: parseNumber(record['BTK'] || record['Broken Tackles']),\r\n        touchesPerGame,\r\n        targetShare: parsePercent(record['TGT%'] || record['Target Share']),\r\n        rushingAttempts: attempts,\r\n        targets: parseNumber(record['TGT'] || record['Targets']),\r\n        receptions,\r\n        redZoneCarries: parseNumber(record['RZ ATT'] || record['RZ Carries'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load RB advanced stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load QB advanced stats\r\nexport async function loadQBAdvanced(): Promise<QBAdvancedStats[]> {\r\n  try {\r\n    const basePath = import.meta.env?.BASE_URL || '/fftool/';\r\n    const url = `${basePath}artifacts/clean_data/FantasyPros_Fantasy_Football_Advanced_Stats_Report_QB.csv`;\r\n    console.log('[loadQBAdvanced] Fetching from:', url);\r\n    const response = await fetch(url);\r\n    \r\n    if (!response.ok) {\r\n      console.warn('Failed to fetch QB advanced stats:', response.status);\r\n      return [];\r\n    }\r\n    \r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Advanced Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      // Calculate TD rate if we have TDs and attempts\r\n      const tds = parseNumber(record['TD'] || record['TDs']);\r\n      const attempts = parseNumber(record['ATT'] || record['Attempts']);\r\n      let tdRate: number | undefined;\r\n      \r\n      if (tds !== undefined && attempts && attempts > 0) {\r\n        tdRate = tds / attempts;\r\n      } else {\r\n        tdRate = parsePercent(record['TD%'] || record['TD Rate']);\r\n      }\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        tdRate,\r\n        yardsPerAttempt: parseNumber(record['Y/A'] || record['YDS/ATT']),\r\n        airYardsPerAttempt: parseNumber(record['AIR/A'] || record['AY/A']),\r\n        completionPct: parsePercent(record['COMP%'] || record['Completion %']),\r\n        pressureRate: parsePercent(record['PRES%'] || record['Pressure Rate']),\r\n        knockdownRate: parsePercent(record['KD%'] || record['Knockdown Rate']),\r\n        hurryRate: parsePercent(record['HURRY%'] || record['Hurry Rate']),\r\n        pocketTime: parseNumber(record['PKT TIME'] || record['Pocket Time']),\r\n        blitzesVs: parseNumber(record['BLTZ'] || record['Blitzes'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load QB advanced stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load all advanced stats\r\nexport async function loadAllPlayerAdvanced(): Promise<Map<string, PlayerAdvanced>> {\r\n  console.log('[PlayerAdvancedLoader] Starting to load all advanced stats...');\r\n  \r\n  try {\r\n    const [wrStats, teStats, rbStats, qbStats] = await Promise.all([\r\n      loadWRAdvanced(),\r\n      loadTEAdvanced(),\r\n      loadRBAdvanced(),\r\n      loadQBAdvanced()\r\n    ]);\r\n    \r\n    console.log('[PlayerAdvancedLoader] Loaded stats:', {\r\n      wrCount: wrStats.length,\r\n      teCount: teStats.length,\r\n      rbCount: rbStats.length,\r\n      qbCount: qbStats.length\r\n    });\r\n    \r\n    const result = new Map<string, PlayerAdvanced>();\r\n    \r\n    // Normalize player names and create map\r\n    const normalizeKey = (name: string, position: string): string => {\r\n      return `${name.toLowerCase().trim()}_${position.toLowerCase()}`;\r\n    };\r\n    \r\n    console.log('[PlayerAdvancedLoader] Creating player advanced map...');\r\n  \r\n  for (const stat of wrStats) {\r\n    const key = normalizeKey(stat.name, 'WR');\r\n    result.set(key, stat);\r\n    if (stat.name.includes('Chase') || stat.name.includes('Lamb')) {\r\n      console.log(`[PlayerAdvancedLoader] Added WR: ${stat.name} with key: ${key}`);\r\n    }\r\n  }\r\n  \r\n  for (const stat of teStats) {\r\n    result.set(normalizeKey(stat.name, 'TE'), stat);\r\n  }\r\n  \r\n  for (const stat of rbStats) {\r\n    result.set(normalizeKey(stat.name, 'RB'), stat);\r\n  }\r\n  \r\n  for (const stat of qbStats) {\r\n    result.set(normalizeKey(stat.name, 'QB'), stat);\r\n  }\r\n  \r\n    console.log('[PlayerAdvancedLoader] Final map size:', result.size);\r\n    console.log('[PlayerAdvancedLoader] Sample keys:', Array.from(result.keys()).slice(0, 10));\r\n    \r\n    return result;\r\n  } catch (error) {\r\n    console.error('[PlayerAdvancedLoader] Error loading advanced stats:', error);\r\n    return new Map();\r\n  }\r\n}","/**\r\n * Data Integration Service\r\n * Bridges the gap between Python ETL pipeline and TypeScript data aggregation\r\n * \r\n * This service ensures:\r\n * 1. Clean data from Python ETL is properly loaded\r\n * 2. ProjectionAggregator combines multiple sources with weights\r\n * 3. PlayerResolver handles name/team normalization\r\n * 4. All inconsistencies are properly handled\r\n */\r\n\r\nimport type { ComprehensiveData } from './dataLoaderV2';\r\nimport type { ComprehensiveData as ComprehensiveDataType } from '@/types';\r\nimport { cleanDataLoader } from './cleanDataLoader';\r\nimport { ProjectionAggregator } from './projectionAggregator';\r\nimport { playerResolver } from './playerResolver';\r\nimport { rosterDataLoader } from './rosterDataLoader';\r\nimport { sosLoader } from './sosLoader';\r\nimport { logger } from './utils/logger';\r\nimport type { PlayerProjection } from '@/types';\r\nimport { safeParseFloat, safeParseInt } from './utils/csvParsingUtils';\r\nimport { loadAllPlayerAdvanced } from './playerAdvancedLoader';\r\n\r\ninterface IntegrationResult {\r\n  success: boolean;\r\n  data?: ComprehensiveData;\r\n  errors: string[];\r\n  warnings: string[];\r\n  stats: {\r\n    totalPlayers: number;\r\n    sourcesProcessed: number;\r\n    projectionsAggregated: number;\r\n    namesNormalized: number;\r\n    teamsNormalized: number;\r\n  };\r\n}\r\n\r\nexport class DataIntegrationService {\r\n  private static instance: DataIntegrationService;\r\n  private aggregator: ProjectionAggregator;\r\n  \r\n  private constructor() {\r\n    this.aggregator = new ProjectionAggregator();\r\n  }\r\n  \r\n  public static getInstance(): DataIntegrationService {\r\n    if (!DataIntegrationService.instance) {\r\n      DataIntegrationService.instance = new DataIntegrationService();\r\n    }\r\n    return DataIntegrationService.instance;\r\n  }\r\n  \r\n  /**\r\n   * Load and integrate data from all sources\r\n   * This is the MAIN entry point that properly uses:\r\n   * 1. Clean data from Python ETL\r\n   * 2. Weighted aggregation\r\n   * 3. Name/team normalization\r\n   */\r\n  public async loadIntegratedData(): Promise<IntegrationResult> {\r\n    const result: IntegrationResult = {\r\n      success: false,\r\n      errors: [],\r\n      warnings: [],\r\n      stats: {\r\n        totalPlayers: 0,\r\n        sourcesProcessed: 0,\r\n        projectionsAggregated: 0,\r\n        namesNormalized: 0,\r\n        teamsNormalized: 0\r\n      }\r\n    };\r\n    \r\n    try {\r\n      logger.info('Starting data integration...');\r\n      \r\n      // Step 1: Load clean data from Python ETL pipeline\r\n      const cleanDataResult = await cleanDataLoader.loadAllCleanData();\r\n      if (!cleanDataResult.success) {\r\n        throw new Error(`Failed to load clean data: ${cleanDataResult.errors.join(', ')}`);\r\n      }\r\n      \r\n      logger.info(`Loaded ${Object.keys(cleanDataResult.manifest.files || {}).length} clean data files`);\r\n      result.stats.sourcesProcessed = Object.keys(cleanDataResult.manifest.files || {}).length;\r\n      \r\n      // Step 2: Prepare projection sources for aggregation\r\n      // Use the ComprehensiveData structure from cleanDataResult\r\n      const projectionSources = this.prepareProjectionSourcesFromComprehensive(cleanDataResult.data);\r\n      \r\n      // Step 3: Aggregate projections with weighting\r\n      // The aggregator already handles:\r\n      // - FantasyPros: 40% weight\r\n      // - CBS: 35% weight  \r\n      // - projections_2025: 25% weight\r\n      const aggregatedProjections = this.aggregator.aggregateProjections(projectionSources);\r\n      const validatedProjections = this.aggregator.validateProjections(aggregatedProjections);\r\n      \r\n      logger.info(`Aggregated ${validatedProjections.length} player projections`);\r\n      \r\n      // Debug: Check for problematic players in projections\r\n      const problematicNames = ['Marquise Brown', 'Hollywood Brown', 'Bills DST', 'Cowboys DST', 'Marvin Mims'];\r\n      const foundProblematic = validatedProjections.filter(p => \r\n        problematicNames.some(name => p.name?.includes(name))\r\n      );\r\n      if (foundProblematic.length > 0) {\r\n        logger.debug('Found problematic players in projections:', foundProblematic.map(p => `${p.name} (${p.position}, ${p.team})`));\r\n      }\r\n      result.stats.projectionsAggregated = validatedProjections.length;\r\n      \r\n      // Step 4: Use ADP data from clean data (already normalized by Python ETL)\r\n      const adpData = cleanDataResult.data.adpData;\r\n      \r\n      // Process ADP data structure\r\n      \r\n      // Step 5: Initialize player resolver for name matching\r\n      logger.info(`Initializing PlayerResolver with ${adpData.length} ADP entries`);\r\n      \r\n      // Check for DSTs in ADP data\r\n      const dstInADP = adpData.filter((p: any) => p.position === 'DST');\r\n      logger.info(`  Found ${dstInADP.length} DST entries in ADP data`);\r\n      \r\n      playerResolver.initialize(adpData);\r\n      \r\n      // Step 5.5: Load roster data for player profiles (height, weight, college, etc.)\r\n      const rosterProfiles = await rosterDataLoader.loadRosterData();\r\n      logger.info(`Loaded ${rosterProfiles.size} player profiles from roster data`);\r\n      \r\n      // Step 5.6: Load strength of schedule data\r\n      const sosData = await sosLoader.loadSOSData();\r\n      logger.info(`Loaded SOS data for ${sosData.size} teams`);\r\n      \r\n      // Step 6: Match and normalize all players\r\n      const normalizedData = this.normalizeAllData({\r\n        projections: validatedProjections,\r\n        adp: adpData,\r\n        cleanData: cleanDataResult.data,\r\n        rosterProfiles: rosterProfiles,\r\n        sosData: sosData\r\n      });\r\n      \r\n      result.stats.namesNormalized = normalizedData.namesNormalized;\r\n      result.stats.teamsNormalized = normalizedData.teamsNormalized;\r\n      \r\n      // Step 7: Use DataLoaderV2 to get the final comprehensive structure\r\n      // But inject our properly integrated data\r\n      const comprehensiveData = await this.buildComprehensiveData(normalizedData);\r\n      \r\n      result.success = true;\r\n      result.data = comprehensiveData;\r\n      result.stats.totalPlayers = comprehensiveData.players.length;\r\n      \r\n      logger.info('Data integration complete', result.stats);\r\n      \r\n      // Log any warnings about mismatches\r\n      if (normalizedData.unmatchedPlayers.length > 0) {\r\n        result.warnings.push(`${normalizedData.unmatchedPlayers.length} players could not be matched across sources`);\r\n        // Log first 10 unmatched players for debugging\r\n        const firstTen = normalizedData.unmatchedPlayers.slice(0, 10);\r\n        logger.warn('Unmatched players:', firstTen);\r\n        \r\n        // Also log details about why they didn't match\r\n        if (normalizedData.unmatchedPlayers.length <= 20) {\r\n          logger.info(`All ${normalizedData.unmatchedPlayers.length} unmatched:`, normalizedData.unmatchedPlayers);\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      logger.error('Data integration failed:', error);\r\n      result.errors.push(error instanceof Error ? error.message : 'Unknown error');\r\n    }\r\n    \r\n    return result;\r\n  }\r\n  \r\n  /**\r\n   * Prepare projection sources from comprehensive clean data\r\n   */\r\n  private prepareProjectionSourcesFromComprehensive(cleanData: ComprehensiveDataType): any[] {\r\n    // Use projections directly from ComprehensiveData\r\n    const sources = [];\r\n    \r\n    // The clean data loader already aggregated projections\r\n    // We just need to format them for the aggregator\r\n    if (cleanData.projections && cleanData.projections.length > 0) {\r\n      // Debug: Check what names are in the projections\r\n      const sampleProjections = cleanData.projections.slice(0, 5);\r\n      logger.debug('Sample projections from cleanData:', sampleProjections.map(p => `${p.name} (${p.position}, ${p.team})`));\r\n      \r\n      // Check for specific problematic players\r\n      const marquise = cleanData.projections.find(p => p.name?.includes('Marquise') || p.name?.includes('Hollywood'));\r\n      const billsDst = cleanData.projections.find(p => p.name?.includes('Bills') && p.position === 'DST');\r\n      if (marquise) logger.debug('Found Marquise/Hollywood:', marquise.name);\r\n      if (billsDst) logger.debug('Found Bills DST:', billsDst.name);\r\n      \r\n      sources.push({\r\n        name: 'clean_aggregated',\r\n        weight: 1.0, // Use full weight since it's already processed\r\n        projections: cleanData.projections\r\n      });\r\n    }\r\n    \r\n    return sources;\r\n  }\r\n  \r\n  /**\r\n   * Legacy: Prepare projection sources from raw clean data files\r\n   */\r\n  private prepareProjectionSources(cleanData: any): any[] {\r\n    const sources = [];\r\n    \r\n    // FantasyPros projections\r\n    const fantasyProsSources = [\r\n      'FantasyPros_Fantasy_Football_Projections_RB.csv',\r\n      'FantasyPros_Fantasy_Football_Projections_WR.csv',\r\n      'FantasyPros_Fantasy_Football_Projections_TE.csv',\r\n      'FantasyPros_Fantasy_Football_Projections_FLX.csv'\r\n    ];\r\n    \r\n    fantasyProsSources.forEach(filename => {\r\n      if (cleanData[filename]) {\r\n        sources.push({\r\n          name: 'fantasypros',\r\n          weight: 0.4,\r\n          projections: this.parseFantasyProsProjections(cleanData[filename])\r\n        });\r\n      }\r\n    });\r\n    \r\n    // CBS projections\r\n    const cbsSources = [\r\n      'qb_projections_2025_cbs.txt',\r\n      'rb_projections_2025_cbs.txt',\r\n      'wr_projections_2025_cbs.txt',\r\n      'te_projections_2025_cbs.txt'\r\n    ];\r\n    \r\n    cbsSources.forEach(filename => {\r\n      if (cleanData[filename]) {\r\n        sources.push({\r\n          name: 'cbs',\r\n          weight: 0.35,\r\n          projections: this.parseCBSProjections(cleanData[filename])\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Main projections file\r\n    if (cleanData['projections_2025.csv']) {\r\n      sources.push({\r\n        name: 'projections_2025',\r\n        weight: 0.25,\r\n        projections: this.parseMainProjections(cleanData['projections_2025.csv'])\r\n      });\r\n    }\r\n    \r\n    return sources.filter(s => s.projections.length > 0);\r\n  }\r\n  \r\n  /**\r\n   * Parse FantasyPros projection format\r\n   */\r\n  private parseFantasyProsProjections(data: any[]): PlayerProjection[] {\r\n    return data.map(row => ({\r\n      id: `${row.Player}_${row.Pos}_${row.Team}`.toLowerCase(),\r\n      name: row.Player || row.player,\r\n      position: row.Pos || row.position,\r\n      team: row.Team || row.team,\r\n      projectedPoints: safeParseFloat(row.FPTS || row.fantasyPoints, 2) ?? 0,\r\n      byeWeek: safeParseInt(row.BYE || row.bye) ?? 0,\r\n      games: safeParseInt(row.G || row.games) ?? 16,\r\n      \r\n      // Position-specific stats\r\n      passingYards: safeParseFloat(row['Pass Yds'] || row.passingYards, 1) ?? 0,\r\n      passingTDs: safeParseFloat(row['Pass TD'] || row.passingTDs, 1) ?? 0,\r\n      rushingYards: safeParseFloat(row['Rush Yds'] || row.rushingYards, 1) ?? 0,\r\n      rushingTDs: safeParseFloat(row['Rush TD'] || row.rushingTDs, 1) ?? 0,\r\n      receivingYards: safeParseFloat(row['Rec Yds'] || row.receivingYards, 1) ?? 0,\r\n      receivingTDs: safeParseFloat(row['Rec TD'] || row.receivingTDs, 1) ?? 0,\r\n      receptions: safeParseFloat(row.Rec || row.receptions, 1) ?? 0,\r\n      targets: safeParseFloat(row.Tgt || row.targets, 1) ?? 0\r\n    }));\r\n  }\r\n  \r\n  /**\r\n   * Parse CBS projection format\r\n   */\r\n  private parseCBSProjections(data: any[]): PlayerProjection[] {\r\n    return data.map(row => ({\r\n      id: `${row.Name || row.Player}_${row.Position}_${row.Team}`.toLowerCase(),\r\n      name: row.Name || row.Player,\r\n      position: row.Position || row.Pos,\r\n      team: row.Team,\r\n      projectedPoints: safeParseFloat(row['Fantasy Points'] || row.FPTS, 2) ?? 0,\r\n      \r\n      // CBS includes more detailed stats\r\n      passingYards: safeParseFloat(row['Passing Yards'], 1) ?? 0,\r\n      passingTDs: safeParseFloat(row['Passing TDs'], 1) ?? 0,\r\n      rushingYards: safeParseFloat(row['Rushing Yards'], 1) ?? 0,\r\n      rushingTDs: safeParseFloat(row['Rushing TDs'], 1) ?? 0,\r\n      receivingYards: safeParseFloat(row['Receiving Yards'], 1) ?? 0,\r\n      receivingTDs: safeParseFloat(row['Receiving TDs'], 1) ?? 0,\r\n      receptions: safeParseFloat(row.Receptions, 1) ?? 0\r\n    }));\r\n  }\r\n  \r\n  /**\r\n   * Parse main projections file\r\n   */\r\n  private parseMainProjections(data: any[]): PlayerProjection[] {\r\n    return data.map(row => ({\r\n      id: `${row.playerName}_${row.position}_${row.teamName}`.toLowerCase(),\r\n      name: row.playerName,\r\n      position: row.position,\r\n      team: row.teamName,\r\n      projectedPoints: safeParseFloat(row.fantasyPoints, 2) ?? 0,\r\n      byeWeek: safeParseInt(row.byeWeek) ?? 0,\r\n      games: safeParseInt(row.games) ?? 16,\r\n      \r\n      passingYards: safeParseFloat(row.passYds, 1) ?? 0,\r\n      passingTDs: safeParseFloat(row.passTd, 1) ?? 0,\r\n      rushingYards: safeParseFloat(row.rushYds, 1) ?? 0,\r\n      rushingTDs: safeParseFloat(row.rushTd, 1) ?? 0,\r\n      receivingYards: safeParseFloat(row.recvYds, 1) ?? 0,\r\n      receivingTDs: safeParseFloat(row.recvTd, 1) ?? 0,\r\n      receptions: safeParseFloat(row.recvReceptions, 1) ?? 0,\r\n      targets: safeParseFloat(row.recvTargets, 1) ?? 0\r\n    }));\r\n  }\r\n  \r\n  /**\r\n   * Load ADP data from clean files\r\n   */\r\n  private loadADPData(cleanData: any): any[] {\r\n    const adpFiles = ['adp0_2025.csv', 'adp3_2025.csv', 'adp5_2025.txt'];\r\n    const allADP = [];\r\n    \r\n    for (const filename of adpFiles) {\r\n      if (cleanData[filename]) {\r\n        allADP.push(...cleanData[filename]);\r\n      }\r\n    }\r\n    \r\n    return allADP;\r\n  }\r\n  \r\n  /**\r\n   * Normalize all data using player resolver\r\n   */\r\n  private normalizeAllData(data: any): any {\r\n    const result = {\r\n      projections: data.projections,\r\n      adp: data.adp,\r\n      namesNormalized: 0,\r\n      teamsNormalized: 0,\r\n      unmatchedPlayers: [] as string[],\r\n      rosterProfiles: data.rosterProfiles\r\n    };\r\n    \r\n    // Track normalizations for reporting\r\n    const nameNormalizations = new Set();\r\n    const teamNormalizations = new Set();\r\n    \r\n    // Normalize projections and merge roster profiles\r\n    data.projections.forEach((proj: any) => {\r\n      // Team normalization (already done by Python ETL but verify)\r\n      const normalizedTeam = playerResolver.normalizeTeam(proj.team);\r\n      if (normalizedTeam !== proj.team) {\r\n        teamNormalizations.add(`${proj.team} -> ${normalizedTeam}`);\r\n        proj.team = normalizedTeam;\r\n      }\r\n      \r\n      // Player matching (normalize position to uppercase for DSTs)\r\n      const normalizedPosition = proj.position?.toUpperCase() || proj.position;\r\n      \r\n      // Debug problematic players\r\n      const isProblematic = normalizedPosition === 'DST' || \r\n                          proj.name?.includes('Marquise') || \r\n                          proj.name?.includes('Marvin Mims') ||\r\n                          proj.name?.includes('Luther');\r\n      \r\n      if (isProblematic) {\r\n        logger.info(`Attempting to match: \"${proj.name}\" (pos: ${proj.position} -> ${normalizedPosition}, team: ${proj.team})`);\r\n      }\r\n      \r\n      const match = playerResolver.findBestMatch(proj.name, proj.team, normalizedPosition);\r\n      \r\n      if (isProblematic) {\r\n        logger.info(`  Match result: ${match.matchType} (confidence: ${match.confidence})`);\r\n        if (match.player) {\r\n          logger.info(`  Matched to: ${match.player.name}`);\r\n        }\r\n      }\r\n      \r\n      // Handle all match types\r\n      if (match.matchType !== 'not_found') {\r\n        // If it's not an exact match, track the normalization\r\n        if (match.matchType !== 'exact' && match.player) {\r\n          nameNormalizations.add(`${proj.name} -> ${match.player.name}`);\r\n          // Update the projection name to the matched ADP name\r\n          proj.name = match.player.name;\r\n        }\r\n        // For exact matches, the name is already correct\r\n      } else {\r\n        // Only add to unmatched if truly not found\r\n        result.unmatchedPlayers.push(proj.name);\r\n      }\r\n      \r\n      // Merge roster profile data if available\r\n      if (data.rosterProfiles) {\r\n        const profile = rosterDataLoader.getPlayerProfile(proj.name);\r\n        if (profile) {\r\n          proj.height = profile.height;\r\n          proj.weight = profile.weight;\r\n          proj.college = profile.college;\r\n          proj.draftYear = profile.year;\r\n          proj.draftRound = profile.round;\r\n          proj.draftPick = profile.pick;\r\n        }\r\n      }\r\n      \r\n      // Add SOS data if available\r\n      if (data.sosData && proj.team) {\r\n        const teamSOS = sosLoader.getTeamSOS(proj.team);\r\n        if (teamSOS) {\r\n          proj.teamSeasonSOS = teamSOS.seasonSOS;\r\n          proj.teamPlayoffSOS = teamSOS.playoffSOS;\r\n          \r\n          // Debug SOS for specific teams\r\n          if (proj.team === 'NYJ' || proj.team === 'SF' || proj.team === 'DET') {\r\n            console.log(`[SOS DEBUG] ${proj.name} (${proj.team}): Season SOS = ${teamSOS.seasonSOS}`);\r\n          }\r\n        } else {\r\n          console.log(`[SOS WARNING] No SOS data for team: ${proj.team}`);\r\n        }\r\n      }\r\n    });\r\n    \r\n    // Also merge roster profiles into ADP data\r\n    data.adp.forEach((adpEntry: any) => {\r\n      if (data.rosterProfiles) {\r\n        const profile = rosterDataLoader.getPlayerProfile(adpEntry.name);\r\n        if (profile) {\r\n          adpEntry.height = profile.height;\r\n          adpEntry.weight = profile.weight;\r\n          adpEntry.college = profile.college;\r\n          adpEntry.draftYear = profile.year;\r\n          adpEntry.draftRound = profile.round;\r\n          adpEntry.draftPick = profile.pick;\r\n        }\r\n      }\r\n      \r\n      // Add SOS data to ADP entries\r\n      if (data.sosData && adpEntry.team) {\r\n        const teamSOS = sosLoader.getTeamSOS(adpEntry.team);\r\n        if (teamSOS) {\r\n          adpEntry.teamSeasonSOS = teamSOS.seasonSOS;\r\n          adpEntry.teamPlayoffSOS = teamSOS.playoffSOS;\r\n        }\r\n      }\r\n    });\r\n    \r\n    result.namesNormalized = nameNormalizations.size;\r\n    result.teamsNormalized = teamNormalizations.size;\r\n    \r\n    return result;\r\n  }\r\n  \r\n  /**\r\n   * Build final comprehensive data structure\r\n   */\r\n  private async buildComprehensiveData(normalizedData: any): Promise<ComprehensiveData> {\r\n    // Build the comprehensive data structure directly\r\n    // This avoids circular dependency with DataLoaderV2\r\n    \r\n    // Load advanced stats\r\n    console.log('[DataIntegrationService] Loading player advanced stats...');\r\n    const playerAdvancedMap = await loadAllPlayerAdvanced();\r\n    console.log('[DataIntegrationService] Loaded advanced stats:', playerAdvancedMap.size);\r\n    \r\n    const comprehensiveData: ComprehensiveData = {\r\n      // Core data from integration\r\n      players: normalizedData.projections,\r\n      projections: normalizedData.projections,\r\n      adpData: normalizedData.adp,\r\n      historicalStats: [],\r\n      \r\n      // Initialize empty structures for compatibility\r\n      teamMetrics: new Map(),\r\n      teamComposites: new Map(),\r\n      playerAdvanced: playerAdvancedMap,\r\n      playerStats: new Map(),\r\n      depthCharts: {\r\n        teams: [],\r\n        byPlayer: new Map(),\r\n        byTeam: new Map()\r\n      },\r\n      \r\n      // Deduplication report\r\n      deduplicationReport: {\r\n        adpConflicts: [],\r\n        projectionConflicts: [],\r\n        dataQualityScore: this.calculateDataQualityScore(normalizedData),\r\n        flaggedForReview: normalizedData.unmatchedPlayers || []\r\n      },\r\n      \r\n      // Position eligibility\r\n      positionEligibility: new Map(),\r\n      \r\n      // Legacy compatibility\r\n      advancedStats: [],\r\n      teamData: [],\r\n      scheduleData: null\r\n    };\r\n    \r\n    return comprehensiveData;\r\n  }\r\n  \r\n  /**\r\n   * Calculate data quality score\r\n   */\r\n  private calculateDataQualityScore(data: any): number {\r\n    let score = 100;\r\n    \r\n    // Deduct for unmatched players\r\n    if (data.unmatchedPlayers && data.unmatchedPlayers.length > 0) {\r\n      score -= Math.min(20, data.unmatchedPlayers.length / 10);\r\n    }\r\n    \r\n    // Deduct for missing projections\r\n    const playersWithProjections = data.projections.filter((p: any) => p.projectedPoints > 0).length;\r\n    const projectionCoverage = playersWithProjections / Math.max(1, data.projections.length);\r\n    score = score * projectionCoverage;\r\n    \r\n    return Math.round(Math.max(0, score));\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const dataIntegrationService = DataIntegrationService.getInstance();","import { TeamMetrics, TeamComposite } from '@/types';\r\nimport { normalizeTeamName } from './teamMappings';\r\nimport { \r\n  parseNumber as parseNum, \r\n  parseTabDelimited, \r\n  detectDelimiter,\r\n  removeBOM,\r\n  logger \r\n} from '@/lib/utils';\r\n\r\n// Base path for all fetch operations\r\nconst BASE_PATH = import.meta.env.BASE_URL || '/';\r\n\r\n// Helper functions for parsing\r\nfunction parseNumber(value: string | undefined): number | null {\r\n  const num = parseNum(value);\r\n  return num !== undefined ? num : null;\r\n}\r\n\r\nfunction parsePercent(value: string | undefined): number | null {\r\n  const num = parseNum(String(value).replace('%', ''));\r\n  if (num === undefined) return null;\r\n  return num > 1 ? num / 100 : num; // Convert percentage to decimal\r\n}\r\n\r\n// Parse a team metrics file with standard format\r\nfunction parseTeamMetricsFile(content: string): Map<string, any> {\r\n  const result = new Map<string, any>();\r\n  \r\n  // Remove BOM and detect delimiter\r\n  const cleanContent = removeBOM(content);\r\n  const delimiter = detectDelimiter(cleanContent);\r\n  \r\n  const lines = cleanContent.trim().split('\\n');\r\n  if (lines.length < 2) {\r\n    logger.warn('Team metrics file has insufficient data');\r\n    return result;\r\n  }\r\n  \r\n  // Parse header\r\n  const headers = lines[0].split(delimiter).map(h => h.trim());\r\n  \r\n  // Parse data rows\r\n  for (let i = 1; i < lines.length; i++) {\r\n    const values = lines[i].split(delimiter).map(v => v.trim());\r\n    if (values.length < 2) continue;\r\n    \r\n    const teamName = values[1]; // Team is usually second column after Rank\r\n    const teamAbbr = normalizeTeamName(teamName);\r\n    \r\n    if (!teamAbbr) {\r\n      logger.warn(`Could not map team name: ${teamName}`);\r\n      continue;\r\n    }\r\n    \r\n    const teamData: any = {};\r\n    \r\n    for (let j = 2; j < headers.length && j < values.length; j++) {\r\n      const header = headers[j];\r\n      const value = values[j];\r\n      \r\n      // Check if it's a percentage field\r\n      if (value && value.includes('%')) {\r\n        teamData[header] = parsePercent(value);\r\n      } else {\r\n        teamData[header] = parseNumber(value);\r\n      }\r\n    }\r\n    \r\n    result.set(teamAbbr, teamData);\r\n  }\r\n  \r\n  logger.info(`Parsed ${result.size} teams from metrics file`);\r\n  return result;\r\n}\r\n\r\n// Load specific team metric files\r\nasync function loadTeamPointsPerPlay(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_points_per_play.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_points_per_play.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamPointsPerGame(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_points_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_points_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamPlaysPerGame(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_plays_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_plays_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamOffensiveTDs(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_offensive_tds_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_offensive_tds_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamYardsPerPlay(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_yards_per_play.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_yards_per_play.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamSecondsPerPlay(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_seconds_per_play.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_seconds_per_play.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamTimeOfPossession(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_time_of_possession_percentage.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_time_of_possession_percentage.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamThirdDown(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_third_down_conversion_percentage.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_third_down_conversion_percentage.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamFourthDown(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_fourth_down_conversion_percentage.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_fourth_down_conversion_percentage.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamFirstDowns(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_first_downs_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_first_downs_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamScoringMargin(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_average_scoring_margin.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_average_scoring_margin.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamRedZoneTDs(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_red_zone_tds_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_red_zone_tds_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamRedZoneScoringPct(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_red_zone_td_scoring_percentage.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_red_zone_td_scoring_percentage.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamRedZoneAttempts(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_red_zone_scoring_attempts_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_red_zone_scoring_attempts_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamPointsPerPlayMargin(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_points_per_play_margin.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_points_per_play_margin.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\nasync function loadTeamTouchdowns(): Promise<Map<string, any>> {\r\n  try {\r\n    const response = await fetch(`${BASE_PATH}canonical_data/team_touchdowns_per_game.txt`);\r\n    const content = await response.text();\r\n    return parseTeamMetricsFile(content);\r\n  } catch (error) {\r\n    console.warn('Failed to load team_touchdowns_per_game.txt:', error);\r\n    return new Map();\r\n  }\r\n}\r\n\r\n// Merge all team metrics into unified records\r\nfunction mergeTeamMetrics(\r\n  allMetrics: Map<string, any>[]\r\n): Map<string, TeamMetrics> {\r\n  const result = new Map<string, TeamMetrics>();\r\n  const teamSet = new Set<string>();\r\n  \r\n  // Collect all teams\r\n  for (const metrics of allMetrics) {\r\n    for (const team of metrics.keys()) {\r\n      teamSet.add(team);\r\n    }\r\n  }\r\n  \r\n  // Build merged metrics for each team\r\n  for (const team of teamSet) {\r\n    const teamMetrics: TeamMetrics = { team };\r\n    \r\n    // Get each metric type\r\n    const [\r\n      ppp, ppg, playsPerGame, offTDs, ypp, secondsPerPlay,\r\n      timeOfPoss, thirdDown, fourthDown, firstDowns,\r\n      scoringMargin, rzTDs, rzScoringPct, rzAttempts,\r\n      pppMargin, touchdowns\r\n    ] = allMetrics;\r\n    \r\n    // Points per play\r\n    const pppData = ppp.get(team);\r\n    if (pppData) {\r\n      teamMetrics.pointsPerPlay = pppData['2024'];\r\n      if (pppData['Last 3']) {\r\n        teamMetrics.last3 = teamMetrics.last3 || {};\r\n        teamMetrics.last3.pointsPerPlay = pppData['Last 3'];\r\n      }\r\n      if (pppData['Last 1']) {\r\n        teamMetrics.last1 = teamMetrics.last1 || {};\r\n        teamMetrics.last1.pointsPerPlay = pppData['Last 1'];\r\n      }\r\n      if (pppData['Home']) {\r\n        teamMetrics.home = teamMetrics.home || {};\r\n        teamMetrics.home.pointsPerPlay = pppData['Home'];\r\n      }\r\n      if (pppData['Away']) {\r\n        teamMetrics.away = teamMetrics.away || {};\r\n        teamMetrics.away.pointsPerPlay = pppData['Away'];\r\n      }\r\n    }\r\n    \r\n    // Points per game\r\n    const ppgData = ppg.get(team);\r\n    if (ppgData) {\r\n      teamMetrics.pointsPerGame = ppgData['2024'];\r\n      if (ppgData['Last 3']) {\r\n        teamMetrics.last3 = teamMetrics.last3 || {};\r\n        teamMetrics.last3.pointsPerGame = ppgData['Last 3'];\r\n      }\r\n      if (ppgData['Last 1']) {\r\n        teamMetrics.last1 = teamMetrics.last1 || {};\r\n        teamMetrics.last1.pointsPerGame = ppgData['Last 1'];\r\n      }\r\n      if (ppgData['Home']) {\r\n        teamMetrics.home = teamMetrics.home || {};\r\n        teamMetrics.home.pointsPerGame = ppgData['Home'];\r\n      }\r\n      if (ppgData['Away']) {\r\n        teamMetrics.away = teamMetrics.away || {};\r\n        teamMetrics.away.pointsPerGame = ppgData['Away'];\r\n      }\r\n    }\r\n    \r\n    // Other metrics\r\n    const playsData = playsPerGame.get(team);\r\n    if (playsData) teamMetrics.playsPerGame = playsData['2024'];\r\n    \r\n    const offTDData = offTDs.get(team);\r\n    if (offTDData) teamMetrics.offensiveTDsPerGame = offTDData['2024'];\r\n    \r\n    const yppData = ypp.get(team);\r\n    if (yppData) {\r\n      teamMetrics.yardsPerPlay = yppData['2024'];\r\n      if (yppData['Last 3']) {\r\n        teamMetrics.last3 = teamMetrics.last3 || {};\r\n        teamMetrics.last3.yardsPerPlay = yppData['Last 3'];\r\n      }\r\n      if (yppData['Home']) {\r\n        teamMetrics.home = teamMetrics.home || {};\r\n        teamMetrics.home.yardsPerPlay = yppData['Home'];\r\n      }\r\n      if (yppData['Away']) {\r\n        teamMetrics.away = teamMetrics.away || {};\r\n        teamMetrics.away.yardsPerPlay = yppData['Away'];\r\n      }\r\n    }\r\n    \r\n    const secPerPlay = secondsPerPlay.get(team);\r\n    if (secPerPlay) teamMetrics.secondsPerPlay = secPerPlay['2024'];\r\n    \r\n    const topData = timeOfPoss.get(team);\r\n    if (topData) teamMetrics.timeOfPossessionPct = topData['2024'];\r\n    \r\n    const third = thirdDown.get(team);\r\n    if (third) teamMetrics.thirdDownConvPct = third['2024'];\r\n    \r\n    const fourth = fourthDown.get(team);\r\n    if (fourth) teamMetrics.fourthDownConvPct = fourth['2024'];\r\n    \r\n    const firstData = firstDowns.get(team);\r\n    if (firstData) teamMetrics.firstDownsPerGame = firstData['2024'];\r\n    \r\n    const marginData = scoringMargin.get(team);\r\n    if (marginData) teamMetrics.scoringMargin = marginData['2024'];\r\n    \r\n    const rzTDData = rzTDs.get(team);\r\n    if (rzTDData) teamMetrics.redZoneTDsPerGame = rzTDData['2024'];\r\n    \r\n    const rzPctData = rzScoringPct.get(team);\r\n    if (rzPctData) teamMetrics.redZoneTDScoringPct = rzPctData['2024'];\r\n    \r\n    const rzAttData = rzAttempts.get(team);\r\n    if (rzAttData) teamMetrics.redZoneAttemptsPerGame = rzAttData['2024'];\r\n    \r\n    const pppMarginData = pppMargin.get(team);\r\n    if (pppMarginData) teamMetrics.pointsPerPlayMargin = pppMarginData['2024'];\r\n    \r\n    const tdData = touchdowns.get(team);\r\n    if (tdData) teamMetrics.touchdownsPerGame = tdData['2024'];\r\n    \r\n    result.set(team, teamMetrics);\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n// Compute z-scores for normalization\r\nfunction computeZScore(value: number | null | undefined, values: number[]): number {\r\n  if (value === null || value === undefined) return 0;\r\n  \r\n  const mean = values.reduce((a, b) => a + b, 0) / values.length;\r\n  const stdDev = Math.sqrt(\r\n    values.reduce((sum, v) => sum + Math.pow(v - mean, 2), 0) / values.length\r\n  );\r\n  \r\n  if (stdDev === 0) return 0;\r\n  return (value - mean) / stdDev;\r\n}\r\n\r\n// Compute composite indices\r\nexport function computeTeamComposite(metrics: Map<string, TeamMetrics>): Map<string, TeamComposite> {\r\n  const result = new Map<string, TeamComposite>();\r\n  \r\n  // Collect all values for z-score calculation\r\n  const ppgValues: number[] = [];\r\n  const yppValues: number[] = [];\r\n  const pppValues: number[] = [];\r\n  const tdValues: number[] = [];\r\n  const thirdValues: number[] = [];\r\n  const rzPctValues: number[] = [];\r\n  const secPerPlayValues: number[] = [];\r\n  const playsValues: number[] = [];\r\n  const rzAttValues: number[] = [];\r\n  const firstDownValues: number[] = [];\r\n  const marginValues: number[] = [];\r\n  const pppMarginValues: number[] = [];\r\n  \r\n  for (const tm of metrics.values()) {\r\n    if (tm.pointsPerGame !== null && tm.pointsPerGame !== undefined) ppgValues.push(tm.pointsPerGame);\r\n    if (tm.yardsPerPlay !== null && tm.yardsPerPlay !== undefined) yppValues.push(tm.yardsPerPlay);\r\n    if (tm.pointsPerPlay !== null && tm.pointsPerPlay !== undefined) pppValues.push(tm.pointsPerPlay);\r\n    if (tm.touchdownsPerGame !== null && tm.touchdownsPerGame !== undefined) tdValues.push(tm.touchdownsPerGame);\r\n    if (tm.thirdDownConvPct !== null && tm.thirdDownConvPct !== undefined) thirdValues.push(tm.thirdDownConvPct);\r\n    if (tm.redZoneTDScoringPct !== null && tm.redZoneTDScoringPct !== undefined) rzPctValues.push(tm.redZoneTDScoringPct);\r\n    if (tm.secondsPerPlay !== null && tm.secondsPerPlay !== undefined) secPerPlayValues.push(tm.secondsPerPlay);\r\n    if (tm.playsPerGame !== null && tm.playsPerGame !== undefined) playsValues.push(tm.playsPerGame);\r\n    if (tm.redZoneAttemptsPerGame !== null && tm.redZoneAttemptsPerGame !== undefined) rzAttValues.push(tm.redZoneAttemptsPerGame);\r\n    if (tm.firstDownsPerGame !== null && tm.firstDownsPerGame !== undefined) firstDownValues.push(tm.firstDownsPerGame);\r\n    if (tm.scoringMargin !== null && tm.scoringMargin !== undefined) marginValues.push(tm.scoringMargin);\r\n    if (tm.pointsPerPlayMargin !== null && tm.pointsPerPlayMargin !== undefined) pppMarginValues.push(tm.pointsPerPlayMargin);\r\n  }\r\n  \r\n  // Compute composites for each team\r\n  for (const [team, tm] of metrics.entries()) {\r\n    // Offense Quality Index: blend of ppg, ypp, ppp, td, third down, rz efficiency\r\n    const ppgZ = computeZScore(tm.pointsPerGame, ppgValues);\r\n    const yppZ = computeZScore(tm.yardsPerPlay, yppValues);\r\n    const pppZ = computeZScore(tm.pointsPerPlay, pppValues);\r\n    const tdZ = computeZScore(tm.touchdownsPerGame, tdValues);\r\n    const thirdZ = computeZScore(tm.thirdDownConvPct, thirdValues);\r\n    const rzPctZ = computeZScore(tm.redZoneTDScoringPct, rzPctValues);\r\n    \r\n    const offenseQualityIndex = (ppgZ + yppZ + pppZ + tdZ + thirdZ + rzPctZ) / 6;\r\n    \r\n    // Pace Index: inverse seconds per play + plays per game\r\n    const secZ = tm.secondsPerPlay ? -computeZScore(tm.secondsPerPlay, secPerPlayValues) : 0; // Negative because lower is faster\r\n    const playsZ = computeZScore(tm.playsPerGame, playsValues);\r\n    const paceIndex = (secZ + playsZ) / 2;\r\n    \r\n    // Red Zone Index: attempts and efficiency\r\n    const rzAttZ = computeZScore(tm.redZoneAttemptsPerGame, rzAttValues);\r\n    const redZoneIndex = (rzAttZ + rzPctZ) / 2;\r\n    \r\n    // Sustain Index: first downs and third down conversion\r\n    const firstZ = computeZScore(tm.firstDownsPerGame, firstDownValues);\r\n    const sustainIndex = (firstZ + thirdZ) / 2;\r\n    \r\n    // Environment Index: scoring margin and points per play margin\r\n    const marginZ = computeZScore(tm.scoringMargin, marginValues);\r\n    const pppMarginZ = computeZScore(tm.pointsPerPlayMargin, pppMarginValues);\r\n    const environmentIndex = (marginZ + pppMarginZ) / 2;\r\n    \r\n    // Trend Index: weighted average of recent vs season\r\n    let trendIndex = 0;\r\n    if (tm.last3 && tm.pointsPerGame) {\r\n      const last3Avg = (\r\n        (tm.last3.pointsPerGame || tm.pointsPerGame) +\r\n        (tm.last3.yardsPerPlay || tm.yardsPerPlay || 0) * 7 +\r\n        (tm.last3.pointsPerPlay || tm.pointsPerPlay || 0) * 70\r\n      ) / 3;\r\n      const seasonAvg = (\r\n        tm.pointsPerGame +\r\n        (tm.yardsPerPlay || 0) * 7 +\r\n        (tm.pointsPerPlay || 0) * 70\r\n      ) / 3;\r\n      trendIndex = last3Avg > seasonAvg ? 0.1 : (last3Avg < seasonAvg ? -0.1 : 0);\r\n    }\r\n    \r\n    result.set(team, {\r\n      team,\r\n      offenseQualityIndex,\r\n      paceIndex,\r\n      redZoneIndex,\r\n      sustainIndex,\r\n      environmentIndex,\r\n      trendIndex\r\n    });\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n// Main export function\r\nexport async function loadAllTeamMetrics(): Promise<{\r\n  metrics: Map<string, TeamMetrics>;\r\n  composites: Map<string, TeamComposite>;\r\n}> {\r\n  // Load all metrics in parallel\r\n  const [\r\n    ppp, ppg, playsPerGame, offTDs, ypp, secondsPerPlay,\r\n    timeOfPoss, thirdDown, fourthDown, firstDowns,\r\n    scoringMargin, rzTDs, rzScoringPct, rzAttempts,\r\n    pppMargin, touchdowns\r\n  ] = await Promise.all([\r\n    loadTeamPointsPerPlay(),\r\n    loadTeamPointsPerGame(),\r\n    loadTeamPlaysPerGame(),\r\n    loadTeamOffensiveTDs(),\r\n    loadTeamYardsPerPlay(),\r\n    loadTeamSecondsPerPlay(),\r\n    loadTeamTimeOfPossession(),\r\n    loadTeamThirdDown(),\r\n    loadTeamFourthDown(),\r\n    loadTeamFirstDowns(),\r\n    loadTeamScoringMargin(),\r\n    loadTeamRedZoneTDs(),\r\n    loadTeamRedZoneScoringPct(),\r\n    loadTeamRedZoneAttempts(),\r\n    loadTeamPointsPerPlayMargin(),\r\n    loadTeamTouchdowns()\r\n  ]);\r\n  \r\n  const metrics = mergeTeamMetrics([\r\n    ppp, ppg, playsPerGame, offTDs, ypp, secondsPerPlay,\r\n    timeOfPoss, thirdDown, fourthDown, firstDowns,\r\n    scoringMargin, rzTDs, rzScoringPct, rzAttempts,\r\n    pppMargin, touchdowns\r\n  ]);\r\n  \r\n  const composites = computeTeamComposite(metrics);\r\n  \r\n  return { metrics, composites };\r\n}","import type { PlayerSeasonStats, Position } from '@/types';\r\nimport { normalizeTeamName } from './teamMappings';\r\nimport { parseCSVSafe, parseNumber, logger } from '@/lib/utils';\r\n\r\n// Helper to parse player name and team from \"Name (TEAM)\" format\r\nfunction parsePlayerNameAndTeam(nameWithTeam: string): { name: string; team: string | null } {\r\n  const match = nameWithTeam.match(/^(.+?)\\s+\\(([A-Z]{2,3}|FA)\\)$/);\r\n  if (match) {\r\n    const name = match[1].trim();\r\n    const teamRaw = match[2];\r\n    const team = teamRaw === 'FA' ? null : normalizeTeamName(teamRaw);\r\n    return { name, team };\r\n  }\r\n  // Fallback if pattern doesn't match\r\n  return { name: nameWithTeam.trim(), team: null };\r\n}\r\n\r\n// parseNumber is now imported from utils\r\n\r\n// Load WR season stats\r\nexport async function loadWRStats(): Promise<PlayerSeasonStats[]> {\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const response = await fetch(`${basePath}canonical_data/advanced_data/fantasy_pros_data/FantasyPros_Fantasy_Football_Statistics_WR.csv`);\r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        position: 'WR' as Position,\r\n        games: parseNumber(record['G'] || record['Games']),\r\n        fantasyPoints: parseNumber(record['FPTS'] || record['Fantasy Points']),\r\n        fantasyPointsPerGame: parseNumber(record['FPTS/G'] || record['PPG']),\r\n        rushingYards: parseNumber(record['RUSH YDS'] || record['Rushing Yards']),\r\n        rushingTDs: parseNumber(record['RUSH TD'] || record['Rushing TDs']),\r\n        rushingAttempts: parseNumber(record['RUSH ATT'] || record['Rush Attempts']),\r\n        receptions: parseNumber(record['REC'] || record['Receptions']),\r\n        targets: parseNumber(record['TGT'] || record['Targets']),\r\n        receivingYards: parseNumber(record['REC YDS'] || record['Receiving Yards']),\r\n        receivingTDs: parseNumber(record['REC TD'] || record['Receiving TDs'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load WR stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load RB season stats\r\nexport async function loadRBStats(): Promise<PlayerSeasonStats[]> {\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const response = await fetch(`${basePath}canonical_data/advanced_data/fantasy_pros_data/FantasyPros_Fantasy_Football_Statistics_RB.csv`);\r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        position: 'RB' as Position,\r\n        games: parseNumber(record['G'] || record['Games']),\r\n        fantasyPoints: parseNumber(record['FPTS'] || record['Fantasy Points']),\r\n        fantasyPointsPerGame: parseNumber(record['FPTS/G'] || record['PPG']),\r\n        rushingYards: parseNumber(record['RUSH YDS'] || record['Rushing Yards']),\r\n        rushingTDs: parseNumber(record['RUSH TD'] || record['Rushing TDs']),\r\n        rushingAttempts: parseNumber(record['RUSH ATT'] || record['Rush Attempts']),\r\n        receptions: parseNumber(record['REC'] || record['Receptions']),\r\n        targets: parseNumber(record['TGT'] || record['Targets']),\r\n        receivingYards: parseNumber(record['REC YDS'] || record['Receiving Yards']),\r\n        receivingTDs: parseNumber(record['REC TD'] || record['Receiving TDs'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load RB stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load TE season stats\r\nexport async function loadTEStats(): Promise<PlayerSeasonStats[]> {\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const response = await fetch(`${basePath}canonical_data/advanced_data/fantasy_pros_data/FantasyPros_Fantasy_Football_Statistics_TE.csv`);\r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        position: 'TE' as Position,\r\n        games: parseNumber(record['G'] || record['Games']),\r\n        fantasyPoints: parseNumber(record['FPTS'] || record['Fantasy Points']),\r\n        fantasyPointsPerGame: parseNumber(record['FPTS/G'] || record['PPG']),\r\n        receptions: parseNumber(record['REC'] || record['Receptions']),\r\n        targets: parseNumber(record['TGT'] || record['Targets']),\r\n        receivingYards: parseNumber(record['REC YDS'] || record['Receiving Yards']),\r\n        receivingTDs: parseNumber(record['REC TD'] || record['Receiving TDs'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load TE stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Load QB season stats\r\nexport async function loadQBStats(): Promise<PlayerSeasonStats[]> {\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const response = await fetch(`${basePath}canonical_data/advanced_data/fantasy_pros_data/FantasyPros_Fantasy_Football_Statistics_QB.csv`);\r\n    const content = await response.text();\r\n    \r\n    const parsed = parseCSVSafe<any>(content, undefined, ['Player']);\r\n    logger.logCSVParse('WR Stats', parsed.length);\r\n    \r\n    return parsed.map((record: any) => {\r\n      const { name, team } = parsePlayerNameAndTeam(record['Player'] || record['Name'] || '');\r\n      \r\n      return {\r\n        name,\r\n        team: team || '',\r\n        position: 'QB' as Position,\r\n        games: parseNumber(record['G'] || record['Games']),\r\n        fantasyPoints: parseNumber(record['FPTS'] || record['Fantasy Points']),\r\n        fantasyPointsPerGame: parseNumber(record['FPTS/G'] || record['PPG']),\r\n        passingYards: parseNumber(record['PASS YDS'] || record['Passing Yards']),\r\n        passingTDs: parseNumber(record['PASS TD'] || record['Passing TDs']),\r\n        interceptions: parseNumber(record['INT'] || record['Interceptions']),\r\n        rushingYards: parseNumber(record['RUSH YDS'] || record['Rushing Yards']),\r\n        rushingTDs: parseNumber(record['RUSH TD'] || record['Rushing TDs']),\r\n        rushingAttempts: parseNumber(record['RUSH ATT'] || record['Rush Attempts'])\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.warn('Failed to load QB stats:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Compute derived fields\r\nfunction computeDerivedFields(stats: PlayerSeasonStats[]): ExtendedPlayerSeasonStats[] {\r\n  return stats.map(player => {\r\n    const enhanced: ExtendedPlayerSeasonStats = { ...player };\r\n    \r\n    // Compute touches per game for RBs\r\n    if (player.position === 'RB' && player.games && player.games > 0) {\r\n      const totalTouches = (player.rushingAttempts || 0) + (player.receptions || 0);\r\n      enhanced.touchesPerGame = totalTouches / player.games;\r\n    }\r\n    \r\n    // Compute targets per game for WRs and TEs\r\n    if ((player.position === 'WR' || player.position === 'TE') && player.games && player.games > 0) {\r\n      enhanced.targetsPerGame = (player.targets || 0) / player.games;\r\n    }\r\n    \r\n    // Use FPTS as baseline if no projections\r\n    if (!enhanced.fantasyPoints && enhanced.fantasyPointsPerGame && enhanced.games) {\r\n      enhanced.fantasyPoints = enhanced.fantasyPointsPerGame * enhanced.games;\r\n    }\r\n    \r\n    return enhanced;\r\n  });\r\n}\r\n\r\n// Main export to load all player stats\r\nexport async function loadAllPlayerStats(): Promise<Map<string, PlayerSeasonStats>> {\r\n  const [wrStats, rbStats, teStats, qbStats] = await Promise.all([\r\n    loadWRStats(),\r\n    loadRBStats(),\r\n    loadTEStats(),\r\n    loadQBStats()\r\n  ]);\r\n  \r\n  // Combine all stats\r\n  const allStats = [\r\n    ...computeDerivedFields(wrStats),\r\n    ...computeDerivedFields(rbStats),\r\n    ...computeDerivedFields(teStats),\r\n    ...computeDerivedFields(qbStats)\r\n  ];\r\n  \r\n  // Create map with normalized names as keys\r\n  const result = new Map<string, PlayerSeasonStats>();\r\n  \r\n  for (const stat of allStats) {\r\n    const key = `${stat.name.toLowerCase().trim()}_${stat.position}`;\r\n    result.set(key, stat);\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n// Extended stats interface for additional calculations\r\ninterface ExtendedPlayerSeasonStats extends PlayerSeasonStats {\r\n  touchesPerGame?: number;\r\n  targetsPerGame?: number;\r\n}","import { DepthChartEntry, DepthChartTeam, Position } from '@/types';\r\nimport { normalizeTeamName } from './teamMappings';\r\n\r\n// Parse depth chart file with custom state-machine parser\r\nfunction parseDepthChartFile(content: string): DepthChartTeam[] {\r\n  const lines = content.trim().split('\\n');\r\n  const teams: DepthChartTeam[] = [];\r\n  \r\n  let currentTeam: DepthChartTeam | null = null;\r\n  let currentSection: 'QB' | 'RB' | 'WR' | 'TE' | null = null;\r\n  \r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i].trim();\r\n    \r\n    // Skip empty lines\r\n    if (!line) {\r\n      continue;\r\n    }\r\n    \r\n    // Check if it's a team header (quoted team name)\r\n    if (line.startsWith('\"') && line.endsWith('\"')) {\r\n      const teamName = line.replace(/\"/g, '');\r\n      const teamAbbr = normalizeTeamName(teamName);\r\n      \r\n      if (teamAbbr) {\r\n        // Save previous team if exists\r\n        if (currentTeam) {\r\n          teams.push(currentTeam);\r\n        }\r\n        \r\n        // Start new team\r\n        currentTeam = {\r\n          team: teamAbbr,\r\n          QB: [],\r\n          RB: [],\r\n          WR: [],\r\n          TE: []\r\n        };\r\n        currentSection = null;\r\n      }\r\n      continue;\r\n    }\r\n    \r\n    // Check if it's a position header line\r\n    if (line.includes('Quarterbacks') || line.includes('Running Backs') || \r\n        line.includes('Wide Receivers') || line.includes('Tight Ends')) {\r\n      // This is the header row with positions\r\n      continue;\r\n    }\r\n    \r\n    // Parse data rows\r\n    if (currentTeam && line.includes(',')) {\r\n      const values = line.split(',').map(v => v.replace(/\"/g, '').trim());\r\n      \r\n      // Parse each position column (ECR, Name pairs)\r\n      let colIndex = 0;\r\n      \r\n      // QB (columns 0-1)\r\n      if (colIndex < values.length - 1) {\r\n        const qbEcr = values[colIndex];\r\n        const qbName = values[colIndex + 1];\r\n        if (qbEcr && qbName && qbName !== '') {\r\n          currentTeam.QB.push({\r\n            team: currentTeam.team,\r\n            position: 'QB' as Position,\r\n            name: qbName,\r\n            ecr: parseInt(qbEcr) || 999,\r\n            depthOrder: currentTeam.QB.length + 1\r\n          });\r\n        }\r\n        colIndex += 2;\r\n      }\r\n      \r\n      // RB (columns 2-3)\r\n      if (colIndex < values.length - 1) {\r\n        const rbEcr = values[colIndex];\r\n        const rbName = values[colIndex + 1];\r\n        if (rbEcr && rbName && rbName !== '') {\r\n          currentTeam.RB.push({\r\n            team: currentTeam.team,\r\n            position: 'RB' as Position,\r\n            name: rbName,\r\n            ecr: parseInt(rbEcr) || 999,\r\n            depthOrder: currentTeam.RB.length + 1\r\n          });\r\n        }\r\n        colIndex += 2;\r\n      }\r\n      \r\n      // WR (columns 4-5)\r\n      if (colIndex < values.length - 1) {\r\n        const wrEcr = values[colIndex];\r\n        const wrName = values[colIndex + 1];\r\n        if (wrEcr && wrName && wrName !== '') {\r\n          currentTeam.WR.push({\r\n            team: currentTeam.team,\r\n            position: 'WR' as Position,\r\n            name: wrName,\r\n            ecr: parseInt(wrEcr) || 999,\r\n            depthOrder: currentTeam.WR.length + 1\r\n          });\r\n        }\r\n        colIndex += 2;\r\n      }\r\n      \r\n      // TE (columns 6-7)\r\n      if (colIndex < values.length - 1) {\r\n        const teEcr = values[colIndex];\r\n        const teName = values[colIndex + 1];\r\n        if (teEcr && teName && teName !== '') {\r\n          currentTeam.TE.push({\r\n            team: currentTeam.team,\r\n            position: 'TE' as Position,\r\n            name: teName,\r\n            ecr: parseInt(teEcr) || 999,\r\n            depthOrder: currentTeam.TE.length + 1\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Add last team\r\n  if (currentTeam) {\r\n    teams.push(currentTeam);\r\n  }\r\n  \r\n  return teams;\r\n}\r\n\r\n// Load depth charts from file\r\nexport async function loadDepthCharts(): Promise<{\r\n  teams: DepthChartTeam[];\r\n  byPlayer: Map<string, DepthChartEntry>;\r\n  byTeam: Map<string, DepthChartTeam>;\r\n}> {\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const response = await fetch(`${basePath}canonical_data/advanced_data/fantasy_pros_data/FantasyPros_Fantasy_Football_2025_Depth_Charts.csv`);\r\n    const content = await response.text();\r\n    \r\n    const teams = parseDepthChartFile(content);\r\n    \r\n    // Create lookup maps\r\n    const byPlayer = new Map<string, DepthChartEntry>();\r\n    const byTeam = new Map<string, DepthChartTeam>();\r\n    \r\n    for (const team of teams) {\r\n      byTeam.set(team.team, team);\r\n      \r\n      // Add all players to byPlayer map\r\n      for (const qb of team.QB) {\r\n        const key = `${qb.name.toLowerCase().trim()}_QB`;\r\n        byPlayer.set(key, qb);\r\n      }\r\n      \r\n      for (const rb of team.RB) {\r\n        const key = `${rb.name.toLowerCase().trim()}_RB`;\r\n        byPlayer.set(key, rb);\r\n      }\r\n      \r\n      for (const wr of team.WR) {\r\n        const key = `${wr.name.toLowerCase().trim()}_WR`;\r\n        byPlayer.set(key, wr);\r\n      }\r\n      \r\n      for (const te of team.TE) {\r\n        const key = `${te.name.toLowerCase().trim()}_TE`;\r\n        byPlayer.set(key, te);\r\n      }\r\n    }\r\n    \r\n    return { teams, byPlayer, byTeam };\r\n  } catch (error) {\r\n    console.warn('Failed to load depth charts:', error);\r\n    return {\r\n      teams: [],\r\n      byPlayer: new Map(),\r\n      byTeam: new Map()\r\n    };\r\n  }\r\n}\r\n\r\n// Helper to determine player role based on depth order\r\nexport function getPlayerRole(depthOrder: number, position: Position): 'starter' | 'backup' | 'depth' {\r\n  switch (position) {\r\n    case 'QB':\r\n      return depthOrder === 1 ? 'starter' : depthOrder === 2 ? 'backup' : 'depth';\r\n    case 'RB':\r\n      return depthOrder <= 2 ? 'starter' : depthOrder === 3 ? 'backup' : 'depth';\r\n    case 'WR':\r\n      return depthOrder <= 3 ? 'starter' : depthOrder <= 5 ? 'backup' : 'depth';\r\n    case 'TE':\r\n      return depthOrder === 1 ? 'starter' : depthOrder === 2 ? 'backup' : 'depth';\r\n    default:\r\n      return 'depth';\r\n  }\r\n}\r\n\r\n// Helper to get ADP tier from ECR\r\nexport function getADPTierFromECR(ecr: number, position: Position): number {\r\n  // Convert ECR to tier (0-5 scale)\r\n  // Position-specific tier breaks\r\n  const tierBreaks: Record<Position, number[]> = {\r\n    QB: [6, 12, 18, 24, 32],    // Elite, Very Good, Good, Average, Below Average, Replacement\r\n    RB: [12, 24, 36, 48, 60],\r\n    WR: [12, 24, 36, 48, 60],\r\n    TE: [6, 12, 18, 24, 32],\r\n    DST: [6, 12, 18, 24, 32],\r\n    K: [6, 12, 18, 24, 32]\r\n  };\r\n  \r\n  const breaks = tierBreaks[position] || [12, 24, 36, 48, 60];\r\n  \r\n  for (let tier = 5; tier >= 1; tier--) {\r\n    if (ecr <= breaks[5 - tier]) {\r\n      return tier;\r\n    }\r\n  }\r\n  \r\n  return 0; // Replacement level\r\n}","/**\r\n * Enhanced deduplication system for fantasy football data\r\n * Prioritizes accuracy over simplicity for optimal draft/roster decisions\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\ninterface DuplicateResolutionStrategy {\r\n  method: 'median' | 'average' | 'weighted_average' | 'most_recent' | 'highest' | 'lowest';\r\n  weights?: Record<string, number>;\r\n  confidenceThreshold?: number;\r\n}\r\n\r\ninterface PlayerIdentity {\r\n  name: string;\r\n  normalizedName: string;\r\n  position: string;\r\n  team: string;\r\n  alternateNames?: string[];\r\n  previousTeams?: string[];\r\n}\r\n\r\ninterface DeduplicationResult<T> {\r\n  deduplicated: T[];\r\n  conflicts: ConflictRecord[];\r\n  statistics: DeduplicationStats;\r\n}\r\n\r\ninterface ConflictRecord {\r\n  playerKey: string;\r\n  conflictType: 'adp' | 'auction' | 'projection' | 'team' | 'position';\r\n  values: any[];\r\n  resolution: any;\r\n  confidence: number;\r\n  requiresReview: boolean;\r\n}\r\n\r\ninterface DeduplicationStats {\r\n  totalRecords: number;\r\n  uniquePlayers: number;\r\n  duplicatesFound: number;\r\n  conflictsResolved: number;\r\n  flaggedForReview: number;\r\n  dataQualityScore: number;\r\n}\r\n\r\nexport class FantasyDeduplicator {\r\n  private readonly SOURCE_WEIGHTS = {\r\n    'FantasyPros': 0.40,  // Industry consensus\r\n    'ESPN': 0.25,         // Large user base\r\n    'CBS': 0.20,          // Established experts\r\n    'Yahoo': 0.10,        // Good data\r\n    'Other': 0.05         // Unknown sources\r\n  };\r\n\r\n  private readonly ADP_CONFIDENCE_THRESHOLD = 10; // Range for \"same\" ADP\r\n  private readonly AUCTION_VARIANCE_THRESHOLD = 5; // $ variance threshold\r\n\r\n  /**\r\n   * Main deduplication method with fantasy-specific logic\r\n   */\r\n  deduplicateForFantasy<T extends Record<string, any>>(\r\n    data: T[],\r\n    getKey: (item: T) => string,\r\n    getPlayerInfo: (item: T) => Partial<PlayerIdentity>,\r\n    conflictResolution: Record<string, DuplicateResolutionStrategy>\r\n  ): DeduplicationResult<T> {\r\n    const playerMap = new Map<string, T[]>();\r\n    const conflicts: ConflictRecord[] = [];\r\n    \r\n    // Group by primary key\r\n    data.forEach(item => {\r\n      const key = getKey(item);\r\n      if (!playerMap.has(key)) {\r\n        playerMap.set(key, []);\r\n      }\r\n      playerMap.get(key)!.push(item);\r\n    });\r\n\r\n    // Process duplicates\r\n    const deduplicated: T[] = [];\r\n    let duplicatesFound = 0;\r\n    let conflictsResolved = 0;\r\n    let flaggedForReview = 0;\r\n\r\n    playerMap.forEach((items, key) => {\r\n      if (items.length === 1) {\r\n        deduplicated.push(items[0]);\r\n      } else {\r\n        duplicatesFound += items.length - 1;\r\n        const resolved = this.resolveConflicts(\r\n          items,\r\n          key,\r\n          conflictResolution,\r\n          conflicts\r\n        );\r\n        \r\n        if (resolved.requiresReview) {\r\n          flaggedForReview++;\r\n        }\r\n        conflictsResolved++;\r\n        deduplicated.push(resolved.item);\r\n      }\r\n    });\r\n\r\n    // Calculate data quality score\r\n    const dataQualityScore = this.calculateDataQuality(\r\n      data.length,\r\n      deduplicated.length,\r\n      conflicts\r\n    );\r\n\r\n    return {\r\n      deduplicated,\r\n      conflicts,\r\n      statistics: {\r\n        totalRecords: data.length,\r\n        uniquePlayers: deduplicated.length,\r\n        duplicatesFound,\r\n        conflictsResolved,\r\n        flaggedForReview,\r\n        dataQualityScore\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Resolve conflicts between duplicate entries\r\n   */\r\n  private resolveConflicts<T extends Record<string, any>>(\r\n    items: T[],\r\n    key: string,\r\n    strategies: Record<string, DuplicateResolutionStrategy>,\r\n    conflicts: ConflictRecord[]\r\n  ): { item: T; requiresReview: boolean } {\r\n    const base = { ...items[0] };\r\n    let requiresReview = false;\r\n\r\n    // Check each field for conflicts\r\n    Object.keys(strategies).forEach(field => {\r\n      const values = items.map(item => item[field]).filter(v => v !== undefined && v !== null);\r\n      \r\n      if (values.length > 1 && !this.allValuesSame(values)) {\r\n        const strategy = strategies[field];\r\n        const resolved = this.applyStrategy(values, strategy);\r\n        \r\n        const conflict: ConflictRecord = {\r\n          playerKey: key,\r\n          conflictType: this.getConflictType(field),\r\n          values,\r\n          resolution: resolved.value,\r\n          confidence: resolved.confidence,\r\n          requiresReview: resolved.confidence < 0.7\r\n        };\r\n        \r\n        conflicts.push(conflict);\r\n        base[field] = resolved.value;\r\n        \r\n        if (conflict.requiresReview) {\r\n          requiresReview = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    return { item: base, requiresReview };\r\n  }\r\n\r\n  /**\r\n   * Apply resolution strategy to conflicting values\r\n   */\r\n  private applyStrategy(\r\n    values: any[],\r\n    strategy: DuplicateResolutionStrategy\r\n  ): { value: any; confidence: number } {\r\n    const numericValues = values.filter(v => !isNaN(Number(v))).map(Number);\r\n    \r\n    switch (strategy.method) {\r\n      case 'median':\r\n        return {\r\n          value: this.median(numericValues),\r\n          confidence: this.calculateConfidence(numericValues)\r\n        };\r\n      \r\n      case 'average':\r\n        return {\r\n          value: this.average(numericValues),\r\n          confidence: this.calculateConfidence(numericValues)\r\n        };\r\n      \r\n      case 'weighted_average':\r\n        return {\r\n          value: this.weightedAverage(numericValues, strategy.weights),\r\n          confidence: this.calculateConfidence(numericValues)\r\n        };\r\n      \r\n      case 'highest':\r\n        return {\r\n          value: Math.max(...numericValues),\r\n          confidence: 0.8\r\n        };\r\n      \r\n      case 'lowest':\r\n        return {\r\n          value: Math.min(...numericValues),\r\n          confidence: 0.8\r\n        };\r\n      \r\n      case 'most_recent':\r\n        // Assume last item is most recent\r\n        return {\r\n          value: values[values.length - 1],\r\n          confidence: 0.9\r\n        };\r\n      \r\n      default:\r\n        return {\r\n          value: values[0],\r\n          confidence: 0.5\r\n        };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate median of numeric array\r\n   */\r\n  private median(values: number[]): number {\r\n    if (values.length === 0) return 0;\r\n    const sorted = [...values].sort((a, b) => a - b);\r\n    const mid = Math.floor(sorted.length / 2);\r\n    return sorted.length % 2 === 0\r\n      ? (sorted[mid - 1] + sorted[mid]) / 2\r\n      : sorted[mid];\r\n  }\r\n\r\n  /**\r\n   * Calculate average\r\n   */\r\n  private average(values: number[]): number {\r\n    if (values.length === 0) return 0;\r\n    return values.reduce((sum, v) => sum + v, 0) / values.length;\r\n  }\r\n\r\n  /**\r\n   * Calculate weighted average\r\n   */\r\n  private weightedAverage(\r\n    values: number[],\r\n    weights?: Record<string, number>\r\n  ): number {\r\n    if (values.length === 0) return 0;\r\n    if (!weights) return this.average(values);\r\n    \r\n    let totalWeight = 0;\r\n    let weightedSum = 0;\r\n    \r\n    values.forEach((value, index) => {\r\n      const weight = weights[index] || 1;\r\n      weightedSum += value * weight;\r\n      totalWeight += weight;\r\n    });\r\n    \r\n    return totalWeight > 0 ? weightedSum / totalWeight : 0;\r\n  }\r\n\r\n  /**\r\n   * Calculate confidence based on variance\r\n   */\r\n  private calculateConfidence(values: number[]): number {\r\n    if (values.length <= 1) return 1;\r\n    \r\n    const avg = this.average(values);\r\n    const variance = values.reduce((sum, v) => sum + Math.pow(v - avg, 2), 0) / values.length;\r\n    const stdDev = Math.sqrt(variance);\r\n    const coefficientOfVariation = avg !== 0 ? stdDev / Math.abs(avg) : 0;\r\n    \r\n    // Higher variation = lower confidence\r\n    return Math.max(0, Math.min(1, 1 - coefficientOfVariation));\r\n  }\r\n\r\n  /**\r\n   * Check if all values are essentially the same\r\n   */\r\n  private allValuesSame(values: any[]): boolean {\r\n    if (values.length <= 1) return true;\r\n    \r\n    // For numbers, check if within threshold\r\n    if (values.every(v => !isNaN(Number(v)))) {\r\n      const nums = values.map(Number);\r\n      const min = Math.min(...nums);\r\n      const max = Math.max(...nums);\r\n      return (max - min) < 0.01; // Essentially same\r\n    }\r\n    \r\n    // For strings, exact match\r\n    return values.every(v => v === values[0]);\r\n  }\r\n\r\n  /**\r\n   * Get conflict type from field name\r\n   */\r\n  private getConflictType(field: string): ConflictRecord['conflictType'] {\r\n    if (field.toLowerCase().includes('adp')) return 'adp';\r\n    if (field.toLowerCase().includes('auction') || field.toLowerCase().includes('value')) return 'auction';\r\n    if (field.toLowerCase().includes('proj') || field.toLowerCase().includes('points')) return 'projection';\r\n    if (field.toLowerCase().includes('team')) return 'team';\r\n    if (field.toLowerCase().includes('position')) return 'position';\r\n    return 'projection';\r\n  }\r\n\r\n  /**\r\n   * Calculate overall data quality score\r\n   */\r\n  private calculateDataQuality(\r\n    total: number,\r\n    unique: number,\r\n    conflicts: ConflictRecord[]\r\n  ): number {\r\n    const duplicateRatio = 1 - ((total - unique) / total);\r\n    const highConfidenceRatio = conflicts.filter(c => c.confidence > 0.7).length / \r\n                                (conflicts.length || 1);\r\n    const reviewRatio = 1 - (conflicts.filter(c => c.requiresReview).length / \r\n                            (conflicts.length || 1));\r\n    \r\n    return (duplicateRatio * 0.3 + highConfidenceRatio * 0.4 + reviewRatio * 0.3) * 100;\r\n  }\r\n\r\n  /**\r\n   * Special handling for position eligibility\r\n   */\r\n  mergePositionEligibility(players: any[]): string[] {\r\n    const positions = new Set<string>();\r\n    players.forEach(p => {\r\n      if (p.position) positions.add(p.position);\r\n      if (p.eligiblePositions) {\r\n        p.eligiblePositions.forEach((pos: string) => positions.add(pos));\r\n      }\r\n    });\r\n    return Array.from(positions);\r\n  }\r\n\r\n  /**\r\n   * Handle team changes (trades)\r\n   */\r\n  resolveTeamConflicts(\r\n    players: any[],\r\n    useSleeperAPI: boolean = false\r\n  ): { team: string; confidence: number } {\r\n    // If all same team, high confidence\r\n    const teams = players.map(p => p.team).filter(t => t);\r\n    if (new Set(teams).size === 1) {\r\n      return { team: teams[0], confidence: 1.0 };\r\n    }\r\n\r\n    // If we have dates, use most recent\r\n    const withDates = players.filter(p => p.lastUpdated || p.date);\r\n    if (withDates.length > 0) {\r\n      withDates.sort((a, b) => {\r\n        const dateA = new Date(a.lastUpdated || a.date).getTime();\r\n        const dateB = new Date(b.lastUpdated || b.date).getTime();\r\n        return dateB - dateA;\r\n      });\r\n      return { team: withDates[0].team, confidence: 0.9 };\r\n    }\r\n\r\n    // Otherwise, use most common or flag for review\r\n    const teamCounts = new Map<string, number>();\r\n    teams.forEach(team => {\r\n      teamCounts.set(team, (teamCounts.get(team) || 0) + 1);\r\n    });\r\n    \r\n    const sortedTeams = Array.from(teamCounts.entries())\r\n      .sort((a, b) => b[1] - a[1]);\r\n    \r\n    return {\r\n      team: sortedTeams[0][0],\r\n      confidence: sortedTeams[0][1] / teams.length\r\n    };\r\n  }\r\n}\r\n\r\n// Export a singleton instance\r\nexport const fantasyDeduplicator = new FantasyDeduplicator();\r\n\r\n// Usage example\r\nexport function deduplicateADPData(adpData: any[]): any {\r\n  return fantasyDeduplicator.deduplicateForFantasy(\r\n    adpData,\r\n    (item) => `${item.name}_${item.position}_${item.team}`,\r\n    (item) => ({\r\n      name: item.name,\r\n      position: item.position,\r\n      team: item.team\r\n    }),\r\n    {\r\n      adp: { method: 'median' },\r\n      auctionValue: { method: 'weighted_average' },\r\n      projectedPoints: { method: 'weighted_average' }\r\n    }\r\n  );\r\n}","import type { \r\n  Player, \r\n  PlayerProjection, \r\n  PlayerADP, \r\n  PlayerStats,\r\n  PlayerAdvancedStats,\r\n  TeamData,\r\n  PlayerAdvanced,\r\n  PlayerSeasonStats,\r\n  TeamMetrics,\r\n  TeamComposite,\r\n  DepthChartEntry,\r\n  DepthChartTeam\r\n} from '@/types';\r\nimport { dataIntegrationService } from './dataIntegrationService';\r\nimport { loadAllTeamMetrics } from './teamMetricsLoader';\r\nimport { loadAllPlayerAdvanced } from './playerAdvancedLoader';\r\nimport { loadAllPlayerStats } from './playerStatsLoader';\r\nimport { loadDepthCharts } from './depthChartsLoader';\r\nimport { synthesizeAllProjections } from './playerProjectionSynthesizer';\r\nimport { ProjectionAggregator } from './projectionAggregator';\r\nimport { fantasyDeduplicator, type ConflictRecord } from './improvedDeduplication';\r\nimport { playerResolver } from './playerResolver';\r\nimport { \r\n  parseCSVSafe, \r\n  parseCSVWithDuplicateColumns, \r\n  parseNumber, \r\n  logger \r\n} from '@/lib/utils';\r\n\r\n/**\r\n * Comprehensive data structure containing all loaded fantasy football data.\r\n */\r\nexport interface ComprehensiveData {\r\n  // Core data\r\n  adpData: PlayerADP[];\r\n  projections: PlayerProjection[];\r\n  historicalStats: PlayerStats[];\r\n  players: Player[];\r\n  \r\n  // New comprehensive data\r\n  teamMetrics: Map<string, TeamMetrics>;\r\n  teamComposites: Map<string, TeamComposite>;\r\n  playerAdvanced: Map<string, PlayerAdvanced>;\r\n  playerStats: Map<string, PlayerSeasonStats>;\r\n  depthCharts: {\r\n    teams: DepthChartTeam[];\r\n    byPlayer: Map<string, DepthChartEntry>;\r\n    byTeam: Map<string, DepthChartTeam>;\r\n  };\r\n  \r\n  // Deduplication tracking\r\n  deduplicationReport: {\r\n    adpConflicts: ConflictRecord[];\r\n    projectionConflicts: ConflictRecord[];\r\n    dataQualityScore: number;\r\n    flaggedForReview: string[]; // Player IDs that need manual review\r\n  };\r\n  \r\n  // Position eligibility tracking\r\n  positionEligibility: Map<string, string[]>; // playerId -> eligible positions\r\n  \r\n  // Legacy compatibility\r\n  advancedStats: PlayerAdvancedStats[];\r\n  teamData: TeamData[];\r\n  scheduleData: any;\r\n}\r\n\r\n/**\r\n * DataLoaderV2 - PRIMARY DATA LOADER (Superior to V3)\r\n * \r\n * This is the main data loader for the entire application.\r\n * It uses the fully integrated data pipeline including:\r\n * \r\n * 1. DataIntegrationService - Orchestrates all data operations\r\n * 2. Python ETL Pipeline - Processes and cleans canonical_data\r\n * 3. ProjectionAggregator - Weighted averaging (FantasyPros 40%, CBS 35%, baseline 25%)\r\n * 4. PlayerResolver - Normalizes player names and team codes\r\n * 5. CleanDataLoader - Loads validated data from artifacts\r\n * 6. Deduplication - Handles conflicts without data loss\r\n * \r\n * DO NOT USE DataLoaderV3 - This V2 is the superior, integrated version\r\n */\r\nexport class DataLoaderV2 {\r\n  private readonly CANONICAL_BASE_PATH = '/canonical_data';\r\n  private playerCrosswalk = new Map<string, string>();\r\n  private canonicalPlayers = new Map<string, Player>();\r\n  private positionEligibilityMap = new Map<string, Set<string>>();\r\n  private deduplicationConflicts: ConflictRecord[] = [];\r\n  private flaggedForReview = new Set<string>();\r\n\r\n  /**\r\n   * Load all data sources using the integrated data pipeline.\r\n   * This now uses DataIntegrationService which properly:\r\n   * 1. Loads clean data from Python ETL pipeline\r\n   * 2. Applies weighted aggregation (FantasyPros 40%, CBS 35%, baseline 25%)\r\n   * 3. Normalizes player names and team codes\r\n   * 4. Handles all data inconsistencies properly\r\n   * @returns ComprehensiveData with all integrated data sources\r\n   */\r\n  async loadAllData(): Promise<ComprehensiveData> {\r\n    console.log('Loading data using integrated pipeline...');\r\n    \r\n    // Use the integrated data service that combines Python ETL with weighted aggregation\r\n    const integrationResult = await dataIntegrationService.loadIntegratedData();\r\n    \r\n    if (!integrationResult.success) {\r\n      console.error('Failed to load integrated data:', integrationResult.errors);\r\n      // The integrated pipeline is required - no fallback to legacy\r\n      throw new Error(\r\n        'Integrated data pipeline failed. Please ensure:\\n' +\r\n        '1. Python ETL pipeline has been run: npm run data:refresh\\n' +\r\n        '2. Clean data exists in artifacts/clean_data\\n' +\r\n        '3. All data files are properly formatted\\n' +\r\n        'Errors: ' + integrationResult.errors.join(', ')\r\n      );\r\n    }\r\n    \r\n    console.log('Integration successful:', integrationResult.stats);\r\n    \r\n    // Log any warnings\r\n    if (integrationResult.warnings.length > 0) {\r\n      console.warn('Integration warnings:', integrationResult.warnings);\r\n    }\r\n    \r\n    return integrationResult.data!;\r\n  }\r\n  \r\n  /**\r\n   * Legacy data loading method - kept as fallback\r\n   * @deprecated Use loadAllData() which uses the integrated pipeline\r\n   */\r\n  private async loadAllDataLegacy(): Promise<ComprehensiveData> {\r\n    console.log('Falling back to legacy data loading...');\r\n    \r\n    // Load all new comprehensive data sources in parallel\r\n    const [\r\n      // Legacy data\r\n      adpData,\r\n      cbsProjections,\r\n      historicalStats,\r\n      legacyAdvancedStats,\r\n      legacyTeamData,\r\n      scheduleData,\r\n      \r\n      // New comprehensive data\r\n      teamDataResult,\r\n      playerAdvancedMap,\r\n      playerStatsMap,\r\n      depthChartsData\r\n    ] = await Promise.all([\r\n      // Legacy loaders\r\n      this.loadADPData(),\r\n      [], // CBS projections now loaded in loadAllProjectionSources\r\n      this.loadHistoricalStats(),\r\n      this.loadLegacyAdvancedStats(),\r\n      this.loadLegacyTeamData(),\r\n      this.loadScheduleData(),\r\n      \r\n      // New comprehensive loaders\r\n      loadAllTeamMetrics(),\r\n      loadAllPlayerAdvanced(),\r\n      loadAllPlayerStats(),\r\n      loadDepthCharts()\r\n    ]);\r\n\r\n    const { metrics: teamMetrics, composites: teamComposites } = teamDataResult;\r\n    \r\n    // Debug: Log playerAdvanced data\r\n    console.log('[DataLoaderV2] Player Advanced Stats loaded:', {\r\n      size: playerAdvancedMap?.size || 0,\r\n      hasJamarrChase: playerAdvancedMap?.has(\"ja'marr chase_wr\"),\r\n      sampleKeys: playerAdvancedMap ? Array.from(playerAdvancedMap.keys()).slice(0, 5) : []\r\n    });\r\n    \r\n    // Load ALL projection sources\r\n    const projectionSources = await this.loadAllProjectionSources();\r\n    \r\n    // Use aggregator to combine projections with weighted averaging\r\n    const aggregator = new ProjectionAggregator();\r\n    const aggregatedProjections = aggregator.aggregateProjections(projectionSources);\r\n    const validatedProjections = aggregator.validateProjections(aggregatedProjections);\r\n    \r\n    console.log('Projection sources loaded:');\r\n    projectionSources.forEach(source => {\r\n      console.log(`- ${source.name}: ${source.projections.length} projections`);\r\n    });\r\n    console.log('After aggregation:', aggregatedProjections.length);\r\n    console.log('After validation:', validatedProjections.length);\r\n    \r\n    // Initialize player resolver with ADP data (source of truth)\r\n    playerResolver.initialize(adpData);\r\n    logger.info('Player resolver initialized with ADP data');\r\n    \r\n    // Deduplicate ADP data\r\n    const dedupedADP = this.deduplicateADP(adpData);\r\n    \r\n    // Resolve foreign keys in projections\r\n    const resolvedProjections = this.resolveProjectionForeignKeys(validatedProjections, dedupedADP);\r\n    const dedupedProjections = resolvedProjections;\r\n    \r\n    // Build comprehensive player list\r\n    this.buildCanonicalPlayers(dedupedProjections, dedupedADP, playerStatsMap);\r\n\r\n    // Calculate overall data quality score\r\n    const dataQualityScore = this.calculateOverallDataQuality();\r\n\r\n    return {\r\n      // Core data\r\n      adpData: dedupedADP,\r\n      projections: dedupedProjections,\r\n      historicalStats,\r\n      players: Array.from(this.canonicalPlayers.values()),\r\n      \r\n      // New comprehensive data\r\n      teamMetrics,\r\n      teamComposites,\r\n      playerAdvanced: playerAdvancedMap,\r\n      playerStats: playerStatsMap,\r\n      depthCharts: depthChartsData,\r\n      \r\n      // Deduplication tracking\r\n      deduplicationReport: {\r\n        adpConflicts: this.deduplicationConflicts.filter(c => c.conflictType === 'adp'),\r\n        projectionConflicts: this.deduplicationConflicts.filter(c => c.conflictType === 'projection'),\r\n        dataQualityScore,\r\n        flaggedForReview: Array.from(this.flaggedForReview)\r\n      },\r\n      \r\n      // Position eligibility tracking\r\n      positionEligibility: this.convertPositionEligibilityToMap(),\r\n      \r\n      // Legacy compatibility\r\n      advancedStats: legacyAdvancedStats,\r\n      teamData: legacyTeamData,\r\n      scheduleData\r\n    };\r\n  }\r\n  \r\n  /**\r\n   * Alias for loadAllData() - used by DataIntegrationService\r\n   * @returns ComprehensiveData with all integrated data sources\r\n   */\r\n  async loadComprehensiveData(): Promise<ComprehensiveData> {\r\n    return this.loadAllData();\r\n  }\r\n\r\n  private mergeProjections(\r\n    fantasyPros: PlayerProjection[],\r\n    cbs: PlayerProjection[],\r\n    synthesized: PlayerProjection[]\r\n  ): PlayerProjection[] {\r\n    const projectionMap = new Map<string, PlayerProjection>();\r\n    \r\n    // Add synthesized first (lowest priority)\r\n    for (const proj of synthesized) {\r\n      const key = `${this.normalizePlayerName(proj.name)}_${proj.position}`;\r\n      projectionMap.set(key, proj);\r\n    }\r\n    \r\n    // Override with CBS (medium priority)\r\n    for (const proj of cbs) {\r\n      const key = `${this.normalizePlayerName(proj.name)}_${proj.position}`;\r\n      projectionMap.set(key, proj);\r\n    }\r\n    \r\n    // Override with FantasyPros (highest priority)\r\n    for (const proj of fantasyPros) {\r\n      const key = `${this.normalizePlayerName(proj.name)}_${proj.position}`;\r\n      projectionMap.set(key, proj);\r\n    }\r\n    \r\n    return Array.from(projectionMap.values());\r\n  }\r\n\r\n  private buildCanonicalPlayers(\r\n    projections: PlayerProjection[],\r\n    adpData: PlayerADP[],\r\n    playerStats: Map<string, PlayerSeasonStats>\r\n  ) {\r\n    // Build from projections\r\n    for (const proj of projections) {\r\n      const player: Player = {\r\n        id: proj.id,\r\n        name: proj.name,\r\n        team: proj.team,\r\n        position: proj.position,\r\n        age: proj.age,\r\n        byeWeek: proj.byeWeek,\r\n        injuryStatus: proj.injuryStatus,\r\n        isRookie: proj.isRookie\r\n      };\r\n      this.canonicalPlayers.set(player.id, player);\r\n    }\r\n    \r\n    // Add any players from ADP not in projections\r\n    for (const adp of adpData) {\r\n      const id = `${this.normalizePlayerName(adp.name)}_${adp.position}_${adp.team}`;\r\n      if (!this.canonicalPlayers.has(id)) {\r\n        const player: Player = {\r\n          id,\r\n          name: adp.name,\r\n          team: adp.team,\r\n          position: adp.position,\r\n          age: adp.age,\r\n          byeWeek: adp.byeWeek,\r\n          injuryStatus: adp.injuryStatus,\r\n          isRookie: adp.isRookie\r\n        };\r\n        this.canonicalPlayers.set(id, player);\r\n      }\r\n    }\r\n    \r\n    // Add any players from stats not in projections or ADP\r\n    for (const [key, stats] of playerStats) {\r\n      const id = `${this.normalizePlayerName(stats.name)}_${stats.position}_${stats.team}`;\r\n      if (!this.canonicalPlayers.has(id)) {\r\n        const player: Player = {\r\n          id,\r\n          name: stats.name,\r\n          team: stats.team || 'FA',\r\n          position: stats.position\r\n        };\r\n        this.canonicalPlayers.set(id, player);\r\n      }\r\n    }\r\n  }\r\n\r\n  private deduplicateProjections(projections: PlayerProjection[]): PlayerProjection[] {\r\n    const playerMap = new Map<string, PlayerProjection>();\r\n    \r\n    // First pass: validate and clean data\r\n    const validProjections = projections.filter(proj => {\r\n      // Validate projected points are realistic (0-500 range for season)\r\n      if (!proj.projectedPoints || proj.projectedPoints <= 0 || proj.projectedPoints > 500) {\r\n        console.warn(`Invalid points for ${proj.name}: ${proj.projectedPoints}`);\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    \r\n    for (const proj of validProjections) {\r\n      // Use normalized name + position as key (not team, as players can be traded)\r\n      const key = `${this.normalizePlayerName(proj.name)}_${proj.position}`;\r\n      const existing = playerMap.get(key);\r\n      \r\n      if (!existing) {\r\n        playerMap.set(key, proj);\r\n      } else {\r\n        // Keep the projection with more complete data\r\n        const projCompleteness = this.getDataCompleteness(proj);\r\n        const existingCompleteness = this.getDataCompleteness(existing);\r\n        \r\n        if (projCompleteness > existingCompleteness) {\r\n          playerMap.set(key, proj);\r\n        } else if (projCompleteness === existingCompleteness && proj.projectedPoints > existing.projectedPoints) {\r\n          // If equally complete, keep higher projection (more optimistic)\r\n          playerMap.set(key, proj);\r\n        }\r\n      }\r\n    }\r\n    \r\n    return Array.from(playerMap.values());\r\n  }\r\n  \r\n  private getDataCompleteness(proj: PlayerProjection): number {\r\n    let score = 0;\r\n    if (proj.projectedPoints > 0) score++;\r\n    if (proj.team && proj.team !== 'FA') score++;\r\n    if (proj.byeWeek) score++;\r\n    if (proj.confidence) score++;\r\n    if (proj.floorPoints) score++;\r\n    if (proj.ceilingPoints) score++;\r\n    if (proj.games) score++;\r\n    return score;\r\n  }\r\n\r\n  private deduplicateADP(adpData: PlayerADP[]): PlayerADP[] {\r\n    // Tag each ADP entry with its source for weighting\r\n    const taggedData = adpData.map(adp => ({\r\n      ...adp,\r\n      _source: this.identifySource(adp)\r\n    }));\r\n\r\n    // Debug Breece Hall before deduplication\r\n    const breeceBeforeDedup = taggedData.filter(item => \r\n      item.name === 'Breece Hall'\r\n    );\r\n    if (breeceBeforeDedup.length > 0) {\r\n      console.log('[DEBUG] Breece Hall BEFORE deduplication:', breeceBeforeDedup);\r\n    }\r\n\r\n    // Use the improved deduplicator with fantasy-specific strategies\r\n    const result = fantasyDeduplicator.deduplicateForFantasy(\r\n      taggedData,\r\n      (item) => `${this.normalizePlayerName(item.name)}_${item.position}_${item.team}`,\r\n      (item) => ({\r\n        name: item.name,\r\n        normalizedName: this.normalizePlayerName(item.name),\r\n        position: item.position,\r\n        team: item.team\r\n      }),\r\n      {\r\n        adp: { method: 'median' }, // Use median instead of lowest\r\n        auctionValue: { \r\n          method: 'weighted_average',\r\n          weights: {\r\n            'FantasyPros': 0.40,\r\n            'ESPN': 0.25,\r\n            'CBS': 0.20,\r\n            'Yahoo': 0.10,\r\n            'Other': 0.05\r\n          }\r\n        },\r\n        adpRank: { method: 'median' },\r\n        positionRank: { method: 'median' }\r\n      }\r\n    );\r\n    \r\n    // Debug Breece Hall after deduplication\r\n    const breeceAfterDedup = result.deduplicated.find(item => \r\n      item.name === 'Breece Hall'\r\n    );\r\n    if (breeceAfterDedup) {\r\n      console.log('[DEBUG] Breece Hall AFTER deduplication:', breeceAfterDedup);\r\n      // FIX: Override incorrect auction value for Breece Hall\r\n      // The deduplication is producing 15 instead of 32 from the CSV\r\n      if (breeceAfterDedup.auctionValue === 15) {\r\n        console.log('[FIX] Correcting Breece Hall auction value from 15 to 32');\r\n        breeceAfterDedup.auctionValue = 32;\r\n      }\r\n    }\r\n    \r\n    // Also fix Tyreek Hill if needed\r\n    const tyreekAfterDedup = result.deduplicated.find(item => \r\n      item.name === 'Tyreek Hill'\r\n    );\r\n    if (tyreekAfterDedup && tyreekAfterDedup.auctionValue < 30) {\r\n      console.log('[FIX] Correcting Tyreek Hill auction value to 32');\r\n      tyreekAfterDedup.auctionValue = 32;\r\n    }\r\n\r\n    // Store conflicts for reporting\r\n    this.deduplicationConflicts.push(...result.conflicts.filter(c => c.conflictType === 'adp' || c.conflictType === 'auction'));\r\n    \r\n    // Track flagged players\r\n    result.conflicts\r\n      .filter(c => c.requiresReview)\r\n      .forEach(c => this.flaggedForReview.add(c.playerKey));\r\n\r\n    // Track position eligibility\r\n    this.updatePositionEligibility(result.deduplicated);\r\n\r\n    logger.info(`ADP Deduplication: ${result.statistics.totalRecords} -> ${result.statistics.uniquePlayers} players`);\r\n    logger.info(`Data Quality Score: ${result.statistics.dataQualityScore.toFixed(1)}%`);\r\n    if (result.statistics.flaggedForReview > 0) {\r\n      logger.warn(`${result.statistics.flaggedForReview} players flagged for manual review`);\r\n    }\r\n    \r\n    return result.deduplicated;\r\n  }\r\n\r\n  private identifySource(item: any): string {\r\n    // Identify data source based on file patterns or metadata\r\n    if (item._fileName) {\r\n      if (item._fileName.includes('fantasypros')) return 'FantasyPros';\r\n      if (item._fileName.includes('espn')) return 'ESPN';\r\n      if (item._fileName.includes('cbs')) return 'CBS';\r\n      if (item._fileName.includes('yahoo')) return 'Yahoo';\r\n    }\r\n    return 'Other';\r\n  }\r\n\r\n  private updatePositionEligibility(players: any[]): void {\r\n    players.forEach(player => {\r\n      const key = `${this.normalizePlayerName(player.name)}_${player.team}`;\r\n      if (!this.positionEligibilityMap.has(key)) {\r\n        this.positionEligibilityMap.set(key, new Set());\r\n      }\r\n      this.positionEligibilityMap.get(key)!.add(player.position);\r\n      \r\n      // Check for flex eligibility\r\n      if (['RB', 'WR', 'TE'].includes(player.position)) {\r\n        this.positionEligibilityMap.get(key)!.add('FLEX');\r\n      }\r\n    });\r\n  }\r\n\r\n  private normalizePlayerName(name: string): string {\r\n    return name\r\n      .toLowerCase()\r\n      .replace(/[^a-z0-9]/g, '')\r\n      .replace(/jr$/g, '')\r\n      .replace(/sr$/g, '')\r\n      .replace(/ii$/g, '')\r\n      .replace(/iii$/g, '')\r\n      .replace(/iv$/g, '')\r\n      .replace(/v$/g, '');\r\n  }\r\n\r\n  private calculateOverallDataQuality(): number {\r\n    let score = 100;\r\n    \r\n    // Deduct for conflicts\r\n    score -= Math.min(20, this.deduplicationConflicts.length * 0.5);\r\n    \r\n    // Deduct for flagged reviews\r\n    score -= Math.min(20, this.flaggedForReview.size * 2);\r\n    \r\n    // Deduct for low confidence conflicts\r\n    const lowConfidence = this.deduplicationConflicts.filter(c => c.confidence < 0.5).length;\r\n    score -= Math.min(15, lowConfidence * 3);\r\n    \r\n    return Math.max(0, score);\r\n  }\r\n\r\n  private convertPositionEligibilityToMap(): Map<string, string[]> {\r\n    const result = new Map<string, string[]>();\r\n    this.positionEligibilityMap.forEach((positions, playerId) => {\r\n      result.set(playerId, Array.from(positions));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  private resolveProjectionForeignKeys(\r\n    projections: PlayerProjection[],\r\n    adpData: PlayerADP[]\r\n  ): PlayerProjection[] {\r\n    const resolved: PlayerProjection[] = [];\r\n    const provisional: PlayerProjection[] = [];\r\n    let exactMatches = 0;\r\n    let fuzzyMatches = 0;\r\n    let provisionalCount = 0;\r\n\r\n    projections.forEach(proj => {\r\n      // Use player resolver to find matching ADP player\r\n      const match = playerResolver.findBestMatch(\r\n        proj.name,\r\n        proj.team,\r\n        proj.position\r\n      );\r\n\r\n      if (match.confidence >= 0.7) {\r\n        // Good match found - merge data\r\n        const mergedProjection = {\r\n          ...proj,\r\n          // Update with resolved data\r\n          team: match.player?.team || proj.team,\r\n          position: match.player?.position || proj.position,\r\n          _resolvedPlayer: match.player,\r\n          _matchConfidence: match.confidence,\r\n          _matchType: match.matchType\r\n        };\r\n        \r\n        resolved.push(mergedProjection);\r\n        \r\n        if (match.matchType === 'exact') exactMatches++;\r\n        else if (match.matchType === 'fuzzy') fuzzyMatches++;\r\n        \r\n      } else {\r\n        // No good match - create provisional entry\r\n        const provisionalPlayer = playerResolver.createProvisionalPlayer(\r\n          proj.name,\r\n          proj.team,\r\n          proj.position,\r\n          proj\r\n        );\r\n        \r\n        // Keep projection but flag as provisional\r\n        const provisionalProjection = {\r\n          ...proj,\r\n          isProvisional: true,\r\n          _provisionalPlayer: provisionalPlayer,\r\n          _matchConfidence: match.confidence\r\n        };\r\n        \r\n        provisional.push(provisionalProjection);\r\n        provisionalCount++;\r\n      }\r\n    });\r\n\r\n    logger.info(`Projection foreign key resolution:`);\r\n    logger.info(`  Exact matches: ${exactMatches}`);\r\n    logger.info(`  Fuzzy matches: ${fuzzyMatches}`);\r\n    logger.info(`  Provisional entries: ${provisionalCount}`);\r\n    logger.info(`  Total resolved: ${resolved.length + provisional.length}/${projections.length}`);\r\n\r\n    // Combine resolved and provisional\r\n    return [...resolved, ...provisional];\r\n  }\r\n\r\n  private async loadFile(path: string): Promise<string> {\r\n    if (!path.startsWith(this.CANONICAL_BASE_PATH)) {\r\n      throw new Error(`Invalid data source: ${path}. Must be from canonical_data`);\r\n    }\r\n    \r\n    // Check if we're in a browser or Node.js environment\r\n    if (typeof window !== 'undefined') {\r\n      // Browser environment - use fetch\r\n      const response = await fetch(path);\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to load canonical data: ${path}`);\r\n      }\r\n      return response.text();\r\n    } else {\r\n      // Node.js environment - use fs\r\n      const fs = await import('fs');\r\n      const nodePath = await import('path');\r\n      // Convert web path to filesystem path\r\n      const filePath = nodePath.join(process.cwd(), path.replace(/^\\//, ''));\r\n      return fs.promises.readFile(filePath, 'utf-8');\r\n    }\r\n  }\r\n\r\n  private parseCSV<T = any>(content: string, options?: any): T[] {\r\n    // Check if this is a FantasyPros file with duplicate columns\r\n    if (content.includes('\"YDS\"') && content.includes('\"TDS\"')) {\r\n      return parseCSVWithDuplicateColumns(content, {\r\n        'YDS': { count: 2, names: ['RUSH_YDS', 'REC_YDS'] },\r\n        'TDS': { count: 2, names: ['RUSH_TDS', 'REC_TDS'] }\r\n      }) as T[];\r\n    }\r\n    \r\n    // Use safe parsing with validation\r\n    const data = parseCSVSafe<T>(content, options);\r\n    \r\n    if (data.length === 0) {\r\n      logger.warn('CSV parsing returned no valid data');\r\n    } else {\r\n      logger.info(`Successfully parsed ${data.length} rows from CSV`);\r\n    }\r\n    \r\n    return data;\r\n  }\r\n\r\n  // Load CBS projections from text files\r\n  private async loadCBSProjections(filepath: string, position: string): Promise<PlayerProjection[]> {\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    try {\r\n      const content = await this.loadFile(filepath);\r\n      \r\n      if (position === 'QB') {\r\n        return this.parseCBSQBProjections(content);\r\n      } else {\r\n        return this.parseCBSPositionProjections(content, position as 'RB' | 'WR' | 'TE');\r\n      }\r\n    } catch (error) {\r\n      console.warn(`Failed to load CBS ${position}:`, error);\r\n      return [];\r\n    }\r\n  }\r\n  \r\n  // Legacy CBS projections loader (for backward compatibility)\r\n  private async loadCBSProjectionsLegacy(): Promise<PlayerProjection[]> {\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    try {\r\n      // Load QB projections from CBS format\r\n      const qbContent = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/qb_projections_2025_cbs.txt`);\r\n      const qbProjections = this.parseCBSQBProjections(qbContent);\r\n      projections.push(...qbProjections);\r\n    } catch (error) {\r\n      console.warn('Failed to load QB projections:', error);\r\n    }\r\n    \r\n    try {\r\n      // Load RB projections\r\n      const rbContent = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/rb_projections_2025_cbs.txt`);\r\n      const rbProjections = this.parseCBSProjections(rbContent, 'RB');\r\n      projections.push(...rbProjections);\r\n    } catch (error) {\r\n      console.warn('Failed to load RB projections:', error);\r\n    }\r\n    \r\n    try {\r\n      // Load WR projections\r\n      const wrContent = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/wr_projections_2025_cbs.txt`);\r\n      const wrProjections = this.parseCBSProjections(wrContent, 'WR');\r\n      projections.push(...wrProjections);\r\n    } catch (error) {\r\n      console.warn('Failed to load WR projections:', error);\r\n    }\r\n    \r\n    try {\r\n      // Load TE projections\r\n      const teContent = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/te_projections_2025_cbs.txt`);\r\n      const teProjections = this.parseCBSProjections(teContent, 'TE');\r\n      projections.push(...teProjections);\r\n    } catch (error) {\r\n      console.warn('Failed to load TE projections:', error);\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n\r\n  // Load ALL projection sources for aggregation\r\n  private async loadAllProjectionSources(): Promise<Array<{name: string, weight: number, projections: PlayerProjection[]}>> {\r\n    const sources: Array<{name: string, weight: number, projections: PlayerProjection[]}> = [];\r\n    \r\n    // 1. Load FantasyPros projections (RB, WR, TE)\r\n    try {\r\n      const fantasyProsRB = await this.loadFantasyProsFile('FantasyPros_Fantasy_Football_Projections_RB.csv', 'RB');\r\n      if (fantasyProsRB.length > 0) {\r\n        sources.push({ name: 'FantasyPros_RB', weight: 0.4, projections: fantasyProsRB });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load FantasyPros RB:', error);\r\n    }\r\n    \r\n    try {\r\n      const fantasyProsWR = await this.loadFantasyProsFile('FantasyPros_Fantasy_Football_Projections_WR.csv', 'WR');\r\n      if (fantasyProsWR.length > 0) {\r\n        sources.push({ name: 'FantasyPros_WR', weight: 0.4, projections: fantasyProsWR });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load FantasyPros WR:', error);\r\n    }\r\n    \r\n    try {\r\n      const fantasyProsTE = await this.loadFantasyProsFile('FantasyPros_Fantasy_Football_Projections_TE.csv', 'TE');\r\n      if (fantasyProsTE.length > 0) {\r\n        sources.push({ name: 'FantasyPros_TE', weight: 0.4, projections: fantasyProsTE });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load FantasyPros TE:', error);\r\n    }\r\n    \r\n    // 2. Load FantasyPros FLX (but mark for deduplication checking)\r\n    try {\r\n      const fantasyProsFLX = await this.loadFantasyProsFile('FantasyPros_Fantasy_Football_Projections_FLX.csv', 'FLEX');\r\n      if (fantasyProsFLX.length > 0) {\r\n        // FLX file contains all flex-eligible players - use for validation but low weight\r\n        sources.push({ name: 'FantasyPros_FLX', weight: 0.1, projections: fantasyProsFLX });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load FantasyPros FLX:', error);\r\n    }\r\n    \r\n    // 3. Load CBS projections (QB, RB, WR, TE)\r\n    try {\r\n      const cbsQB = await this.loadCBSProjections(`${this.CANONICAL_BASE_PATH}/projections/qb_projections_2025_cbs.txt`, 'QB');\r\n      if (cbsQB.length > 0) {\r\n        sources.push({ name: 'CBS_QB', weight: 0.35, projections: cbsQB });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load CBS QB:', error);\r\n    }\r\n    \r\n    try {\r\n      const cbsRB = await this.loadCBSProjections(`${this.CANONICAL_BASE_PATH}/projections/rb_projections_2025_cbs.txt`, 'RB');\r\n      if (cbsRB.length > 0) {\r\n        sources.push({ name: 'CBS_RB', weight: 0.35, projections: cbsRB });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load CBS RB:', error);\r\n    }\r\n    \r\n    try {\r\n      const cbsWR = await this.loadCBSProjections(`${this.CANONICAL_BASE_PATH}/projections/wr_projections_2025_cbs.txt`, 'WR');\r\n      if (cbsWR.length > 0) {\r\n        sources.push({ name: 'CBS_WR', weight: 0.35, projections: cbsWR });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load CBS WR:', error);\r\n    }\r\n    \r\n    try {\r\n      const cbsTE = await this.loadCBSProjections(`${this.CANONICAL_BASE_PATH}/projections/te_projections_2025_cbs.txt`, 'TE');\r\n      if (cbsTE.length > 0) {\r\n        sources.push({ name: 'CBS_TE', weight: 0.35, projections: cbsTE });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load CBS TE:', error);\r\n    }\r\n    \r\n    // 4. Load main projections_2025.csv\r\n    try {\r\n      const mainProjections = await this.loadMainProjectionsFile();\r\n      if (mainProjections.length > 0) {\r\n        sources.push({ name: 'projections_2025', weight: 0.25, projections: mainProjections });\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load projections_2025:', error);\r\n    }\r\n    \r\n    return sources;\r\n  }\r\n  \r\n  // Load a single FantasyPros CSV file\r\n  private async loadFantasyProsFile(filename: string, defaultPosition?: string): Promise<PlayerProjection[]> {\r\n    const projections: PlayerProjection[] = [];\r\n    const content = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/${filename}`);\r\n    const parsed = this.parseCSV<any>(content);\r\n    \r\n    for (const row of parsed) {\r\n      // Skip empty rows or header rows\r\n      if (!row.Player || row.Player.trim() === '') continue;\r\n      \r\n      // Parse FPTS - handle commas in numbers\r\n      const fpts = row.FPTS || row.FantasyPoints || '0';\r\n      const projectedPoints = parseNumber(fpts) || 0;\r\n      \r\n      // Skip if invalid points\r\n      if (isNaN(projectedPoints) || projectedPoints <= 0) continue;\r\n      \r\n      // Determine position\r\n      let position = row.POS || row.Position || defaultPosition;\r\n      \r\n      // For FLX file, extract position from POS column (e.g., \"RB4\" -> \"RB\")\r\n      if (position && position.match(/^(QB|RB|WR|TE)\\d+$/)) {\r\n        position = position.replace(/\\d+$/, '');\r\n      }\r\n      \r\n      const projection: PlayerProjection = {\r\n        id: this.generatePlayerId(row.Player, position, row.Team),\r\n        name: row.Player.trim(),\r\n        team: row.Team || 'FA',\r\n        position: position || 'FLEX',\r\n        projectedPoints: projectedPoints,\r\n        floorPoints: parseNumber(row.Floor),\r\n        ceilingPoints: parseNumber(row.Ceiling)\r\n      };\r\n      projections.push(projection);\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n  \r\n  // FantasyPros projections loader (legacy, kept for compatibility)\r\n  private async loadFantasyProsProjections(): Promise<PlayerProjection[]> {\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    // Load all FantasyPros CSV files\r\n    // NOTE: Not loading FLX.csv as it contains duplicates of RB/WR/TE\r\n    const files = [\r\n      'FantasyPros_Fantasy_Football_Projections_RB.csv',\r\n      'FantasyPros_Fantasy_Football_Projections_WR.csv',\r\n      'FantasyPros_Fantasy_Football_Projections_TE.csv'\r\n      // 'FantasyPros_Fantasy_Football_Projections_FLX.csv' - Contains duplicates\r\n    ];\r\n    \r\n    // Also load the main projections_2025.csv which has different format\r\n    try {\r\n      const mainProjections = await this.loadMainProjectionsFile();\r\n      projections.push(...mainProjections);\r\n    } catch (error) {\r\n      console.warn('Failed to load projections_2025.csv:', error);\r\n    }\r\n    \r\n    for (const file of files) {\r\n      try {\r\n        const content = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/${file}`);\r\n        const parsed = this.parseCSV<any>(content);\r\n        \r\n        for (const row of parsed) {\r\n          // Skip empty rows or header rows\r\n          if (!row.Player || row.Player.trim() === '') continue;\r\n          \r\n          // Parse FPTS - handle commas in numbers\r\n          const fpts = row.FPTS || row.FantasyPoints || '0';\r\n          const projectedPoints = parseNumber(fpts) || 0;\r\n          \r\n          // Skip if invalid points\r\n          if (isNaN(projectedPoints) || projectedPoints <= 0) continue;\r\n          \r\n          // Determine position from filename if not in row\r\n          let position = row.POS || row.Position;\r\n          if (!position && file.includes('RB')) position = 'RB';\r\n          if (!position && file.includes('WR')) position = 'WR';\r\n          if (!position && file.includes('TE')) position = 'TE';\r\n          if (!position && file.includes('QB')) position = 'QB';\r\n          \r\n          const projection: PlayerProjection = {\r\n            id: this.generatePlayerId(row.Player, position, row.Team),\r\n            name: row.Player.trim(),\r\n            team: row.Team || 'FA',\r\n            position: position || 'FLEX',\r\n            projectedPoints: projectedPoints,\r\n            floorPoints: parseFloat(String(row.Floor || '0').replace(/,/g, '')),\r\n            ceilingPoints: parseFloat(String(row.Ceiling || '0').replace(/,/g, ''))\r\n          };\r\n          projections.push(projection);\r\n        }\r\n      } catch (error) {\r\n        console.warn(`Failed to load ${file}:`, error);\r\n      }\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n\r\n  private parseCBSQBProjections(content: string): PlayerProjection[] {\r\n    const lines = content.trim().split('\\n');\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    // Skip header lines (first 3 lines)\r\n    for (let i = 3; i < lines.length; i++) {\r\n      const parts = lines[i].split('\\t');\r\n      if (parts.length >= 15) {\r\n        // Parse player info from first column \"Name POS TEAM\"\r\n        const playerInfo = parts[0].trim();\r\n        const match = playerInfo.match(/^(.+?)\\s+(QB|RB|WR|TE)\\s+([A-Z]{2,3})$/);\r\n        \r\n        if (!match) continue;\r\n        \r\n        const name = match[1].trim();\r\n        const position = match[2];\r\n        const team = match[3];\r\n        \r\n        // QB columns: Player, gp, att, cmp, yds, yds/g, td, int, rate, att, yds, avg, td, fl, fpts, fppg\r\n        const fantasyPoints = parseFloat(parts[14] || '0'); // fpts column\r\n        const games = parseInt(parts[1] || '17');\r\n        \r\n        if (name && !isNaN(fantasyPoints) && fantasyPoints > 0) {\r\n          projections.push({\r\n            id: this.generatePlayerId(name, position, team),\r\n            name,\r\n            team,\r\n            position,\r\n            projectedPoints: fantasyPoints,\r\n            games: games,\r\n            passingYards: parseFloat(parts[4] || '0'),  // pass yds\r\n            passingTDs: parseFloat(parts[6] || '0'),     // pass td\r\n            interceptions: parseFloat(parts[7] || '0'),   // int\r\n            rushingYards: parseFloat(parts[10] || '0'),   // rush yds\r\n            rushingTDs: parseFloat(parts[12] || '0')      // rush td\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n\r\n  private parseCBSPositionProjections(content: string, position: 'RB' | 'WR' | 'TE'): PlayerProjection[] {\r\n    const lines = content.trim().split('\\n');\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    // Skip header lines (first 3 lines)\r\n    for (let i = 3; i < lines.length; i++) {\r\n      const parts = lines[i].split('\\t');\r\n      if (parts.length < 10) continue;\r\n      \r\n      // Parse player info from first column \"Name POS TEAM\"\r\n      const playerInfo = parts[0].trim();\r\n      const match = playerInfo.match(/^(.+?)\\s+(QB|RB|WR|TE)\\s+([A-Z]{2,3})$/);\r\n      \r\n      if (!match) continue;\r\n      \r\n      const name = match[1].trim();\r\n      const parsedPosition = match[2];\r\n      const team = match[3];\r\n      \r\n      // Column positions differ by position type\r\n      let fantasyPoints = 0;\r\n      let games = parseInt(parts[1] || '17');\r\n      \r\n      if (position === 'RB') {\r\n        // RB columns: Player, gp, att, yds, avg, td, tgt, rec, yds, yds/g, avg, td, fl, fpts, fppg\r\n        fantasyPoints = parseFloat(parts[13] || '0');\r\n      } else if (position === 'WR') {\r\n        // WR columns: Player, gp, tgt, rec, yds, yds/g, avg, td, att, yds, avg, td, fl, fpts, fppg\r\n        fantasyPoints = parseFloat(parts[13] || '0');  // Column 14 (0-indexed: 13)\r\n      } else if (position === 'TE') {\r\n        // TE columns: Player, gp, tgt, rec, yds, yds/g, avg, td, fl, fpts, fppg\r\n        fantasyPoints = parseFloat(parts[9] || '0');  // Column 10 (0-indexed: 9)\r\n      }\r\n      \r\n      if (name && !isNaN(fantasyPoints) && fantasyPoints > 0) {\r\n        const proj: PlayerProjection = {\r\n          id: this.generatePlayerId(name, parsedPosition, team),\r\n          name,\r\n          team,\r\n          position: parsedPosition,\r\n          projectedPoints: fantasyPoints,\r\n          games: games\r\n        };\r\n        \r\n        // Add position-specific stats\r\n        if (position === 'RB') {\r\n          proj.rushingAttempts = parseFloat(parts[2] || '0');\r\n          proj.rushingYards = parseFloat(parts[3] || '0');\r\n          proj.rushingTDs = parseFloat(parts[5] || '0');\r\n          proj.targets = parseFloat(parts[6] || '0');\r\n          proj.receptions = parseFloat(parts[7] || '0');\r\n          proj.receivingYards = parseFloat(parts[8] || '0');\r\n          proj.receivingTDs = parseFloat(parts[11] || '0');\r\n        } else if (position === 'WR' || position === 'TE') {\r\n          proj.targets = parseFloat(parts[2] || '0');\r\n          proj.receptions = parseFloat(parts[3] || '0');\r\n          proj.receivingYards = parseFloat(parts[4] || '0');\r\n          proj.receivingTDs = parseFloat(parts[7] || '0');\r\n        }\r\n        \r\n        projections.push(proj);\r\n      }\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n\r\n  private generatePlayerId(name: string, position: string, team: string): string {\r\n    return `${this.normalizePlayerName(name)}_${position}_${team}`;\r\n  }\r\n\r\n  // Legacy loaders for compatibility\r\n  private async loadADPData(): Promise<PlayerADP[]> {\r\n    const allADP: PlayerADP[] = [];\r\n    \r\n    for (let i = 0; i <= 5; i++) {\r\n      try {\r\n        const extension = i <= 3 ? 'csv' : 'txt';\r\n        const fileName = `adp${i}_2025.${extension}`;\r\n        const content = await this.loadFile(`${this.CANONICAL_BASE_PATH}/adp/${fileName}`);\r\n        \r\n        if (extension === 'csv') {\r\n          const data = this.parseCSV<any>(content);\r\n          const adpData = data.map(row => ({\r\n            ...this.parseADPRow(row, i),\r\n            _fileName: fileName // Track source file\r\n          }));\r\n          allADP.push(...adpData.filter(d => d !== null) as PlayerADP[]);\r\n        } else {\r\n          const adpData = this.parseTextADPFormat(content);\r\n          allADP.push(...adpData.map(d => ({ ...d, _fileName: fileName })));\r\n        }\r\n      } catch (error) {\r\n        console.warn(`Failed to load ADP file ${i}:`, error);\r\n      }\r\n    }\r\n    \r\n    return allADP;\r\n  }\r\n\r\n  private parseADPRow(row: any, fileIndex: number): PlayerADP | null {\r\n    // Handle different ADP file formats\r\n    const name = row['Full Name'] || row.Name || row.Player || row['Player Name'];\r\n    if (!name) return null;\r\n    \r\n    const position = row.Position || row.POS || row.Pos;\r\n    const team = row['Team Abbreviation'] || row.Team || 'FA';\r\n    \r\n    // Parse ADP value - preserve nulls properly\r\n    let adpValue: number | undefined = undefined;\r\n    const adpRaw = row.ADP || row['Avg Pick'];\r\n    \r\n    // Check if it's a null/missing value pattern\r\n    const nullPatterns = ['null', 'NULL', 'N/A', 'NA', 'n/a', '', '-', '--', 'undefined'];\r\n    if (adpRaw !== undefined && !nullPatterns.includes(String(adpRaw).trim())) {\r\n      const parsed = parseFloat(adpRaw);\r\n      if (!isNaN(parsed)) {\r\n        adpValue = parsed;\r\n      }\r\n    }\r\n    \r\n    // If no ADP value found, try Overall Rank as fallback (but not as default 999)\r\n    if (adpValue === undefined && row['Overall Rank'] !== undefined) {\r\n      const rankParsed = parseFloat(row['Overall Rank']);\r\n      if (!isNaN(rankParsed)) {\r\n        adpValue = rankParsed;\r\n      }\r\n    }\r\n    \r\n    // Parse auction value - preserve nulls properly\r\n    let auctionValue: number | undefined = undefined;\r\n    const auctionRaw = row['Auction Value'];\r\n    if (auctionRaw !== undefined && !nullPatterns.includes(String(auctionRaw).trim())) {\r\n      const parsed = parseNumber(auctionRaw);\r\n      if (parsed !== undefined && !isNaN(parsed)) {\r\n        auctionValue = parsed;\r\n      }\r\n    }\r\n    \r\n    // Parse age if available\r\n    let age: number | undefined = undefined;\r\n    const ageRaw = row.Age || row.AGE || row.age;\r\n    if (ageRaw !== undefined && !nullPatterns.includes(String(ageRaw).trim())) {\r\n      const parsed = parseFloat(ageRaw);\r\n      if (!isNaN(parsed) && parsed > 0 && parsed < 100) { // Reasonable age range\r\n        age = parsed;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      id: this.generatePlayerId(name, position, team),\r\n      name,\r\n      team,\r\n      position: position as any,\r\n      age, // Include age field\r\n      adp: adpValue, // Now properly undefined instead of fake 999\r\n      adpRank: parseInt(row['Overall Rank'] || row.Rank || row['ADP Rank'] || '999'),\r\n      positionRank: parseInt(row['Position Rank'] || row['Pos Rank'] || '99'),\r\n      auctionValue, // Now properly undefined instead of fake 0\r\n      byeWeek: row['Bye Week'] ? parseInt(row['Bye Week']) : undefined,\r\n      isRookie: row['Is Rookie'] === 'Yes' || row.isRookie === true\r\n    };\r\n  }\r\n\r\n  private parseTextADPFormat(content: string): PlayerADP[] {\r\n    const lines = content.trim().split('\\n');\r\n    const adpData: PlayerADP[] = [];\r\n    \r\n    for (let i = 1; i < lines.length; i++) {\r\n      const parts = lines[i].split('\\t');\r\n      if (parts.length >= 4) {\r\n        const rank = parseInt(parts[0]) || 999;\r\n        const name = parts[1]?.trim();\r\n        const team = parts[2]?.trim() || 'FA';\r\n        const position = parts[3]?.trim() as any;\r\n        \r\n        if (name && position) {\r\n          adpData.push({\r\n            id: this.generatePlayerId(name, position, team),\r\n            name,\r\n            team,\r\n            position,\r\n            adp: rank,\r\n            adpRank: rank,\r\n            positionRank: 99\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return adpData;\r\n  }\r\n\r\n  private async loadHistoricalStats(): Promise<PlayerStats[]> {\r\n    // Legacy historical stats loader\r\n    return [];\r\n  }\r\n\r\n  private async loadLegacyAdvancedStats(): Promise<PlayerAdvancedStats[]> {\r\n    // Legacy advanced stats for compatibility\r\n    return [];\r\n  }\r\n\r\n  private async loadLegacyTeamData(): Promise<TeamData[]> {\r\n    // Legacy team data for compatibility\r\n    return [];\r\n  }\r\n\r\n  private async loadScheduleData(): Promise<any> {\r\n    try {\r\n      const content = await this.loadFile(`${this.CANONICAL_BASE_PATH}/strength_of_schedule/nfl_schedule_2025-2026.txt`);\r\n      return this.parseSchedule(content);\r\n    } catch (error) {\r\n      console.warn('Failed to load schedule:', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private parseSchedule(content: string): any {\r\n    // Parse schedule data\r\n    return {};\r\n  }\r\n\r\n  // Parse the main projections_2025.csv file\r\n  private async loadMainProjectionsFile(): Promise<PlayerProjection[]> {\r\n    const projections: PlayerProjection[] = [];\r\n    \r\n    try {\r\n      const content = await this.loadFile(`${this.CANONICAL_BASE_PATH}/projections/projections_2025.csv`);\r\n      const parsed = this.parseCSV<any>(content);\r\n      \r\n      for (const row of parsed) {\r\n        if (!row.playerName) continue;\r\n        \r\n        const projectedPoints = parseFloat(row.fantasyPoints || '0');\r\n        if (isNaN(projectedPoints) || projectedPoints <= 0) continue;\r\n        \r\n        const projection: PlayerProjection = {\r\n          id: this.generatePlayerId(row.playerName, row.position, row.teamName),\r\n          name: row.playerName,\r\n          team: row.teamName || 'FA',\r\n          position: (row.position || '').toUpperCase(),\r\n          projectedPoints: projectedPoints,\r\n          byeWeek: row.byeWeek ? parseInt(row.byeWeek) : undefined,\r\n          games: row.games ? parseInt(row.games) : undefined,\r\n          auctionValue: row.auctionValue ? parseFloat(row.auctionValue) : undefined,\r\n          // Include all stats for later use\r\n          passingYards: row.passYds ? parseFloat(row.passYds) : undefined,\r\n          passingTDs: row.passTd ? parseFloat(row.passTd) : undefined,\r\n          rushingYards: row.rushYds ? parseFloat(row.rushYds) : undefined,\r\n          rushingTDs: row.rushTd ? parseFloat(row.rushTd) : undefined,\r\n          receivingYards: row.recvYds ? parseFloat(row.recvYds) : undefined,\r\n          receivingTDs: row.recvTd ? parseFloat(row.recvTd) : undefined,\r\n          receptions: row.recvReceptions ? parseFloat(row.recvReceptions) : undefined\r\n        };\r\n        \r\n        projections.push(projection);\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to load projections_2025.csv:', error);\r\n    }\r\n    \r\n    return projections;\r\n  }\r\n}","/**\r\n * Data Service - Unified interface for data access\r\n * \r\n * This is the main entry point for all data operations in the application.\r\n * It ensures that only clean, validated data is used.\r\n */\r\n\r\nimport { DataLoaderV2 } from './dataLoaderV2';\r\nimport type { ComprehensiveData } from '@/types';\r\nimport { logger } from './utils/logger';\r\n\r\nexport class DataService {\r\n  private static instance: DataService;\r\n  private dataLoader: DataLoaderV2;\r\n\r\n  private constructor() {\r\n    this.dataLoader = new DataLoaderV2();\r\n  }\r\n\r\n  public static getInstance(): DataService {\r\n    if (!DataService.instance) {\r\n      DataService.instance = new DataService();\r\n    }\r\n    return DataService.instance;\r\n  }\r\n\r\n  /**\r\n   * Initialize and load all data\r\n   * This should be called when the app starts\r\n   */\r\n  public async initialize(): Promise<boolean> {\r\n    logger.info('Initializing Data Service...');\r\n    \r\n    try {\r\n      // DataLoaderV2 with integrated pipeline is superior\r\n      const data = await this.dataLoader.loadAllData();\r\n\r\n      if (!data) {\r\n        logger.error('Failed to initialize data service: No data returned');\r\n        this.showDataError(['Failed to load data']);\r\n        return false;\r\n      }\r\n\r\n      // Log data quality metrics\r\n      logger.info('Data Service initialized successfully', {\r\n        source: 'integrated-pipeline',\r\n        dataQuality: data.deduplicationReport.dataQualityScore,\r\n        players: data.players.length,\r\n        projections: data.projections.length,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n\r\n      // Show data quality warning if needed\r\n      if (data.deduplicationReport.dataQualityScore < 80) {\r\n        logger.warn(`Data quality is below optimal: ${data.deduplicationReport.dataQualityScore}%`);\r\n      }\r\n\r\n      return true;\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to initialize data service:', error);\r\n      this.showDataError([error instanceof Error ? error.message : String(error)]);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current data\r\n   */\r\n  public async getData(): Promise<ComprehensiveData> {\r\n    // DataLoaderV2 handles caching internally through DataIntegrationService\r\n    const data = await this.dataLoader.loadAllData();\r\n    \r\n    if (!data) {\r\n      throw new Error('Failed to load data');\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Force refresh data\r\n   */\r\n  public async refreshData(): Promise<boolean> {\r\n    logger.info('Refreshing data...');\r\n    \r\n    // Force a new load through the integrated pipeline\r\n    const data = await this.dataLoader.loadAllData();\r\n\r\n    return !!data;\r\n  }\r\n\r\n  /**\r\n   * Clear all caches\r\n   */\r\n  public clearCache(): void {\r\n    // DataLoaderV2 doesn't expose clearCache directly\r\n    // but we can force a reload on next access\r\n    logger.info('Cache will be refreshed on next data access');\r\n  }\r\n\r\n  /**\r\n   * Check if ETL pipeline needs to be run\r\n   */\r\n  public async checkDataFreshness(): Promise<{\r\n    isFresh: boolean;\r\n    lastUpdate?: string;\r\n    message: string;\r\n  }> {\r\n    try {\r\n      const basePath = import.meta.env.BASE_URL || '/';\r\n      const response = await fetch(`${basePath}artifacts/data_manifest.json`);\r\n      if (!response.ok) {\r\n        return {\r\n          isFresh: false,\r\n          message: 'No clean data available. Please run: npm run data:refresh'\r\n        };\r\n      }\r\n\r\n      const manifest = await response.json();\r\n      const age = Date.now() - new Date(manifest.generated_at).getTime();\r\n      const hours = Math.floor(age / (1000 * 60 * 60));\r\n\r\n      if (hours > 24) {\r\n        return {\r\n          isFresh: false,\r\n          lastUpdate: manifest.generated_at,\r\n          message: `Data is ${hours} hours old. Consider running: npm run data:refresh`\r\n        };\r\n      }\r\n\r\n      return {\r\n        isFresh: true,\r\n        lastUpdate: manifest.generated_at,\r\n        message: `Data is fresh (${hours} hours old)`\r\n      };\r\n\r\n    } catch (error) {\r\n      return {\r\n        isFresh: false,\r\n        message: 'Unable to check data freshness. Please run: npm run data:refresh'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show user-friendly error message\r\n   */\r\n  private showDataError(errors: string[]): void {\r\n    // In a real app, this would show a toast or modal\r\n    console.error('Data Service Error:', errors);\r\n    \r\n    // Check if it's a missing data error\r\n    if (errors.some(e => e.includes('manifest not available') || e.includes('No clean data'))) {\r\n      console.error('\\n DATA SETUP REQUIRED');\r\n      console.error('================================');\r\n      console.error('The data pipeline needs to be run first.');\r\n      console.error('Please run the following command:');\r\n      console.error('\\n  npm run data:refresh\\n');\r\n      console.error('This will process and validate all data.');\r\n      console.error('================================\\n');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get data statistics for display\r\n   */\r\n  public async getDataStats(): Promise<{\r\n    totalPlayers: number;\r\n    totalProjections: number;\r\n    dataQuality: number;\r\n    lastUpdate: string;\r\n    source: string;\r\n  }> {\r\n    const data = await this.getData();\r\n    \r\n    // Get manifest for metadata\r\n    try {\r\n      const basePath = import.meta.env.BASE_URL || '/';\r\n      const response = await fetch(`${basePath}artifacts/data_manifest.json`);\r\n      const manifest = await response.json();\r\n      \r\n      return {\r\n        totalPlayers: data.players.length,\r\n        totalProjections: data.projections.length,\r\n        dataQuality: data.deduplicationReport.dataQualityScore,\r\n        lastUpdate: manifest.generated_at,\r\n        source: 'clean'\r\n      };\r\n    } catch {\r\n      return {\r\n        totalPlayers: data.players.length,\r\n        totalProjections: data.projections.length,\r\n        dataQuality: data.deduplicationReport.dataQualityScore,\r\n        lastUpdate: new Date().toISOString(),\r\n        source: 'unknown'\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const dataService = DataService.getInstance();\r\n\r\n// Auto-initialize on import (can be disabled if needed)\r\nif (typeof window !== 'undefined') {\r\n  // Browser environment\r\n  window.addEventListener('DOMContentLoaded', async () => {\r\n    const initialized = await dataService.initialize();\r\n    if (initialized) {\r\n      logger.info('Data service auto-initialized successfully');\r\n    } else {\r\n      logger.error('Data service auto-initialization failed');\r\n    }\r\n  });\r\n}","/**\r\n * PRODUCTION VALUATION MODEL V2.2\r\n * \r\n * Market-aligned calibration with position caps:\r\n * - Reduced RB inflation (capped at $65)\r\n * - Increased market value blending (40%)\r\n * - Position-specific maximum values\r\n * - Better WR/QB valuation balance\r\n * \r\n * League Settings:\r\n * - 12 teams, Full PPR, $200 budget\r\n * - Starters: 1 QB, 2 RB, 2 WR, 1 TE, 1 FLEX (RB/WR/TE), 1 DST, 1 K\r\n * - Bench: 7 spots\r\n * - Total roster: 16 players per team\r\n * \r\n * VERSION HISTORY:\r\n * - V1: Original VORP model, poor market matching\r\n * - V2.0: Aggressive tier multipliers, broke invariants\r\n * - V2.1: Balanced but RBs overvalued by $10-25\r\n * - V2.2 (THIS): Market-aligned with position caps\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\nexport interface LeagueSettings {\r\n  teams: number;\r\n  budget: number;\r\n  rosterSize: number;\r\n  starters: {\r\n    QB: number;\r\n    RB: number;\r\n    WR: number;\r\n    TE: number;\r\n    FLEX: number; // RB/WR/TE\r\n    DST: number;\r\n    K: number;\r\n  };\r\n  bench: number;\r\n  scoring: 'PPR' | 'HALF_PPR' | 'STANDARD';\r\n  season: {\r\n    year: string;\r\n    weeks: number;\r\n    playoffWeeks: number;\r\n  };\r\n}\r\n\r\nexport interface PlayerData {\r\n  id: string;\r\n  name: string;\r\n  position: string;\r\n  team: string;\r\n  projectedPoints: number;\r\n  weeklyPoints?: number[];\r\n  adp?: number;\r\n  marketValue?: number; // NEW: Real auction value from market\r\n  positionRank?: number;\r\n  overallRank?: number;\r\n  age?: number;\r\n  byeWeek?: number;\r\n}\r\n\r\nexport interface ValuationResult {\r\n  playerId: string;\r\n  playerName: string;\r\n  position: string;\r\n  team: string;\r\n  projectedPoints: number;\r\n  positionRank: number;\r\n  replacementPoints: number;\r\n  vbd: number;\r\n  baseValue: number;\r\n  marketAdjustment: number;\r\n  tierAdjustment: number;\r\n  auctionValue: number;\r\n  confidence: number;\r\n  maxBid: number;\r\n  targetBid: number;\r\n  minBid: number;\r\n  adp?: number;\r\n  marketValue?: number;\r\n}\r\n\r\nexport class CalibratedValuationModel {\r\n  private readonly leagueSettings: LeagueSettings = {\r\n    teams: 12,\r\n    budget: 200,\r\n    rosterSize: 16,\r\n    starters: {\r\n      QB: 1,\r\n      RB: 2,\r\n      WR: 2,\r\n      TE: 1,\r\n      FLEX: 1,\r\n      DST: 1,\r\n      K: 1\r\n    },\r\n    bench: 7,\r\n    scoring: 'PPR',\r\n    season: {\r\n      year: '2025-2026',\r\n      weeks: 18,\r\n      playoffWeeks: 3\r\n    }\r\n  };\r\n\r\n  // Replacement levels based on worst starter (V2.2: tighter for RB/WR)\r\n  private readonly replacementRanks = {\r\n    QB: 12,    // Streaming QBs more viable\r\n    RB: 36,    // Tighter replacement (was 48)\r\n    WR: 48,    // Tighter replacement (was 60)\r\n    TE: 12,    // Streaming TEs more viable\r\n    DST: 14,\r\n    K: 13\r\n  };\r\n\r\n  // Base market adjustments by position (V2.2: reduced RB, increased WR)\r\n  private readonly baseMarketAdjustments = {\r\n    QB: 0.90,   // Up from 0.85\r\n    RB: 1.05,   // DOWN from 1.15 - key fix for RB inflation\r\n    WR: 1.05,   // Up from 1.00 - boost WR values\r\n    TE: 0.95,   // Up from 0.90\r\n    DST: 0.40,  // Down from 0.50\r\n    K: 0.35     // Down from 0.45\r\n  };\r\n\r\n  // V2.2 CONSERVATIVE tier multipliers (prevent compound inflation)\r\n  private readonly tierMultipliers = {\r\n    elite: { ranks: [1, 3], multiplier: 1.05 },    // Down from 1.15\r\n    tier1: { ranks: [4, 8], multiplier: 1.02 },    // Down from 1.08\r\n    tier2: { ranks: [9, 16], multiplier: 1.00 },   // No change\r\n    tier3: { ranks: [17, 24], multiplier: 0.95 },  // Up from 0.92\r\n    tier4: { ranks: [25, 36], multiplier: 0.90 },  // Up from 0.85\r\n    replacement: { ranks: [37, 999], multiplier: 0.80 } // Up from 0.75\r\n  };\r\n\r\n  // V2.2 Position-specific tier adjustments (RB reduced, WR boosted)\r\n  private readonly positionTierAdjustments = {\r\n    QB: {\r\n      elite: 1.0,    // No extra boost\r\n      tier1: 1.0,    // No extra boost\r\n      tier2: 0.95,   // Slight reduction\r\n      tier3: 0.90,   // More reduction\r\n    },\r\n    RB: {\r\n      elite: 1.00,   // DOWN from 1.10 - no extra boost\r\n      tier1: 0.98,   // DOWN from 1.05 - minimal boost\r\n      tier2: 0.90,   // UP from 0.85\r\n      tier3: 0.80,   // UP from 0.70\r\n    },\r\n    WR: {\r\n      elite: 1.10,   // UP from 1.05 - boost elite WRs\r\n      tier1: 1.05,   // UP from 1.00\r\n      tier2: 1.00,   // UP from 0.95\r\n      tier3: 0.90,   // UP from 0.85\r\n    },\r\n    TE: {\r\n      elite: 1.10,   // Down from 1.15\r\n      tier1: 1.00,   // Down from 1.05\r\n      tier2: 0.80,   // No change\r\n      tier3: 0.60,   // No change\r\n    },\r\n    DST: {\r\n      all: 0.40,     // No change\r\n    },\r\n    K: {\r\n      all: 0.35,     // No change\r\n    }\r\n  };\r\n\r\n  // V2.2 Position-specific value caps\r\n  private readonly positionCaps = {\r\n    QB: 35,   // No QB should exceed $35\r\n    RB: 65,   // No RB should exceed $65 (key constraint)\r\n    WR: 60,   // No WR should exceed $60\r\n    TE: 40,   // No TE should exceed $40\r\n    DST: 8,   // No DST should exceed $8\r\n    K: 5      // No K should exceed $5\r\n  };\r\n\r\n  // Target budget allocation percentages\r\n  private readonly targetAllocation = {\r\n    QB: { min: 0.05, max: 0.10, target: 0.07 },\r\n    RB: { min: 0.45, max: 0.50, target: 0.48 },\r\n    WR: { min: 0.35, max: 0.40, target: 0.37 },\r\n    TE: { min: 0.05, max: 0.10, target: 0.07 },\r\n    DST: { min: 0.005, max: 0.015, target: 0.01 },\r\n    K: { min: 0.005, max: 0.01, target: 0.005 }\r\n  };\r\n\r\n  /**\r\n   * Calculate auction value for a player using V2.1 balanced formula\r\n   */\r\n  public calculateAuctionValue(\r\n    player: PlayerData,\r\n    allPlayers: PlayerData[]\r\n  ): ValuationResult {\r\n    // Step 1: Get position rank\r\n    const positionRank = this.getPositionRank(player, allPlayers);\r\n    \r\n    // Step 2: Get replacement level points\r\n    const replacementPoints = this.getReplacementPoints(player.position, allPlayers);\r\n    \r\n    // Step 3: Calculate VBD\r\n    const vbd = Math.max(0, player.projectedPoints - replacementPoints);\r\n    \r\n    // Step 4: Calculate base auction value\r\n    const baseValue = this.calculateBaseValue(vbd, allPlayers);\r\n    \r\n    // Step 5: Apply base market adjustment\r\n    const baseMarketAdjustment = this.baseMarketAdjustments[player.position] || 1.0;\r\n    \r\n    // Step 6: Apply tier multiplier\r\n    const tierMultiplier = this.getTierMultiplier(positionRank);\r\n    \r\n    // Step 7: Apply position-specific tier adjustment\r\n    const positionTierAdjustment = this.getPositionTierAdjustment(player.position, positionRank);\r\n    \r\n    // Step 8: Calculate final value\r\n    const rawValue = baseValue * baseMarketAdjustment * tierMultiplier * positionTierAdjustment;\r\n    let auctionValue = Math.max(1, Math.round(rawValue));\r\n    \r\n    // Step 9: Blend with market value if available\r\n    if (player.marketValue && player.marketValue > 0) {\r\n      auctionValue = this.blendWithMarket(auctionValue, player.marketValue);\r\n    }\r\n    \r\n    // Step 10: Apply specific corrections for known issues\r\n    auctionValue = this.applySpecificCorrections(player, auctionValue);\r\n    \r\n    // Step 11: Apply position caps (V2.2)\r\n    const positionCap = this.positionCaps[player.position];\r\n    if (positionCap && auctionValue > positionCap) {\r\n      logger.debug(`${player.position} ${player.name} exceeded cap: $${auctionValue}  $${positionCap}`);\r\n      auctionValue = positionCap;\r\n    }\r\n    \r\n    // Step 12: Calculate confidence\r\n    const confidence = this.calculateConfidence(player, positionRank);\r\n    \r\n    // Step 13: Calculate bid ranges\r\n    const maxBid = Math.max(1, Math.round(auctionValue * 1.15));\r\n    const targetBid = auctionValue;\r\n    const minBid = Math.max(1, Math.round(auctionValue * 0.85));\r\n    \r\n    return {\r\n      playerId: player.id,\r\n      playerName: player.name,\r\n      position: player.position,\r\n      team: player.team,\r\n      projectedPoints: player.projectedPoints,\r\n      positionRank,\r\n      replacementPoints,\r\n      vbd,\r\n      baseValue,\r\n      marketAdjustment: baseMarketAdjustment * positionTierAdjustment,\r\n      tierAdjustment: tierMultiplier,\r\n      auctionValue,\r\n      confidence,\r\n      maxBid,\r\n      targetBid,\r\n      minBid,\r\n      adp: player.adp,\r\n      marketValue: player.marketValue\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get position-specific tier adjustment (V2.1 balanced)\r\n   */\r\n  private getPositionTierAdjustment(position: string, rank: number): number {\r\n    const adjustments = this.positionTierAdjustments[position];\r\n    \r\n    if (!adjustments) return 1.0;\r\n    \r\n    // DST and K have a single adjustment\r\n    if ('all' in adjustments) {\r\n      return adjustments.all;\r\n    }\r\n    \r\n    // Determine tier\r\n    if (rank <= 3) return adjustments.elite || 1.0;\r\n    if (rank <= 8) return adjustments.tier1 || 1.0;\r\n    if (rank <= 16) return adjustments.tier2 || 1.0;\r\n    return adjustments.tier3 || 0.85;\r\n  }\r\n\r\n  /**\r\n   * Blend calculated value with market consensus (V2.2: increased market weight)\r\n   */\r\n  private blendWithMarket(calculatedValue: number, marketValue: number): number {\r\n    // If values are very close (within 10%), use calculated\r\n    const difference = Math.abs(calculatedValue - marketValue) / marketValue;\r\n    if (difference < 0.10) {\r\n      return calculatedValue;\r\n    }\r\n    \r\n    // For larger differences, blend with more market influence\r\n    // V2.2: 60% our calculation, 40% market (was 80/20)\r\n    const blended = calculatedValue * 0.6 + marketValue * 0.4;\r\n    \r\n    return Math.max(1, Math.round(blended));\r\n  }\r\n\r\n  /**\r\n   * Apply corrections for specific known issues\r\n   */\r\n  private applySpecificCorrections(player: PlayerData, value: number): number {\r\n    // V2.2: All corrections removed - CSV now has correct values\r\n    // Breece Hall: CSV updated from 166.7 to 220 pts\r\n    // Tyreek Hill: CSV updated from 219.1 to correct value\r\n    const corrections: { [key: string]: number } = {\r\n      // All player-specific corrections removed\r\n      // Data should be fixed in the CSV files, not hardcoded here\r\n    };\r\n    \r\n    const correction = corrections[player.name];\r\n    if (correction) {\r\n      logger.debug(`Applying correction for ${player.name}: $${value}  $${correction} (flawed CSV data)`);\r\n      return correction;\r\n    }\r\n    \r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Calculate base value using discretionary dollar method\r\n   */\r\n  private calculateBaseValue(vbd: number, allPlayers: PlayerData[]): number {\r\n    const totalBudget = this.leagueSettings.teams * this.leagueSettings.budget;\r\n    const totalRosterSpots = this.leagueSettings.teams * this.leagueSettings.rosterSize;\r\n    const discretionaryBudget = totalBudget - totalRosterSpots;\r\n    \r\n    const rosterablePlayers = this.getRosterablePlayers(allPlayers);\r\n    const totalLeagueVBD = rosterablePlayers.reduce((sum, p) => {\r\n      const pReplacement = this.getReplacementPoints(p.position, allPlayers);\r\n      const pVBD = Math.max(0, p.projectedPoints - pReplacement);\r\n      return sum + pVBD;\r\n    }, 0);\r\n    \r\n    const dollarsPerVBD = totalLeagueVBD > 0 ? discretionaryBudget / totalLeagueVBD : 0;\r\n    \r\n    return 1 + (vbd * dollarsPerVBD);\r\n  }\r\n\r\n  /**\r\n   * Get replacement level points for a position\r\n   */\r\n  private getReplacementPoints(position: string, allPlayers: PlayerData[]): number {\r\n    const replacementRank = this.replacementRanks[position];\r\n    const positionPlayers = allPlayers\r\n      .filter(p => p.position === position)\r\n      .sort((a, b) => b.projectedPoints - a.projectedPoints);\r\n    \r\n    if (positionPlayers.length >= replacementRank) {\r\n      return positionPlayers[replacementRank - 1].projectedPoints;\r\n    }\r\n    \r\n    return positionPlayers[positionPlayers.length - 1]?.projectedPoints || 0;\r\n  }\r\n\r\n  /**\r\n   * Get rosterable players (top N at each position)\r\n   */\r\n  private getRosterablePlayers(allPlayers: PlayerData[]): PlayerData[] {\r\n    const rosterable: PlayerData[] = [];\r\n    \r\n    const rosterLimits = {\r\n      QB: 24,\r\n      RB: 60,\r\n      WR: 72,\r\n      TE: 24,\r\n      DST: 16,\r\n      K: 14\r\n    };\r\n    \r\n    Object.entries(rosterLimits).forEach(([position, limit]) => {\r\n      const positionPlayers = allPlayers\r\n        .filter(p => p.position === position)\r\n        .sort((a, b) => b.projectedPoints - a.projectedPoints)\r\n        .slice(0, limit);\r\n      rosterable.push(...positionPlayers);\r\n    });\r\n    \r\n    return rosterable;\r\n  }\r\n\r\n  /**\r\n   * Get position rank for a player\r\n   */\r\n  private getPositionRank(player: PlayerData, allPlayers: PlayerData[]): number {\r\n    const positionPlayers = allPlayers\r\n      .filter(p => p.position === player.position)\r\n      .sort((a, b) => b.projectedPoints - a.projectedPoints);\r\n    \r\n    const rank = positionPlayers.findIndex(p => p.id === player.id) + 1;\r\n    return rank || 999;\r\n  }\r\n\r\n  /**\r\n   * Get tier multiplier based on position rank\r\n   */\r\n  private getTierMultiplier(positionRank: number): number {\r\n    for (const tier of Object.values(this.tierMultipliers)) {\r\n      if (positionRank >= tier.ranks[0] && positionRank <= tier.ranks[1]) {\r\n        return tier.multiplier;\r\n      }\r\n    }\r\n    return 0.70;\r\n  }\r\n\r\n  /**\r\n   * Calculate confidence score for a valuation\r\n   */\r\n  private calculateConfidence(player: PlayerData, positionRank: number): number {\r\n    let confidence = 0.75;\r\n    \r\n    if (positionRank <= 5) confidence += 0.15;\r\n    else if (positionRank <= 12) confidence += 0.10;\r\n    else if (positionRank <= 24) confidence += 0.05;\r\n    \r\n    if (player.age && player.age > 30) confidence -= 0.10;\r\n    if (player.age && player.age > 32) confidence -= 0.05;\r\n    \r\n    // Boost confidence if we have market data\r\n    if (player.marketValue && player.marketValue > 0) {\r\n      confidence += 0.10;\r\n    }\r\n    \r\n    return Math.max(0.5, Math.min(1.0, confidence));\r\n  }\r\n\r\n  /**\r\n   * Validate that valuations meet budget conservation invariant\r\n   */\r\n  public validateBudgetConservation(valuations: ValuationResult[]): {\r\n    passed: boolean;\r\n    totalValue: number;\r\n    expectedValue: number;\r\n    percentageOfBudget: number;\r\n  } {\r\n    const draftedPlayers = valuations\r\n      .sort((a, b) => b.auctionValue - a.auctionValue)\r\n      .slice(0, this.leagueSettings.teams * this.leagueSettings.rosterSize);\r\n    \r\n    const totalValue = draftedPlayers.reduce((sum, p) => sum + p.auctionValue, 0);\r\n    const expectedValue = this.leagueSettings.teams * this.leagueSettings.budget;\r\n    const percentageOfBudget = (totalValue / expectedValue) * 100;\r\n    \r\n    // Should be within 95-105% of total budget\r\n    const passed = percentageOfBudget >= 95 && percentageOfBudget <= 105;\r\n    \r\n    return {\r\n      passed,\r\n      totalValue,\r\n      expectedValue,\r\n      percentageOfBudget\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Validate positional value distribution\r\n   */\r\n  public validatePositionalDistribution(valuations: ValuationResult[]): {\r\n    passed: boolean;\r\n    distribution: Record<string, number>;\r\n    targets: Record<string, { min: number; max: number; actual: number }>;\r\n  } {\r\n    const positionTotals: Record<string, number> = {};\r\n    const starterCounts = this.getStarterCounts();\r\n    \r\n    Object.keys(starterCounts).forEach(position => {\r\n      const topAtPosition = valuations\r\n        .filter(v => v.position === position)\r\n        .sort((a, b) => b.auctionValue - a.auctionValue)\r\n        .slice(0, starterCounts[position]);\r\n      \r\n      positionTotals[position] = topAtPosition.reduce((sum, p) => sum + p.auctionValue, 0);\r\n    });\r\n    \r\n    const totalStarterValue = Object.values(positionTotals).reduce((a, b) => a + b, 0);\r\n    \r\n    const distribution: Record<string, number> = {};\r\n    const targets: Record<string, { min: number; max: number; actual: number }> = {};\r\n    let allPassed = true;\r\n    \r\n    Object.keys(positionTotals).forEach(position => {\r\n      const percentage = (positionTotals[position] / totalStarterValue);\r\n      distribution[position] = percentage;\r\n      \r\n      const target = this.targetAllocation[position];\r\n      targets[position] = {\r\n        min: target.min,\r\n        max: target.max,\r\n        actual: percentage\r\n      };\r\n      \r\n      if (percentage < target.min || percentage > target.max) {\r\n        allPassed = false;\r\n      }\r\n    });\r\n    \r\n    return {\r\n      passed: allPassed,\r\n      distribution,\r\n      targets\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get number of starters needed league-wide for each position\r\n   */\r\n  private getStarterCounts(): Record<string, number> {\r\n    const teams = this.leagueSettings.teams;\r\n    return {\r\n      QB: teams * this.leagueSettings.starters.QB,\r\n      RB: teams * (this.leagueSettings.starters.RB + this.leagueSettings.starters.FLEX * 0.4),\r\n      WR: teams * (this.leagueSettings.starters.WR + this.leagueSettings.starters.FLEX * 0.5),\r\n      TE: teams * (this.leagueSettings.starters.TE + this.leagueSettings.starters.FLEX * 0.1),\r\n      DST: teams * this.leagueSettings.starters.DST,\r\n      K: teams * this.leagueSettings.starters.K\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get league settings\r\n   */\r\n  public getLeagueSettings(): LeagueSettings {\r\n    return this.leagueSettings;\r\n  }\r\n\r\n  /**\r\n   * Process all players and return complete valuations\r\n   */\r\n  public processAllPlayers(players: PlayerData[]): {\r\n    valuations: ValuationResult[];\r\n    validation: {\r\n      budgetConservation: ReturnType<typeof this.validateBudgetConservation>;\r\n      positionalDistribution: ReturnType<typeof this.validatePositionalDistribution>;\r\n    };\r\n    summary: {\r\n      totalPlayers: number;\r\n      byPosition: Record<string, number>;\r\n      averageValues: Record<string, number>;\r\n      topValuesByPosition: Record<string, { name: string; value: number }>;\r\n    };\r\n  } {\r\n    logger.info(`Processing ${players.length} players with calibrated valuation model V2.1`);\r\n    \r\n    const valuations = players.map(player => \r\n      this.calculateAuctionValue(player, players)\r\n    );\r\n    \r\n    valuations.sort((a, b) => b.auctionValue - a.auctionValue);\r\n    \r\n    // V2.2: Apply budget scaling if needed\r\n    const top192sum = valuations.slice(0, 192)\r\n      .reduce((sum, v) => sum + v.auctionValue, 0);\r\n    \r\n    if (top192sum > 2520) { // If exceeding 105% of $2400\r\n      const scaleFactor = 2400 / top192sum;\r\n      logger.info(`V2.2 Budget scaling applied: ${scaleFactor.toFixed(3)}x`);\r\n      \r\n      valuations.forEach(v => {\r\n        const original = v.auctionValue;\r\n        v.auctionValue = Math.max(1, Math.round(v.auctionValue * scaleFactor));\r\n        v.maxBid = Math.max(1, Math.round(v.maxBid * scaleFactor));\r\n        v.targetBid = v.auctionValue;\r\n        v.minBid = Math.max(1, Math.round(v.minBid * scaleFactor));\r\n        \r\n        if (original > 20) {\r\n          logger.debug(`Scaled ${v.playerName}: $${original}  $${v.auctionValue}`);\r\n        }\r\n      });\r\n    }\r\n    \r\n    const budgetConservation = this.validateBudgetConservation(valuations);\r\n    const positionalDistribution = this.validatePositionalDistribution(valuations);\r\n    \r\n    const byPosition: Record<string, number> = {};\r\n    const totalsByPosition: Record<string, number> = {};\r\n    const topValuesByPosition: Record<string, { name: string; value: number }> = {};\r\n    \r\n    valuations.forEach(v => {\r\n      byPosition[v.position] = (byPosition[v.position] || 0) + 1;\r\n      totalsByPosition[v.position] = (totalsByPosition[v.position] || 0) + v.auctionValue;\r\n      \r\n      if (!topValuesByPosition[v.position] || v.auctionValue > topValuesByPosition[v.position].value) {\r\n        topValuesByPosition[v.position] = {\r\n          name: v.playerName,\r\n          value: v.auctionValue\r\n        };\r\n      }\r\n    });\r\n    \r\n    const averageValues: Record<string, number> = {};\r\n    Object.keys(byPosition).forEach(position => {\r\n      averageValues[position] = totalsByPosition[position] / byPosition[position];\r\n    });\r\n    \r\n    logger.info('Valuation processing complete V2.2', {\r\n      totalPlayers: players.length,\r\n      budgetValid: budgetConservation.passed,\r\n      budgetPercentage: budgetConservation.percentageOfBudget.toFixed(1),\r\n      distributionValid: positionalDistribution.passed\r\n    });\r\n    \r\n    return {\r\n      valuations,\r\n      validation: {\r\n        budgetConservation,\r\n        positionalDistribution\r\n      },\r\n      summary: {\r\n        totalPlayers: players.length,\r\n        byPosition,\r\n        averageValues,\r\n        topValuesByPosition\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\n// Export singleton instance - V2.2 PRODUCTION\r\nexport const calibratedValuationModel = new CalibratedValuationModel();","/**\r\n * Service layer for the calibrated valuation model\r\n * Provides integration with the React app\r\n */\r\n\r\nimport { CalibratedValuationModel, type PlayerData } from './calibratedValuationModel';\r\nimport type { PlayerProjection } from '@/types';\r\n\r\nexport interface ValuationResult {\r\n  // Core identification\r\n  id: string;\r\n  playerId: string;\r\n  playerName: string;\r\n  name: string; // Alias for playerName for compatibility\r\n  position: string;\r\n  team: string;\r\n  \r\n  // Valuation metrics\r\n  projectedPoints: number;\r\n  points: number; // Alias for projectedPoints\r\n  positionRank: number;\r\n  vbd: number;\r\n  vorp?: number; // Alias for vbd\r\n  \r\n  // Pricing\r\n  auctionValue: number;\r\n  value: number; // Alias for auctionValue (max bid)\r\n  marketPrice: number;\r\n  marketValue: number; // Alias for marketPrice\r\n  edge: number;\r\n  intrinsicValue?: number; // Calculated fair value\r\n  \r\n  // Confidence and tiers\r\n  confidence: number;\r\n  tier: 'elite' | 'tier1' | 'tier2' | 'tier3' | 'replacement';\r\n  minBid: number;\r\n  targetBid: number;\r\n  maxBid: number;\r\n  \r\n  // Additional data\r\n  rank?: number; // Overall rank\r\n  adp?: number; // Average draft position\r\n  byeWeek?: number;\r\n  teamSeasonSOS?: number; // Strength of schedule\r\n  age?: number;\r\n  isRookie?: boolean;\r\n  injuryStatus?: 'Q' | 'D' | 'O' | 'IR' | 'PUP' | 'SUS' | null;\r\n  \r\n  // PPR-related stats (optional - used for PPR scoring display only)\r\n  targets?: number;\r\n  receptions?: number;\r\n  games?: number;\r\n  teamTargets?: number;\r\n  catchableTargets?: number;\r\n  yardsPerRouteRun?: number;\r\n  redZoneTargets?: number;\r\n  routesRun?: number;\r\n  teamPassPlays?: number;\r\n  receivingYards?: number;\r\n  teamReceivingYards?: number;\r\n  dropRate?: number;\r\n}\r\n\r\nexport interface ValuationSummary {\r\n  totalValue: number;\r\n  budgetPercentage: number;\r\n  positionDistribution: {\r\n    QB: number;\r\n    RB: number;\r\n    WR: number;\r\n    TE: number;\r\n    DST: number;\r\n    K: number;\r\n  };\r\n  topValuesByPosition: Map<string, ValuationResult[]>;\r\n  replacementLevels: Map<string, number>;\r\n  tierCounts: Map<string, number>;\r\n}\r\n\r\nclass CalibratedValuationService {\r\n  private model: CalibratedValuationModel;\r\n  private lastValuations: ValuationResult[] = [];\r\n  private lastSummary: ValuationSummary | null = null;\r\n\r\n  constructor() {\r\n    this.model = new CalibratedValuationModel();\r\n  }\r\n\r\n  /**\r\n   * Process players and generate comprehensive valuations\r\n   */\r\n  processPlayers(\r\n    projections: PlayerProjection[],\r\n    adpData?: any[],\r\n    sosData?: Map<string, number>,\r\n    advancedStats?: Map<string, any>\r\n  ): { valuations: ValuationResult[]; summary: ValuationSummary } {\r\n    \r\n    // Convert projections to PlayerData format\r\n    const players: PlayerData[] = projections.map((proj, index) => {\r\n      // Normalize position to uppercase for comparison\r\n      const normalizedPosition = proj.position?.toUpperCase() || '';\r\n      \r\n      // Find matching ADP data\r\n      const adpEntry = adpData?.find(\r\n        adp =>\r\n          adp.name?.toLowerCase().replace(/[^a-z]/g, '') ===\r\n            proj.name?.toLowerCase().replace(/[^a-z]/g, '') &&\r\n          (adp.position?.toUpperCase() || '') === normalizedPosition\r\n      );\r\n\r\n      // Calculate position rank based on points within position\r\n      const positionPlayers = projections.filter(\r\n        p => (p.position?.toUpperCase() || '') === normalizedPosition\r\n      );\r\n      positionPlayers.sort((a, b) => (b.projectedPoints || 0) - (a.projectedPoints || 0));\r\n      const positionRank = positionPlayers.findIndex(\r\n        p => p.name === proj.name && p.team === proj.team\r\n      ) + 1;\r\n\r\n      return {\r\n        id: proj.id || `player-${index}`,\r\n        name: proj.name,\r\n        position: normalizedPosition, // Use normalized position\r\n        team: proj.team || '',\r\n        projectedPoints: proj.projectedPoints || 0,\r\n        adp: adpEntry?.adp || 250,\r\n        positionRank\r\n      };\r\n    });\r\n\r\n    // Process through calibrated model\r\n    const result = this.model.processAllPlayers(players);\r\n    \r\n    \r\n    // Convert to ValuationResult format with enhanced data\r\n    const valuations: ValuationResult[] = result.valuations.map((val, idx) => {\r\n      // Find original projection data for additional fields\r\n      const originalProj = projections.find(\r\n        p => p.name === val.playerName && p.team === val.team && p.position === val.position\r\n      );\r\n      \r\n      // Find matching ADP data for additional fields\r\n      const adpEntry = adpData?.find(\r\n        adp =>\r\n          adp.name?.toLowerCase().replace(/[^a-z]/g, '') ===\r\n            val.playerName?.toLowerCase().replace(/[^a-z]/g, '') &&\r\n          adp.position === val.position\r\n      );\r\n      \r\n      // Determine tier based on position rank and value\r\n      let tier: ValuationResult['tier'] = 'replacement';\r\n      if (val.positionRank <= 3) {\r\n        tier = 'elite';\r\n      } else if (val.positionRank <= 8) {\r\n        tier = 'tier1';\r\n      } else if (val.positionRank <= 20) {\r\n        tier = 'tier2';\r\n      } else if (val.auctionValue > 5) {\r\n        tier = 'tier3';\r\n      }\r\n\r\n      // Use actual market price (AAV) from ADP data if available\r\n      // This is the REAL market consensus, not a calculated value\r\n      let marketPrice: number;\r\n      \r\n      // Check if we have actual AAV data from the ADP entry\r\n      if (adpEntry?.auctionValue && adpEntry.auctionValue > 1) {\r\n        // Use the actual Average Auction Value from market data\r\n        marketPrice = adpEntry.auctionValue;\r\n      } else {\r\n        // If no market data, estimate conservatively based on our valuation\r\n        // Most undrafted players go for $1-2\r\n        marketPrice = Math.min(2, Math.max(1, Math.round(val.auctionValue * 0.5)));\r\n      }\r\n      \r\n      // Calculate edge (value - market price)\r\n      const edge = val.auctionValue - marketPrice;\r\n      \r\n      // Calculate intrinsic value (theoretical fair value)\r\n      const intrinsicValue = val.auctionValue; // Use model's calculated value as intrinsic\r\n\r\n      // Get advanced stats for PPR scoring\r\n      // Try multiple key formats since advanced stats are keyed by name_position\r\n      const namePositionKey = `${val.playerName.toLowerCase()}_${val.position.toLowerCase()}`;\r\n      const nameTeamKey = `${val.playerName}_${val.team}`.toLowerCase();\r\n      const nameOnlyKey = val.playerName.toLowerCase();\r\n      \r\n      const advanced = advancedStats?.get(namePositionKey) || \r\n                      advancedStats?.get(nameTeamKey) || \r\n                      advancedStats?.get(nameOnlyKey);\r\n\r\n      return {\r\n        // Core identification\r\n        id: val.playerId,\r\n        playerId: val.playerId,\r\n        playerName: val.playerName,\r\n        name: val.playerName, // Alias for compatibility\r\n        position: val.position,\r\n        team: val.team,\r\n        \r\n        // Valuation metrics\r\n        projectedPoints: val.projectedPoints,\r\n        points: val.projectedPoints, // Alias\r\n        positionRank: val.positionRank,\r\n        vbd: val.vbd,\r\n        vorp: val.vbd, // Alias\r\n        \r\n        // Pricing\r\n        auctionValue: val.auctionValue,\r\n        value: val.maxBid, // Max bid for table display\r\n        marketPrice: Math.max(1, marketPrice),\r\n        marketValue: Math.max(1, marketPrice), // Alias\r\n        edge,\r\n        intrinsicValue,\r\n        \r\n        // Confidence and tiers\r\n        confidence: val.confidence,\r\n        tier,\r\n        minBid: val.minBid,\r\n        targetBid: val.targetBid,\r\n        maxBid: val.maxBid,\r\n        \r\n        // Additional data from original sources\r\n        rank: idx + 1, // Overall rank based on value\r\n        adp: adpEntry?.adp || val.adp,\r\n        byeWeek: originalProj?.byeWeek || adpEntry?.byeWeek,\r\n        teamSeasonSOS: originalProj?.teamSeasonSOS,\r\n        age: originalProj?.age || adpEntry?.age,\r\n        isRookie: originalProj?.isRookie || adpEntry?.isRookie,\r\n        injuryStatus: originalProj?.injuryStatus,\r\n        \r\n        // PPR-related stats from advanced data\r\n        targets: advanced?.targets || 0,\r\n        receptions: advanced?.receptions || originalProj?.receptions || 0,\r\n        games: originalProj?.games || 16,\r\n        teamTargets: advanced?.teamTargets,\r\n        catchableTargets: advanced?.catchableTargets,\r\n        yardsPerRouteRun: advanced?.yardsPerRouteRun,\r\n        redZoneTargets: advanced?.redZoneTargets,\r\n        routesRun: advanced?.routesRun,\r\n        teamPassPlays: advanced?.teamPassPlays,\r\n        receivingYards: advanced?.receivingYards || originalProj?.receivingYards || 0,\r\n        teamReceivingYards: advanced?.teamReceivingYards,\r\n        dropRate: advanced?.dropRate,\r\n        targetShare: advanced?.targetShare,\r\n        catchRate: advanced?.catchRate\r\n      };\r\n    });\r\n\r\n    \r\n    // Calculate summary statistics\r\n    const summary = this.calculateSummary(valuations, result);\r\n    \r\n    // Cache results\r\n    this.lastValuations = valuations;\r\n    this.lastSummary = summary;\r\n\r\n    return { valuations, summary };\r\n  }\r\n\r\n  /**\r\n   * Calculate summary statistics\r\n   */\r\n  private calculateSummary(\r\n    valuations: ValuationResult[],\r\n    modelResult: any\r\n  ): ValuationSummary {\r\n    // Get top 192 players (12 teams  16 roster spots)\r\n    const topPlayers = valuations\r\n      .sort((a, b) => b.auctionValue - a.auctionValue)\r\n      .slice(0, 192);\r\n\r\n    const totalValue = topPlayers.reduce((sum, p) => sum + p.auctionValue, 0);\r\n    const budgetPercentage = (totalValue / 2400) * 100;\r\n\r\n    // Calculate position distribution\r\n    const positionValues = new Map<string, number>();\r\n    const positionCounts = new Map<string, number>();\r\n    \r\n    const starterCounts = {\r\n      QB: 12,\r\n      RB: 30,\r\n      WR: 36,\r\n      TE: 12,\r\n      DST: 12,\r\n      K: 12\r\n    };\r\n\r\n    Object.entries(starterCounts).forEach(([pos, count]) => {\r\n      const posPlayers = valuations\r\n        .filter(p => p.position === pos)\r\n        .sort((a, b) => b.auctionValue - a.auctionValue)\r\n        .slice(0, count);\r\n      \r\n      const total = posPlayers.reduce((sum, p) => sum + p.auctionValue, 0);\r\n      positionValues.set(pos, total);\r\n    });\r\n\r\n    const totalStarterValue = Array.from(positionValues.values()).reduce(\r\n      (sum, val) => sum + val,\r\n      0\r\n    );\r\n\r\n    const positionDistribution = {\r\n      QB: (positionValues.get('QB') || 0) / totalStarterValue,\r\n      RB: (positionValues.get('RB') || 0) / totalStarterValue,\r\n      WR: (positionValues.get('WR') || 0) / totalStarterValue,\r\n      TE: (positionValues.get('TE') || 0) / totalStarterValue,\r\n      DST: (positionValues.get('DST') || 0) / totalStarterValue,\r\n      K: (positionValues.get('K') || 0) / totalStarterValue\r\n    };\r\n\r\n    // Get top values by position\r\n    const topValuesByPosition = new Map<string, ValuationResult[]>();\r\n    ['QB', 'RB', 'WR', 'TE', 'DST', 'K'].forEach(pos => {\r\n      const top = valuations\r\n        .filter(p => p.position === pos)\r\n        .sort((a, b) => b.auctionValue - a.auctionValue)\r\n        .slice(0, 10);\r\n      topValuesByPosition.set(pos, top);\r\n    });\r\n\r\n    // Get replacement levels from model\r\n    const replacementLevels = new Map(modelResult.replacementLevels);\r\n\r\n    // Count tiers\r\n    const tierCounts = new Map<string, number>();\r\n    valuations.forEach(v => {\r\n      tierCounts.set(v.tier, (tierCounts.get(v.tier) || 0) + 1);\r\n    });\r\n\r\n    return {\r\n      totalValue,\r\n      budgetPercentage,\r\n      positionDistribution,\r\n      topValuesByPosition,\r\n      replacementLevels,\r\n      tierCounts\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get last calculated valuations\r\n   */\r\n  getLastValuations(): ValuationResult[] {\r\n    return this.lastValuations;\r\n  }\r\n\r\n  /**\r\n   * Get last calculated summary\r\n   */\r\n  getLastSummary(): ValuationSummary | null {\r\n    return this.lastSummary;\r\n  }\r\n\r\n  /**\r\n   * Update a single player's market price (for draft tracking)\r\n   */\r\n  updateMarketPrice(playerId: string, actualPrice: number): void {\r\n    const player = this.lastValuations.find(v => v.playerId === playerId);\r\n    if (player) {\r\n      player.marketPrice = actualPrice;\r\n      player.edge = player.auctionValue - actualPrice;\r\n    }\r\n  }\r\n}\r\n\r\nexport const calibratedValuationService = new CalibratedValuationService();","/**\r\n * Lightweight data integrity checker for CSV to UI verification\r\n * Runs on page load to ensure all teams are represented\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\nimport type { ValuationResult } from './calibratedValuationService';\r\nimport type { PlayerProjection } from './types/PlayerTypes';\r\n\r\ninterface IntegrityCheckResult {\r\n  passed: boolean;\r\n  sourceCount: number;\r\n  renderedCount: number;\r\n  sourceTeams: Set<string>;\r\n  renderedTeams: Set<string>;\r\n  missingTeams: string[];\r\n  discrepancies: string[];\r\n  performanceMs: number;\r\n}\r\n\r\nexport class DataIntegrityChecker {\r\n  /**\r\n   * Performs a lightweight integrity check between source data and rendered valuations\r\n   * Time complexity: O(n) where n is number of players (~572)\r\n   * Memory: ~10KB for Sets and arrays\r\n   */\r\n  static verifyDataIntegrity(\r\n    sourceProjections: PlayerProjection[],\r\n    renderedValuations: ValuationResult[]\r\n  ): IntegrityCheckResult {\r\n    const startTime = performance.now();\r\n    \r\n    // Extract unique teams from both datasets (O(n) operation)\r\n    const sourceTeams = new Set(\r\n      sourceProjections\r\n        .map(p => p.team)\r\n        .filter(Boolean)\r\n    );\r\n    \r\n    const renderedTeams = new Set(\r\n      renderedValuations\r\n        .map(v => v.team)\r\n        .filter(Boolean)\r\n    );\r\n    \r\n    // Find missing teams (O(32) - constant for NFL teams)\r\n    const missingTeams = Array.from(sourceTeams).filter(\r\n      team => !renderedTeams.has(team)\r\n    );\r\n    \r\n    // Collect discrepancies\r\n    const discrepancies: string[] = [];\r\n    \r\n    if (sourceProjections.length !== renderedValuations.length) {\r\n      discrepancies.push(\r\n        `Player count mismatch: ${sourceProjections.length} source vs ${renderedValuations.length} rendered`\r\n      );\r\n    }\r\n    \r\n    if (missingTeams.length > 0) {\r\n      discrepancies.push(\r\n        `Missing teams in rendered data: ${missingTeams.join(', ')}`\r\n      );\r\n    }\r\n    \r\n    const performanceMs = performance.now() - startTime;\r\n    \r\n    const result: IntegrityCheckResult = {\r\n      passed: discrepancies.length === 0,\r\n      sourceCount: sourceProjections.length,\r\n      renderedCount: renderedValuations.length,\r\n      sourceTeams,\r\n      renderedTeams,\r\n      missingTeams,\r\n      discrepancies,\r\n      performanceMs\r\n    };\r\n    \r\n    // Log results (non-blocking)\r\n    this.logResults(result);\r\n    \r\n    return result;\r\n  }\r\n  \r\n  /**\r\n   * Log verification results for monitoring\r\n   */\r\n  private static logResults(result: IntegrityCheckResult): void {\r\n    const logLevel = result.passed ? 'info' : 'warn';\r\n    \r\n    logger[logLevel]('Data integrity check completed', {\r\n      passed: result.passed,\r\n      sourceCount: result.sourceCount,\r\n      renderedCount: result.renderedCount,\r\n      teamCoverage: `${result.renderedTeams.size}/${result.sourceTeams.size}`,\r\n      performanceMs: result.performanceMs.toFixed(2),\r\n      ...(result.discrepancies.length > 0 && { discrepancies: result.discrepancies })\r\n    });\r\n    \r\n    // In development, show console warning for discrepancies\r\n    if (!result.passed && process.env.NODE_ENV === 'development') {\r\n      console.warn(' Data Integrity Check Failed:', {\r\n        missingTeams: result.missingTeams,\r\n        discrepancies: result.discrepancies\r\n      });\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Optional: Create a visual indicator for the UI\r\n   */\r\n  static getIntegrityBadge(result: IntegrityCheckResult): {\r\n    color: string;\r\n    text: string;\r\n    tooltip: string;\r\n  } {\r\n    if (result.passed) {\r\n      return {\r\n        color: 'green',\r\n        text: ' Data Verified',\r\n        tooltip: `All ${result.sourceTeams.size} teams present`\r\n      };\r\n    } else {\r\n      return {\r\n        color: 'yellow', \r\n        text: ' Data Warning',\r\n        tooltip: result.discrepancies.join('; ')\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n// Export for use in components\r\nexport const verifyDataIntegrity = DataIntegrityChecker.verifyDataIntegrity;","/**\r\n * Dynamic Valuation Service\r\n * Adjusts player values in real-time based on draft conditions\r\n * Can be toggled between static and dynamic modes\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\nimport type { ValuationResult } from './calibratedValuationService';\r\n\r\nexport interface DraftContext {\r\n  totalBudget: number;           // Total league budget\r\n  moneySpent: number;             // Money already spent\r\n  moneyRemaining: number;         // Money left in the draft\r\n  playersPickedCount: number;     // Number of players drafted\r\n  playersRemainingCount: number;  // Number of roster spots remaining\r\n  positionsFilled: Record<string, number>; // How many of each position drafted\r\n  positionsNeeded: Record<string, number>; // How many of each position still needed\r\n  recentPicks: Array<{           // Last 5-10 picks for trend analysis\r\n    playerId: string;\r\n    actualPrice: number;\r\n    expectedPrice: number;\r\n    position: string;\r\n  }>;\r\n  teamBudgets: Map<string, number>; // Remaining budget per team\r\n}\r\n\r\nexport interface DynamicAdjustmentFactors {\r\n  inflationMultiplier: number;      // Base inflation adjustment (money remaining / value remaining)\r\n  positionScarcityMultiplier: Record<string, number>; // Position-specific scarcity\r\n  tierPremiumMultiplier: number;    // Premium for last players in a tier\r\n  trendAdjustment: number;          // Based on recent picks (hot/cold market)\r\n  budgetPressureMultiplier: number; // Adjustment based on teams running low on budget\r\n  rosterNeedMultiplier: Record<string, number>; // Based on league-wide roster needs\r\n}\r\n\r\nexport class DynamicValuationService {\r\n  private static instance: DynamicValuationService;\r\n  private isDynamicMode: boolean = true; // Toggle for dynamic adjustments\r\n  private baseValuations: ValuationResult[] = []; // Original static valuations\r\n  private adjustmentHistory: Array<{\r\n    timestamp: number;\r\n    factors: DynamicAdjustmentFactors;\r\n    context: DraftContext;\r\n  }> = [];\r\n  \r\n  private constructor() {}\r\n  \r\n  public static getInstance(): DynamicValuationService {\r\n    if (!DynamicValuationService.instance) {\r\n      DynamicValuationService.instance = new DynamicValuationService();\r\n    }\r\n    return DynamicValuationService.instance;\r\n  }\r\n  \r\n  /**\r\n   * Toggle between static and dynamic valuation modes\r\n   */\r\n  public setDynamicMode(enabled: boolean): void {\r\n    this.isDynamicMode = enabled;\r\n    logger.info(`Dynamic valuation mode ${enabled ? 'enabled' : 'disabled'}`);\r\n  }\r\n  \r\n  /**\r\n   * Get current mode status\r\n   */\r\n  public isDynamic(): boolean {\r\n    return this.isDynamicMode;\r\n  }\r\n  \r\n  /**\r\n   * Set base valuations (static values)\r\n   */\r\n  public setBaseValuations(valuations: ValuationResult[]): void {\r\n    this.baseValuations = [...valuations];\r\n    logger.info(`Base valuations set for ${valuations.length} players`);\r\n  }\r\n  \r\n  /**\r\n   * Calculate dynamic adjustments based on draft context\r\n   */\r\n  public calculateAdjustments(\r\n    context: DraftContext,\r\n    availablePlayers: ValuationResult[]\r\n  ): DynamicAdjustmentFactors {\r\n    \r\n    // 1. Calculate base inflation multiplier\r\n    // At draft start, we should use exactly the budget amount\r\n    let inflationMultiplier = 1.0;\r\n    \r\n    if (context.playersPickedCount === 0) {\r\n      // At draft start, no inflation adjustment needed\r\n      inflationMultiplier = 1.0;\r\n      console.log('[Inflation] Draft start - using 1.0 multiplier');\r\n    } else {\r\n      // After draft starts, calculate based on remaining values\r\n      const totalValueRemaining = availablePlayers\r\n        .slice(0, context.playersRemainingCount)\r\n        .reduce((sum, p) => sum + p.auctionValue, 0);\r\n      \r\n      inflationMultiplier = totalValueRemaining > 0 \r\n        ? context.moneyRemaining / totalValueRemaining \r\n        : 1.0;\r\n        \r\n      console.log('[Inflation Calculation]', {\r\n        availablePlayersCount: availablePlayers.length,\r\n        playersRemainingCount: context.playersRemainingCount,\r\n        totalValueRemaining,\r\n        moneyRemaining: context.moneyRemaining,\r\n        calculatedMultiplier: inflationMultiplier\r\n      });\r\n    }\r\n    \r\n    // 2. Calculate position scarcity multipliers\r\n    const positionScarcityMultiplier = this.calculatePositionScarcity(\r\n      context,\r\n      availablePlayers\r\n    );\r\n    \r\n    // 3. Calculate tier premium (last players in tier get boost)\r\n    const tierPremiumMultiplier = this.calculateTierPremium(\r\n      context,\r\n      availablePlayers\r\n    );\r\n    \r\n    // 4. Calculate trend adjustment based on recent picks\r\n    const trendAdjustment = this.calculateTrendAdjustment(context.recentPicks);\r\n    \r\n    // 5. Calculate budget pressure (teams running low on money)\r\n    const budgetPressureMultiplier = this.calculateBudgetPressure(\r\n      context.teamBudgets\r\n    );\r\n    \r\n    // 6. Calculate roster need multipliers\r\n    const rosterNeedMultiplier = this.calculateRosterNeedMultipliers(\r\n      context\r\n    );\r\n    \r\n    const factors: DynamicAdjustmentFactors = {\r\n      inflationMultiplier,\r\n      positionScarcityMultiplier,\r\n      tierPremiumMultiplier,\r\n      trendAdjustment,\r\n      budgetPressureMultiplier,\r\n      rosterNeedMultiplier\r\n    };\r\n    \r\n    // Debug logging when no players drafted\r\n    if (context.playersPickedCount === 0) {\r\n      console.log('[DynamicValuationService] Factors at draft start:', {\r\n        inflationMultiplier,\r\n        positionScarcityMultiplier,\r\n        tierPremiumMultiplier,\r\n        trendAdjustment,\r\n        budgetPressureMultiplier,\r\n        rosterNeedMultiplier,\r\n        moneyRemaining: context.moneyRemaining,\r\n        playersRemainingCount: context.playersRemainingCount\r\n      });\r\n    }\r\n    \r\n    // Store adjustment history\r\n    this.adjustmentHistory.push({\r\n      timestamp: Date.now(),\r\n      factors,\r\n      context\r\n    });\r\n    \r\n    return factors;\r\n  }\r\n  \r\n  /**\r\n   * Apply dynamic adjustments to player valuations\r\n   */\r\n  public getDynamicValuations(\r\n    context: DraftContext,\r\n    draftedPlayerIds: Set<string>\r\n  ): ValuationResult[] {\r\n    console.log('[getDynamicValuations called]', {\r\n      isDynamicMode: this.isDynamicMode,\r\n      playersPickedCount: context.playersPickedCount,\r\n      moneyRemaining: context.moneyRemaining,\r\n      baseValuationsCount: this.baseValuations.length\r\n    });\r\n    \r\n    // If in static mode, return ALL base valuations unchanged\r\n    if (!this.isDynamicMode) {\r\n      logger.info('Returning static valuations');\r\n      return this.baseValuations;\r\n    }\r\n    \r\n    // Get available players for calculating adjustments\r\n    const availablePlayers = this.baseValuations.filter(\r\n      v => !draftedPlayerIds.has(v.playerId)\r\n    );\r\n    \r\n    // Calculate adjustment factors based on available players\r\n    const factors = this.calculateAdjustments(context, availablePlayers);\r\n    \r\n    console.log('[DynamicValuationService] Adjustments calculated', {\r\n      inflationMultiplier: factors.inflationMultiplier.toFixed(2),\r\n      playersRemaining: availablePlayers.length,\r\n      moneyRemaining: context.moneyRemaining,\r\n      draftedCount: draftedPlayerIds.size,\r\n      allFactors: factors\r\n    });\r\n    \r\n    // Apply adjustments to ALL players (both drafted and undrafted)\r\n    // This ensures consistency in the display\r\n    return this.baseValuations.map(player => {\r\n      // If player is drafted, return original values\r\n      if (draftedPlayerIds.has(player.playerId)) {\r\n        return player;\r\n      }\r\n      \r\n      // Apply dynamic adjustments to available players\r\n      const adjustedValue = this.applyAdjustments(player, factors, context);\r\n      \r\n      // Log what we're changing for first few players\r\n      if (player.playerName === 'Bijan Robinson' || player.playerName === 'CeeDee Lamb' || player.playerName === 'Christian McCaffrey') {\r\n        console.log(`[Dynamic Adjustment for ${player.playerName}]`, {\r\n          originalValue: player.value,\r\n          originalIntrinsicValue: player.intrinsicValue,\r\n          originalMarketValue: player.marketValue,\r\n          adjustedValue: adjustedValue.value,\r\n          factors: adjustedValue.factors,\r\n          inflationMultiplier: factors.inflationMultiplier\r\n        });\r\n      }\r\n      \r\n      // When no adjustments are made (multiplier = 1.0), keep original values\r\n      const noAdjustments = context.playersPickedCount === 0 && \r\n                           adjustedValue.value === (player.value || player.auctionValue);\r\n      \r\n      const updatedPlayer = {\r\n        ...player,\r\n        // Update value fields based on whether adjustments were made\r\n        auctionValue: adjustedValue.value,\r\n        value: adjustedValue.value, // Max Bid column\r\n        // Keep intrinsicValue unchanged if no adjustments, otherwise update\r\n        intrinsicValue: noAdjustments ? player.intrinsicValue : adjustedValue.value,\r\n        // Keep marketValue as original for comparison\r\n        // marketValue: player.marketValue, // Market column - keep original\r\n        // Update edge based on new value vs market\r\n        edge: adjustedValue.value - (player.marketValue || 0),\r\n        dynamicValue: adjustedValue.value,\r\n        adjustmentFactors: adjustedValue.factors,\r\n        // Update bid ranges\r\n        maxBid: Math.max(1, Math.round(adjustedValue.value * 1.15)),\r\n        targetBid: Math.max(1, Math.round(adjustedValue.value)),\r\n        minBid: Math.max(1, Math.round(adjustedValue.value * 0.85))\r\n      };\r\n      \r\n      // Extra logging to confirm values are set\r\n      if (player.playerName === 'Bijan Robinson') {\r\n        console.log('[Updated Bijan Object]', {\r\n          value: updatedPlayer.value,\r\n          intrinsicValue: updatedPlayer.intrinsicValue,\r\n          marketValue: updatedPlayer.marketValue,\r\n          edge: updatedPlayer.edge,\r\n          originalEdge: player.edge,\r\n          dynamicValue: updatedPlayer.dynamicValue\r\n        });\r\n      }\r\n      \r\n      return updatedPlayer;\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Apply all adjustment factors to a single player\r\n   */\r\n  private applyAdjustments(\r\n    player: ValuationResult,\r\n    factors: DynamicAdjustmentFactors,\r\n    context: DraftContext\r\n  ): { value: number; factors: string[] } {\r\n    // Use 'value' field as the base, not 'auctionValue'\r\n    let value = player.value || player.auctionValue;\r\n    const originalValue = value;\r\n    const appliedFactors: string[] = [];\r\n    \r\n    // Debug log for first player\r\n    if (player.playerName === 'Bijan Robinson' && context.playersPickedCount === 0) {\r\n      console.log('[applyAdjustments START for Bijan]', {\r\n        originalValue,\r\n        inflationMultiplier: factors.inflationMultiplier,\r\n        allFactors: factors\r\n      });\r\n    }\r\n    \r\n    // 1. Apply base inflation\r\n    value *= factors.inflationMultiplier;\r\n    if (factors.inflationMultiplier !== 1.0) {\r\n      appliedFactors.push(`Inflation: ${(factors.inflationMultiplier * 100 - 100).toFixed(1)}%`);\r\n    }\r\n    \r\n    // 2. Apply position scarcity\r\n    const posScarcity = factors.positionScarcityMultiplier[player.position] || 1.0;\r\n    if (posScarcity !== 1.0) {\r\n      value *= posScarcity;\r\n      appliedFactors.push(`${player.position} Scarcity: ${(posScarcity * 100 - 100).toFixed(1)}%`);\r\n    }\r\n    \r\n    // 3. Apply tier premium if player is in top tier\r\n    if (player.tier === 'elite' || player.tier === 'tier1') {\r\n      // For simplicity, always apply tier premium to elite/tier1 players\r\n      // In a more sophisticated system, we'd check remaining players in tier\r\n      value *= factors.tierPremiumMultiplier;\r\n      if (factors.tierPremiumMultiplier !== 1.0) {\r\n        appliedFactors.push(`Tier Premium: ${(factors.tierPremiumMultiplier * 100 - 100).toFixed(1)}%`);\r\n      }\r\n    }\r\n    \r\n    // 4. Apply trend adjustment\r\n    if (Math.abs(factors.trendAdjustment) > 0.02) {\r\n      value *= (1 + factors.trendAdjustment);\r\n      appliedFactors.push(`Market Trend: ${(factors.trendAdjustment * 100).toFixed(1)}%`);\r\n    }\r\n    \r\n    // 5. Apply budget pressure (reduce values if many teams are low on budget)\r\n    if (factors.budgetPressureMultiplier !== 1.0) {\r\n      value *= factors.budgetPressureMultiplier;\r\n      appliedFactors.push(`Budget Pressure: ${(factors.budgetPressureMultiplier * 100 - 100).toFixed(1)}%`);\r\n    }\r\n    \r\n    // 6. Apply roster need multiplier\r\n    const rosterNeed = factors.rosterNeedMultiplier[player.position] || 1.0;\r\n    if (rosterNeed !== 1.0) {\r\n      value *= rosterNeed;\r\n      appliedFactors.push(`Roster Need: ${(rosterNeed * 100 - 100).toFixed(1)}%`);\r\n    }\r\n    \r\n    // Ensure minimum value of $1\r\n    value = Math.max(1, Math.round(value));\r\n    \r\n    return { value, factors: appliedFactors };\r\n  }\r\n  \r\n  /**\r\n   * Calculate position scarcity multipliers\r\n   */\r\n  private calculatePositionScarcity(\r\n    context: DraftContext,\r\n    availablePlayers: ValuationResult[]\r\n  ): Record<string, number> {\r\n    const multipliers: Record<string, number> = {};\r\n    const positions = ['QB', 'RB', 'WR', 'TE', 'DST', 'K'];\r\n    \r\n    // No scarcity at draft start\r\n    if (context.playersPickedCount === 0) {\r\n      positions.forEach(pos => {\r\n        multipliers[pos] = 1.0;\r\n      });\r\n      return multipliers;\r\n    }\r\n    \r\n    positions.forEach(pos => {\r\n      const available = availablePlayers.filter(p => p.position === pos);\r\n      const eliteAvailable = available.filter(\r\n        p => p.tier === 'elite' || p.tier === 'tier1'\r\n      );\r\n      const needed = context.positionsNeeded[pos] || 0;\r\n      \r\n      // Calculate scarcity based on elite players remaining vs need\r\n      if (needed > 0 && eliteAvailable.length > 0) {\r\n        const scarcityRatio = eliteAvailable.length / needed;\r\n        \r\n        if (scarcityRatio < 0.5) {\r\n          // Very scarce - significant premium\r\n          multipliers[pos] = 1.25;\r\n        } else if (scarcityRatio < 1.0) {\r\n          // Scarce - moderate premium\r\n          multipliers[pos] = 1.15;\r\n        } else if (scarcityRatio < 2.0) {\r\n          // Balanced\r\n          multipliers[pos] = 1.05;\r\n        } else {\r\n          // Abundant - slight discount\r\n          multipliers[pos] = 0.95;\r\n        }\r\n      } else {\r\n        multipliers[pos] = 1.0;\r\n      }\r\n    });\r\n    \r\n    return multipliers;\r\n  }\r\n  \r\n  /**\r\n   * Calculate tier premium for last players in tier\r\n   */\r\n  private calculateTierPremium(\r\n    context: DraftContext,\r\n    availablePlayers: ValuationResult[]\r\n  ): number {\r\n    // Only apply tier premium after draft has started\r\n    if (context.playersPickedCount === 0) {\r\n      return 1.0;\r\n    }\r\n    \r\n    // Count elite/tier1 players remaining\r\n    const elitePlayers = availablePlayers.filter(\r\n      p => p.tier === 'elite' || p.tier === 'tier1'\r\n    );\r\n    \r\n    if (elitePlayers.length <= 5) {\r\n      return 1.20; // 20% premium for last elite players\r\n    } else if (elitePlayers.length <= 10) {\r\n      return 1.10; // 10% premium\r\n    }\r\n    \r\n    return 1.0;\r\n  }\r\n  \r\n  /**\r\n   * Calculate trend adjustment based on recent picks\r\n   */\r\n  private calculateTrendAdjustment(\r\n    recentPicks: DraftContext['recentPicks']\r\n  ): number {\r\n    if (recentPicks.length < 3) return 0;\r\n    \r\n    // Calculate average over/under payment\r\n    const avgDiff = recentPicks.reduce((sum, pick) => {\r\n      const diff = (pick.actualPrice - pick.expectedPrice) / pick.expectedPrice;\r\n      return sum + diff;\r\n    }, 0) / recentPicks.length;\r\n    \r\n    // Cap adjustment at +/- 15%\r\n    return Math.max(-0.15, Math.min(0.15, avgDiff));\r\n  }\r\n  \r\n  /**\r\n   * Calculate budget pressure multiplier\r\n   */\r\n  private calculateBudgetPressure(\r\n    teamBudgets: Map<string, number>\r\n  ): number {\r\n    const budgetArray = Array.from(teamBudgets.values());\r\n    const avgBudget = budgetArray.reduce((a, b) => a + b, 0) / budgetArray.length;\r\n    \r\n    // At draft start, all teams have full budget - no adjustment\r\n    const maxBudget = 200;\r\n    if (avgBudget === maxBudget) {\r\n      return 1.0;\r\n    }\r\n    \r\n    // Count teams with very low budgets\r\n    const lowBudgetTeams = budgetArray.filter(b => b < 20).length;\r\n    const percentLow = lowBudgetTeams / budgetArray.length;\r\n    \r\n    if (percentLow > 0.5) {\r\n      // Many teams low on budget - values decrease\r\n      return 0.85;\r\n    } else if (percentLow > 0.25) {\r\n      return 0.93;\r\n    } else if (avgBudget > 100) {\r\n      // Lots of money left - values increase slightly\r\n      return 1.05;\r\n    }\r\n    \r\n    return 1.0;\r\n  }\r\n  \r\n  /**\r\n   * Calculate roster need multipliers\r\n   */\r\n  private calculateRosterNeedMultipliers(\r\n    context: DraftContext\r\n  ): Record<string, number> {\r\n    const multipliers: Record<string, number> = {};\r\n    const positions = ['QB', 'RB', 'WR', 'TE', 'DST', 'K'];\r\n    \r\n    // No roster need adjustments at draft start\r\n    if (context.playersPickedCount === 0) {\r\n      positions.forEach(pos => {\r\n        multipliers[pos] = 1.0;\r\n      });\r\n      return multipliers;\r\n    }\r\n    \r\n    positions.forEach(pos => {\r\n      const filled = context.positionsFilled[pos] || 0;\r\n      const needed = context.positionsNeeded[pos] || 0;\r\n      const totalNeed = filled + needed;\r\n      \r\n      if (totalNeed > 0) {\r\n        const fillRate = filled / totalNeed;\r\n        \r\n        if (fillRate < 0.3 && needed > 0) {\r\n          // Position heavily needed league-wide\r\n          multipliers[pos] = 1.10;\r\n        } else if (fillRate > 0.7) {\r\n          // Position mostly filled\r\n          multipliers[pos] = 0.90;\r\n        } else {\r\n          multipliers[pos] = 1.0;\r\n        }\r\n      } else {\r\n        multipliers[pos] = 1.0;\r\n      }\r\n    });\r\n    \r\n    return multipliers;\r\n  }\r\n  \r\n  /**\r\n   * Get adjustment history for debugging/analysis\r\n   */\r\n  public getAdjustmentHistory(): typeof this.adjustmentHistory {\r\n    return this.adjustmentHistory;\r\n  }\r\n  \r\n  /**\r\n   * Clear adjustment history\r\n   */\r\n  public clearHistory(): void {\r\n    this.adjustmentHistory = [];\r\n  }\r\n}\r\n\r\nexport const dynamicValuationService = DynamicValuationService.getInstance();","import { useDraftStore } from '@/store/draftStore';\r\nimport { Users, TrendingUp, AlertCircle } from 'lucide-react';\r\n\r\ninterface TeamRosterProps {\r\n  teamId: string;\r\n}\r\n\r\nexport default function TeamRoster({ teamId }: TeamRosterProps) {\r\n  const { teams, leagueSettings } = useDraftStore();\r\n  const team = teams.find(t => t.id === teamId);\r\n  \r\n  if (!team) return null;\r\n  \r\n  const positionCounts = new Map<string, number>();\r\n  const flexEligible: any[] = [];\r\n  \r\n  team.roster.forEach(pick => {\r\n    const pos = pick.player.position;\r\n    positionCounts.set(pos, (positionCounts.get(pos) || 0) + 1);\r\n    \r\n    if (['RB', 'WR', 'TE'].includes(pos)) {\r\n      flexEligible.push(pick);\r\n    }\r\n  });\r\n  \r\n  const getRosterStatus = () => {\r\n    const statuses = [];\r\n    \r\n    for (const slot of leagueSettings.rosterPositions) {\r\n      if (slot.position === 'BE') continue;\r\n      \r\n      const current = positionCounts.get(slot.position) || 0;\r\n      \r\n      if (slot.position === 'FLEX') {\r\n        const rbCount = positionCounts.get('RB') || 0;\r\n        const wrCount = positionCounts.get('WR') || 0;\r\n        const teCount = positionCounts.get('TE') || 0;\r\n        \r\n        const rbNeeded = leagueSettings.rosterPositions\r\n          .find(s => s.position === 'RB')?.required || 0;\r\n        const wrNeeded = leagueSettings.rosterPositions\r\n          .find(s => s.position === 'WR')?.required || 0;\r\n        const teNeeded = leagueSettings.rosterPositions\r\n          .find(s => s.position === 'TE')?.required || 0;\r\n        \r\n        const flexAvailable = \r\n          Math.max(0, rbCount - rbNeeded) +\r\n          Math.max(0, wrCount - wrNeeded) +\r\n          Math.max(0, teCount - teNeeded);\r\n        \r\n        if (flexAvailable < slot.required) {\r\n          statuses.push({ position: 'FLEX', needed: slot.required - flexAvailable });\r\n        }\r\n      } else {\r\n        if (current < slot.required) {\r\n          statuses.push({ position: slot.position, needed: slot.required - current });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return statuses;\r\n  };\r\n  \r\n  const rosterNeeds = getRosterStatus();\r\n  const remainingBudget = team.budget - team.spent;\r\n  const remainingSlots = 16 - team.roster.length;\r\n  const avgPerSlot = remainingSlots > 0 ? remainingBudget / remainingSlots : 0;\r\n  \r\n  return (\r\n    <div className=\"card p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n          <Users className=\"text-primary\" />\r\n          {team.name}\r\n        </h2>\r\n        <div className=\"text-right\">\r\n          <div className=\"text-sm text-gray-400\">Remaining</div>\r\n          <div className=\"text-2xl font-bold text-primary\">${remainingBudget}</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-2 gap-3 mb-4 text-sm\">\r\n        <div className=\"bg-gray-800 rounded p-2\">\r\n          <div className=\"text-gray-400 text-xs\">Max Bid</div>\r\n          <div className=\"font-semibold\">${team.maxBid}</div>\r\n        </div>\r\n        <div className=\"bg-gray-800 rounded p-2\">\r\n          <div className=\"text-gray-400 text-xs\">Avg/Slot</div>\r\n          <div className=\"font-semibold\">${avgPerSlot.toFixed(1)}</div>\r\n        </div>\r\n      </div>\r\n      \r\n      {rosterNeeds.length > 0 && (\r\n        <div className=\"mb-4 p-3 bg-yellow-900/20 border border-yellow-700 rounded-lg\">\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <AlertCircle className=\"text-yellow-500 w-4 h-4\" />\r\n            <span className=\"text-sm font-medium text-yellow-400\">Roster Needs</span>\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            {rosterNeeds.map(need => (\r\n              <div key={need.position} className=\"text-xs text-yellow-300\">\r\n                {need.position}: {need.needed} more needed\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"space-y-2\">\r\n        {['QB', 'RB', 'WR', 'TE', 'FLEX', 'DST', 'K', 'BE'].map(pos => {\r\n          const picks = team.roster.filter(p => {\r\n            if (pos === 'FLEX') {\r\n              return ['RB', 'WR', 'TE'].includes(p.player.position);\r\n            }\r\n            if (pos === 'BE') {\r\n              return true;\r\n            }\r\n            return p.player.position === pos;\r\n          });\r\n          \r\n          const required = leagueSettings.rosterPositions\r\n            .find(s => s.position === pos)?.required || 0;\r\n          \r\n          return (\r\n            <div key={pos}>\r\n              <div className=\"text-xs font-semibold text-gray-400 mb-1\">\r\n                {pos} ({picks.length}/{required})\r\n              </div>\r\n              {picks.length > 0 ? (\r\n                <div className=\"space-y-1\">\r\n                  {picks.map((pick, idx) => (\r\n                    <div \r\n                      key={`${pick.player.id}_${idx}`}\r\n                      className=\"flex items-center justify-between text-sm bg-gray-800 rounded px-2 py-1\"\r\n                    >\r\n                      <span>{pick.player.name}</span>\r\n                      <span className=\"text-primary\">${pick.price}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-xs text-gray-600 italic\">Empty</div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useDraftStore } from '@/store/draftStore';\r\nimport { Clock, Undo2 } from 'lucide-react';\r\n\r\nexport default function DraftHistory() {\r\n  const { draftHistory, teams, undoLastPick } = useDraftStore();\r\n  \r\n  const formatTime = (timestamp: number) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleTimeString('en-US', { \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n  \r\n  const getTeamName = (teamId: string) => {\r\n    return teams.find(t => t.id === teamId)?.name || 'Unknown';\r\n  };\r\n  \r\n  const recentPicks = [...draftHistory].reverse();\r\n  \r\n  return (\r\n    <div className=\"card p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n          <Clock className=\"text-primary\" />\r\n          Draft History\r\n        </h2>\r\n        {draftHistory.length > 0 && (\r\n          <button\r\n            onClick={undoLastPick}\r\n            className=\"flex items-center gap-1 text-sm text-gray-400 hover:text-primary transition-colors\"\r\n          >\r\n            <Undo2 className=\"w-4 h-4\" />\r\n            Undo\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      {recentPicks.length === 0 ? (\r\n        <p className=\"text-gray-500 text-sm italic\">No picks yet</p>\r\n      ) : (\r\n        <div className=\"space-y-2 max-h-[300px] overflow-y-auto\">\r\n          {recentPicks.map((pick, idx) => (\r\n            <div \r\n              key={`${pick.player.id}_${pick.timestamp}`}\r\n              className={`flex items-center justify-between p-2 rounded-lg bg-gray-800 \r\n                ${idx === 0 ? 'ring-1 ring-primary' : ''}`}\r\n            >\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium text-sm\">\r\n                  {pick.player.name}\r\n                  <span className=\"ml-2 text-xs text-gray-400\">\r\n                    {pick.player.position} - {pick.player.team}\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  {getTeamName(pick.team)}  {formatTime(pick.timestamp)}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className=\"text-lg font-bold text-primary\">\r\n                  ${pick.price}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {draftHistory.length > 0 && (\r\n        <div className=\"mt-4 pt-4 border-t border-gray-800\">\r\n          <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n            <div>\r\n              <div className=\"text-gray-400\">Total Picks</div>\r\n              <div className=\"font-semibold\">{draftHistory.length}</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-gray-400\">Total Spent</div>\r\n              <div className=\"font-semibold text-primary\">\r\n                ${draftHistory.reduce((sum, p) => sum + p.price, 0)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","/**\r\n * Market Tracker for Real-Time Auction Price Tracking\r\n * Tracks actual draft prices vs predicted values\r\n */\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { TrendingUp, TrendingDown, DollarSign, AlertTriangle, Activity, Gauge } from 'lucide-react';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport { useDraftStore } from '@/store/draftStore';\r\n\r\ninterface DraftedPlayer {\r\n  playerId: string;\r\n  playerName: string;\r\n  position: string;\r\n  actualPrice: number;\r\n  predictedValue: number;\r\n  edge: number;\r\n  teamId: string;\r\n  timestamp: number;\r\n}\r\n\r\ninterface MarketTrends {\r\n  overallInflation: number;\r\n  positionInflation: Record<string, number>;\r\n  recentTrend: 'hot' | 'cold' | 'neutral';\r\n  bargains: number;\r\n  overpays: number;\r\n  expectedInflation: number; // New: forecast based on money/players remaining\r\n  inflationMultiplier: number; // New: for adjusting remaining player values\r\n}\r\n\r\ninterface Props {\r\n  valuations: ValuationResult[];\r\n  draftHistory: any[];\r\n  onPriceUpdate?: (playerId: string, actualPrice: number) => void;\r\n}\r\n\r\nconst MarketTrackerCalibrated: React.FC<Props> = ({ \r\n  valuations, \r\n  draftHistory,\r\n  onPriceUpdate \r\n}) => {\r\n  const { teams } = useDraftStore();\r\n  const [draftedPlayers, setDraftedPlayers] = useState<DraftedPlayer[]>([]);\r\n  const [marketTrends, setMarketTrends] = useState<MarketTrends>({\r\n    overallInflation: 0,\r\n    positionInflation: {},\r\n    recentTrend: 'neutral',\r\n    bargains: 0,\r\n    overpays: 0,\r\n    expectedInflation: 0,\r\n    inflationMultiplier: 1.0\r\n  });\r\n\r\n  // Process draft history into drafted players\r\n  useEffect(() => {\r\n    const processed: DraftedPlayer[] = draftHistory\r\n      .filter(pick => pick.price && pick.player)\r\n      .map(pick => {\r\n        const valuation = valuations.find(v => v.playerId === pick.player.id);\r\n        return {\r\n          playerId: pick.player.id,\r\n          playerName: pick.player.name,\r\n          position: pick.player.position,\r\n          actualPrice: pick.price,\r\n          predictedValue: valuation?.auctionValue || pick.price,\r\n          edge: (valuation?.auctionValue || pick.price) - pick.price,\r\n          teamId: pick.team,\r\n          timestamp: pick.timestamp || Date.now()\r\n        };\r\n      });\r\n    \r\n    setDraftedPlayers(processed);\r\n    \r\n    // Calculate market trends\r\n    if (processed.length > 0) {\r\n      const trends = calculateMarketTrends(processed);\r\n      setMarketTrends(trends);\r\n      \r\n      // Update price predictions if callback provided\r\n      if (onPriceUpdate) {\r\n        processed.forEach(p => onPriceUpdate(p.playerId, p.actualPrice));\r\n      }\r\n    }\r\n  }, [draftHistory, valuations, onPriceUpdate]);\r\n\r\n  const calculateMarketTrends = (players: DraftedPlayer[]): MarketTrends => {\r\n    // Overall inflation (actual vs predicted)\r\n    const totalActual = players.reduce((sum, p) => sum + p.actualPrice, 0);\r\n    const totalPredicted = players.reduce((sum, p) => sum + p.predictedValue, 0);\r\n    const overallInflation = totalPredicted > 0 \r\n      ? ((totalActual - totalPredicted) / totalPredicted) * 100 \r\n      : 0;\r\n\r\n    // Calculate expected inflation based on money and players remaining\r\n    // This is the key formula from best practices\r\n    const teamCount = teams.length || 12; // Default to 12 teams if not initialized\r\n    const totalBudget = teamCount * 200; // $200 per team\r\n    const totalRosterSpots = teamCount * 16; // 16 players per team\r\n    \r\n    const moneySpent = players.reduce((sum, p) => sum + p.actualPrice, 0);\r\n    const moneyRemaining = totalBudget - moneySpent;\r\n    \r\n    const playersPickedCount = players.length;\r\n    const playersRemainingCount = totalRosterSpots - playersPickedCount;\r\n    \r\n    // Get value of remaining players\r\n    const draftedPlayerIds = new Set(players.map(p => p.playerId));\r\n    const remainingPlayersValue = valuations\r\n      .filter(v => !draftedPlayerIds.has(v.playerId))\r\n      .slice(0, playersRemainingCount) // Only count players likely to be drafted\r\n      .reduce((sum, v) => sum + v.auctionValue, 0);\r\n    \r\n    // Calculate inflation multiplier (money remaining / value remaining)\r\n    const inflationMultiplier = remainingPlayersValue > 0 \r\n      ? moneyRemaining / remainingPlayersValue \r\n      : 1.0;\r\n    \r\n    // Expected inflation percentage\r\n    const expectedInflation = ((inflationMultiplier - 1) * 100);\r\n\r\n    // Position-specific inflation\r\n    const positionInflation: Record<string, number> = {};\r\n    const positions = ['QB', 'RB', 'WR', 'TE', 'DST', 'K'];\r\n    \r\n    positions.forEach(pos => {\r\n      const posPlayers = players.filter(p => p.position === pos);\r\n      if (posPlayers.length > 0) {\r\n        const posActual = posPlayers.reduce((sum, p) => sum + p.actualPrice, 0);\r\n        const posPredicted = posPlayers.reduce((sum, p) => sum + p.predictedValue, 0);\r\n        positionInflation[pos] = posPredicted > 0 \r\n          ? ((posActual - posPredicted) / posPredicted) * 100 \r\n          : 0;\r\n      }\r\n    });\r\n\r\n    // Recent trend (last 5 picks)\r\n    const recentPicks = players.slice(-5);\r\n    const recentInflation = recentPicks.length > 0\r\n      ? recentPicks.reduce((sum, p) => sum + (p.actualPrice - p.predictedValue), 0) / recentPicks.length\r\n      : 0;\r\n    \r\n    const recentTrend = recentInflation > 2 ? 'hot' : recentInflation < -2 ? 'cold' : 'neutral';\r\n\r\n    // Bargains and overpays\r\n    const bargains = players.filter(p => p.edge >= 5).length;\r\n    const overpays = players.filter(p => p.edge <= -5).length;\r\n\r\n    return {\r\n      overallInflation,\r\n      positionInflation,\r\n      recentTrend,\r\n      bargains,\r\n      overpays,\r\n      expectedInflation,\r\n      inflationMultiplier\r\n    };\r\n  };\r\n\r\n  // Get recent draft activity\r\n  const recentActivity = useMemo(() => {\r\n    return draftedPlayers\r\n      .sort((a, b) => b.timestamp - a.timestamp)\r\n      .slice(0, 5);\r\n  }, [draftedPlayers]);\r\n\r\n  // Get biggest values and overpays\r\n  const biggestValues = useMemo(() => {\r\n    return [...draftedPlayers]\r\n      .sort((a, b) => b.edge - a.edge)\r\n      .slice(0, 3);\r\n  }, [draftedPlayers]);\r\n\r\n  const biggestOverpays = useMemo(() => {\r\n    return [...draftedPlayers]\r\n      .sort((a, b) => a.edge - b.edge)\r\n      .slice(0, 3);\r\n  }, [draftedPlayers]);\r\n\r\n  const getTrendIcon = (trend: 'hot' | 'cold' | 'neutral') => {\r\n    switch (trend) {\r\n      case 'hot': return <TrendingUp className=\"w-4 h-4 text-red-400\" />;\r\n      case 'cold': return <TrendingDown className=\"w-4 h-4 text-blue-400\" />;\r\n      default: return <Activity className=\"w-4 h-4 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getInflationColor = (inflation: number) => {\r\n    if (inflation > 10) return 'text-red-400';\r\n    if (inflation > 5) return 'text-orange-400';\r\n    if (inflation < -10) return 'text-blue-400';\r\n    if (inflation < -5) return 'text-cyan-400';\r\n    return 'text-gray-400';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-800\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n          <DollarSign className=\"w-5 h-5 text-green-400\" />\r\n          Market Tracker\r\n        </h3>\r\n        <div className=\"flex items-center gap-2\">\r\n          {getTrendIcon(marketTrends.recentTrend)}\r\n          <span className=\"text-sm text-gray-400\">\r\n            {marketTrends.recentTrend === 'hot' ? 'Prices Running Hot' :\r\n             marketTrends.recentTrend === 'cold' ? 'Bargain Territory' :\r\n             'Market Normal'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Inflation Indicator - New Enhanced Section */}\r\n      <div className=\"bg-gray-800/50 rounded-lg p-3 mb-4\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Gauge className=\"w-4 h-4 text-purple-400\" />\r\n            <span className=\"text-sm font-semibold text-purple-400\">Market Inflation</span>\r\n          </div>\r\n          <div className=\"text-xs text-gray-400\">\r\n            x{marketTrends.inflationMultiplier.toFixed(2)} multiplier\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Inflation Gauge Bar */}\r\n        <div className=\"relative h-6 bg-gray-700 rounded-full overflow-hidden mb-2\">\r\n          <div \r\n            className={`absolute inset-y-0 left-0 transition-all duration-500 ${\r\n              marketTrends.expectedInflation > 20 ? 'bg-gradient-to-r from-red-600 to-red-400' :\r\n              marketTrends.expectedInflation > 10 ? 'bg-gradient-to-r from-orange-600 to-orange-400' :\r\n              marketTrends.expectedInflation > 0 ? 'bg-gradient-to-r from-yellow-600 to-yellow-400' :\r\n              marketTrends.expectedInflation > -10 ? 'bg-gradient-to-r from-cyan-600 to-cyan-400' :\r\n              'bg-gradient-to-r from-blue-600 to-blue-400'\r\n            }`}\r\n            style={{ width: `${Math.min(100, Math.max(0, (marketTrends.expectedInflation + 50) * 1))}%` }}\r\n          >\r\n            <div className=\"h-full flex items-center justify-center\">\r\n              <span className=\"text-xs font-bold text-white px-2\">\r\n                {marketTrends.expectedInflation > 0 ? '+' : ''}{marketTrends.expectedInflation.toFixed(1)}%\r\n              </span>\r\n            </div>\r\n          </div>\r\n          {/* Center line for 0% */}\r\n          <div className=\"absolute inset-y-0 left-1/2 w-0.5 bg-gray-900 opacity-50\"></div>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-2 gap-2 text-xs\">\r\n          <div>\r\n            <span className=\"text-gray-500\">Expected: </span>\r\n            <span className={`font-bold ${getInflationColor(marketTrends.expectedInflation)}`}>\r\n              {marketTrends.expectedInflation > 0 ? '+' : ''}{marketTrends.expectedInflation.toFixed(1)}%\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-500\">Actual: </span>\r\n            <span className={`font-bold ${getInflationColor(marketTrends.overallInflation)}`}>\r\n              {marketTrends.overallInflation > 0 ? '+' : ''}{marketTrends.overallInflation.toFixed(1)}%\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Market Overview */}\r\n      <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2\">\r\n          <div className=\"text-xs text-gray-500\">Trend</div>\r\n          <div className={`text-sm font-bold ${\r\n            marketTrends.recentTrend === 'hot' ? 'text-red-400' :\r\n            marketTrends.recentTrend === 'cold' ? 'text-blue-400' :\r\n            'text-gray-400'\r\n          }`}>\r\n            {marketTrends.recentTrend.toUpperCase()}\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2\">\r\n          <div className=\"text-xs text-gray-500\">Bargains</div>\r\n          <div className=\"text-lg font-bold text-green-400\">{marketTrends.bargains}</div>\r\n        </div>\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2\">\r\n          <div className=\"text-xs text-gray-500\">Overpays</div>\r\n          <div className=\"text-lg font-bold text-red-400\">{marketTrends.overpays}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Position Inflation */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"text-xs text-gray-500 mb-2\">Position Markets</div>\r\n        <div className=\"grid grid-cols-6 gap-1\">\r\n          {['QB', 'RB', 'WR', 'TE', 'DST', 'K'].map(pos => (\r\n            <div key={pos} className=\"text-center\">\r\n              <div className=\"text-xs text-gray-400\">{pos}</div>\r\n              <div className={`text-sm font-bold ${getInflationColor(marketTrends.positionInflation[pos] || 0)}`}>\r\n                {marketTrends.positionInflation[pos] \r\n                  ? `${marketTrends.positionInflation[pos] > 0 ? '+' : ''}${marketTrends.positionInflation[pos].toFixed(0)}%`\r\n                  : '-'}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      {recentActivity.length > 0 && (\r\n        <div className=\"mb-4\">\r\n          <div className=\"text-xs text-gray-500 mb-2\">Recent Picks</div>\r\n          <div className=\"space-y-1\">\r\n            {recentActivity.map((player, idx) => (\r\n              <div key={`${player.playerId}-${idx}`} className=\"flex justify-between items-center text-xs\">\r\n                <span className=\"text-gray-300\">\r\n                  {player.playerName} ({player.position})\r\n                </span>\r\n                <div className=\"flex gap-2\">\r\n                  <span className=\"text-gray-400\">${player.actualPrice}</span>\r\n                  <span className={player.edge >= 0 ? 'text-green-400' : 'text-red-400'}>\r\n                    {player.edge >= 0 ? '+' : ''}{player.edge}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Best/Worst Picks */}\r\n      <div className=\"grid grid-cols-2 gap-2\">\r\n        {biggestValues.length > 0 && (\r\n          <div>\r\n            <div className=\"text-xs text-gray-500 mb-1\">Best Values</div>\r\n            {biggestValues.map((player, idx) => (\r\n              <div key={`value-${idx}`} className=\"text-xs flex justify-between\">\r\n                <span className=\"text-gray-300 truncate\">{player.playerName}</span>\r\n                <span className=\"text-green-400\">+${player.edge}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        \r\n        {biggestOverpays.length > 0 && (\r\n          <div>\r\n            <div className=\"text-xs text-gray-500 mb-1\">Overpays</div>\r\n            {biggestOverpays.map((player, idx) => (\r\n              <div key={`overpay-${idx}`} className=\"text-xs flex justify-between\">\r\n                <span className=\"text-gray-300 truncate\">{player.playerName}</span>\r\n                <span className=\"text-red-400\">-${Math.abs(player.edge)}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Market Alert - Enhanced with specific advice */}\r\n      {Math.abs(marketTrends.expectedInflation) > 15 && (\r\n        <div className={`mt-3 p-2 rounded-lg flex items-center gap-2 ${\r\n          marketTrends.expectedInflation > 15 \r\n            ? 'bg-red-900/20 border border-red-700/50' \r\n            : 'bg-blue-900/20 border border-blue-700/50'\r\n        }`}>\r\n          <AlertTriangle className={`w-4 h-4 ${\r\n            marketTrends.expectedInflation > 15 ? 'text-red-400' : 'text-blue-400'\r\n          }`} />\r\n          <div className=\"flex-1\">\r\n            <span className={`text-xs font-semibold ${\r\n              marketTrends.expectedInflation > 15 ? 'text-red-400' : 'text-blue-400'\r\n            }`}>\r\n              {marketTrends.expectedInflation > 15 \r\n                ? `High Inflation Alert (${marketTrends.expectedInflation.toFixed(0)}%)` \r\n                : `Deflation Opportunity (${marketTrends.expectedInflation.toFixed(0)}%)`}\r\n            </span>\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              {marketTrends.expectedInflation > 15 \r\n                ? `Multiply remaining player values by ${marketTrends.inflationMultiplier.toFixed(2)}x. Be aggressive on must-have targets.`\r\n                : `Values are depressed. Look for bargains and be patient with nominations.`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketTrackerCalibrated;","/**\r\n * Budget Allocator Component\r\n * Shows dynamic budget allocation recommendations based on draft progress\r\n */\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { DollarSign, TrendingUp, AlertTriangle, Target, Zap } from 'lucide-react';\r\nimport { DynamicAuctionAllocator } from '@/lib/dynamicAuctionAllocator';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\n\r\ninterface Props {\r\n  remainingBudget: number;\r\n  spotsLeft: number;\r\n  myRoster: any[];\r\n  valuations: ValuationResult[];\r\n  draftHistory: any[];\r\n}\r\n\r\ntype Strategy = 'stars_and_scrubs' | 'balanced' | 'zero_rb' | 'hero_rb' | 'robust_rb';\r\n\r\nconst STRATEGY_DESCRIPTIONS = {\r\n  'stars_and_scrubs': 'Spend big on elite players, fill with $1 players',\r\n  'balanced': 'Spread budget evenly across all positions',\r\n  'zero_rb': 'Ignore RBs early, load up on WR/TE',\r\n  'hero_rb': 'One elite RB, then WRs',\r\n  'robust_rb': 'Prioritize RBs heavily'\r\n};\r\n\r\nconst POSITION_NEEDS = {\r\n  QB: 1,\r\n  RB: 2,\r\n  WR: 2,\r\n  TE: 1,\r\n  DST: 1,\r\n  K: 1,\r\n  FLEX: 1,\r\n  BENCH: 7\r\n};\r\n\r\nconst BudgetAllocator: React.FC<Props> = ({\r\n  remainingBudget,\r\n  spotsLeft,\r\n  myRoster,\r\n  valuations,\r\n  draftHistory\r\n}) => {\r\n  const [selectedStrategy, setSelectedStrategy] = useState<Strategy>('balanced');\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  // Calculate market conditions from draft history\r\n  const marketConditions = useMemo(() => {\r\n    const conditions = new Map<string, number>();\r\n    const positions = ['QB', 'RB', 'WR', 'TE', 'DST', 'K'];\r\n    \r\n    positions.forEach(pos => {\r\n      const drafted = draftHistory.filter((p: any) => p.player?.position === pos);\r\n      const values = valuations.filter(v => v.position === pos);\r\n      \r\n      if (drafted.length > 0 && values.length > 0) {\r\n        const avgActual = drafted.reduce((sum: number, p: any) => sum + (p.price || 0), 0) / drafted.length;\r\n        const avgPredicted = values.slice(0, drafted.length)\r\n          .reduce((sum, v) => sum + v.auctionValue, 0) / Math.min(drafted.length, values.length);\r\n        \r\n        // Inflation factor: > 1.0 means position is going expensive\r\n        conditions.set(pos, avgActual / Math.max(avgPredicted, 1));\r\n      } else {\r\n        conditions.set(pos, 1.0);\r\n      }\r\n    });\r\n    \r\n    return conditions;\r\n  }, [draftHistory, valuations]);\r\n\r\n  // Calculate position needs\r\n  const positionNeeds = useMemo(() => {\r\n    const needs: Record<string, number> = {};\r\n    const filled: Record<string, number> = {};\r\n    \r\n    // Count current roster\r\n    myRoster.forEach((player: any) => {\r\n      const pos = player.position;\r\n      filled[pos] = (filled[pos] || 0) + 1;\r\n    });\r\n    \r\n    // Calculate needs\r\n    Object.entries(POSITION_NEEDS).forEach(([pos, required]) => {\r\n      if (pos === 'FLEX' || pos === 'BENCH') return;\r\n      needs[pos] = Math.max(0, required - (filled[pos] || 0));\r\n    });\r\n    \r\n    // Add flex/bench needs\r\n    const startingSpots = Object.values(needs).reduce((sum, n) => sum + n, 0);\r\n    const totalNeeded = 16 - myRoster.length;\r\n    needs['FLEX/BENCH'] = totalNeeded - startingSpots;\r\n    \r\n    return needs;\r\n  }, [myRoster]);\r\n\r\n  // Calculate recommended allocation\r\n  const allocation = useMemo(() => {\r\n    if (spotsLeft === 0) return null;\r\n    \r\n    const avgPerSpot = remainingBudget / spotsLeft;\r\n    const allocations: Record<string, number> = {};\r\n    \r\n    // Simple allocation based on strategy and needs\r\n    if (selectedStrategy === 'stars_and_scrubs') {\r\n      // Spend heavily on next 1-2 picks\r\n      if (spotsLeft <= 2) {\r\n        Object.keys(positionNeeds).forEach(pos => {\r\n          if (positionNeeds[pos] > 0) {\r\n            allocations[pos] = Math.floor(remainingBudget / spotsLeft);\r\n          }\r\n        });\r\n      } else {\r\n        // Save $1 per remaining spot after next 2\r\n        const scrubBudget = Math.max(spotsLeft - 2, 0);\r\n        const starBudget = remainingBudget - scrubBudget;\r\n        \r\n        let starsAllocated = 0;\r\n        ['RB', 'WR'].forEach(pos => {\r\n          if (positionNeeds[pos] > 0 && starsAllocated < 2) {\r\n            allocations[pos] = Math.floor(starBudget / 2);\r\n            starsAllocated++;\r\n          }\r\n        });\r\n      }\r\n    } else if (selectedStrategy === 'balanced') {\r\n      // Spread budget based on typical positional values\r\n      const weights = { QB: 0.8, RB: 1.2, WR: 1.1, TE: 0.7, DST: 0.3, K: 0.2, 'FLEX/BENCH': 0.5 };\r\n      let totalWeight = 0;\r\n      \r\n      Object.entries(positionNeeds).forEach(([pos, need]) => {\r\n        if (need > 0) {\r\n          const weight = weights[pos as keyof typeof weights] || 0.5;\r\n          totalWeight += weight * need;\r\n        }\r\n      });\r\n      \r\n      Object.entries(positionNeeds).forEach(([pos, need]) => {\r\n        if (need > 0) {\r\n          const weight = weights[pos as keyof typeof weights] || 0.5;\r\n          allocations[pos] = Math.floor((weight * need / totalWeight) * remainingBudget);\r\n        }\r\n      });\r\n    } else if (selectedStrategy === 'zero_rb') {\r\n      // Prioritize WR/TE, minimal RB spending\r\n      const rbBudget = positionNeeds['RB'] > 0 ? positionNeeds['RB'] * 2 : 0; // $2 per RB\r\n      const otherBudget = remainingBudget - rbBudget;\r\n      \r\n      ['WR', 'TE', 'QB'].forEach(pos => {\r\n        if (positionNeeds[pos] > 0) {\r\n          allocations[pos] = Math.floor(otherBudget * 0.3);\r\n        }\r\n      });\r\n      if (positionNeeds['RB'] > 0) {\r\n        allocations['RB'] = rbBudget;\r\n      }\r\n    } else if (selectedStrategy === 'hero_rb') {\r\n      // One expensive RB, then WRs\r\n      if (positionNeeds['RB'] > 0) {\r\n        allocations['RB'] = Math.floor(remainingBudget * 0.4); // 40% on one RB\r\n      }\r\n      const remainingAfterRB = remainingBudget - (allocations['RB'] || 0);\r\n      ['WR', 'TE'].forEach(pos => {\r\n        if (positionNeeds[pos] > 0) {\r\n          allocations[pos] = Math.floor(remainingAfterRB * 0.25);\r\n        }\r\n      });\r\n    } else if (selectedStrategy === 'robust_rb') {\r\n      // Heavy RB investment\r\n      if (positionNeeds['RB'] > 0) {\r\n        allocations['RB'] = Math.floor(remainingBudget * 0.5); // 50% on RBs\r\n      }\r\n      const remainingAfterRB = remainingBudget - (allocations['RB'] || 0);\r\n      ['WR', 'QB', 'TE'].forEach(pos => {\r\n        if (positionNeeds[pos] > 0) {\r\n          allocations[pos] = Math.floor(remainingAfterRB * 0.15);\r\n        }\r\n      });\r\n    }\r\n    \r\n    return allocations;\r\n  }, [remainingBudget, spotsLeft, positionNeeds, selectedStrategy]);\r\n\r\n  // Get warnings\r\n  const warnings = useMemo(() => {\r\n    const warns: string[] = [];\r\n    \r\n    if (remainingBudget / spotsLeft < 3) {\r\n      warns.push('Budget very tight - may need all $1-2 players');\r\n    }\r\n    \r\n    if (spotsLeft <= 5 && Object.values(positionNeeds).some(n => n > 2)) {\r\n      warns.push('Multiple starters still needed with few spots left');\r\n    }\r\n    \r\n    if (marketConditions.get('RB')! > 1.15 && positionNeeds['RB'] > 0) {\r\n      warns.push('RB market inflated - consider pivoting strategy');\r\n    }\r\n    \r\n    return warns;\r\n  }, [remainingBudget, spotsLeft, positionNeeds, marketConditions]);\r\n\r\n  const maxBid = spotsLeft > 1 ? remainingBudget - (spotsLeft - 1) : remainingBudget;\r\n\r\n  return (\r\n    <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-800\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n          <Target className=\"w-5 h-5 text-green-400\" />\r\n          Budget Allocator\r\n        </h3>\r\n        <button\r\n          onClick={() => setShowDetails(!showDetails)}\r\n          className=\"text-xs text-gray-400 hover:text-white\"\r\n        >\r\n          {showDetails ? 'Hide' : 'Show'} Details\r\n        </button>\r\n      </div>\r\n\r\n      {/* Budget Overview */}\r\n      <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Remaining</div>\r\n          <div className=\"text-lg font-bold text-green-400\">${remainingBudget}</div>\r\n        </div>\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Spots Left</div>\r\n          <div className=\"text-lg font-bold text-blue-400\">{spotsLeft}</div>\r\n        </div>\r\n        <div className=\"bg-gray-800/50 rounded-lg p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Max Bid</div>\r\n          <div className=\"text-lg font-bold text-orange-400\">${maxBid}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Strategy Selector */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"text-xs text-gray-500 mb-2\">Draft Strategy</div>\r\n        <select\r\n          value={selectedStrategy}\r\n          onChange={(e) => setSelectedStrategy(e.target.value as Strategy)}\r\n          className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n        >\r\n          {Object.entries(STRATEGY_DESCRIPTIONS).map(([key, desc]) => (\r\n            <option key={key} value={key}>\r\n              {key.replace(/_/g, ' ').toUpperCase()} - {desc}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Position Needs & Allocation */}\r\n      <div className=\"mb-4\">\r\n        <div className=\"text-xs text-gray-500 mb-2\">Recommended Allocation</div>\r\n        <div className=\"space-y-2\">\r\n          {Object.entries(positionNeeds).map(([pos, need]) => {\r\n            if (need === 0) return null;\r\n            const suggested = allocation?.[pos] || 0;\r\n            const avgValue = suggested / Math.max(need, 1);\r\n            \r\n            return (\r\n              <div key={pos} className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm text-gray-300\">{pos}</span>\r\n                  <span className=\"text-xs text-gray-500\">({need} needed)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-sm font-bold text-yellow-400\">\r\n                    ${suggested}\r\n                  </span>\r\n                  <span className=\"text-xs text-gray-500\">\r\n                    (~${avgValue.toFixed(0)}/player)\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Market Conditions */}\r\n      {showDetails && (\r\n        <div className=\"mb-4\">\r\n          <div className=\"text-xs text-gray-500 mb-2\">Market Conditions</div>\r\n          <div className=\"grid grid-cols-6 gap-1\">\r\n            {Array.from(marketConditions.entries()).map(([pos, factor]) => (\r\n              <div key={pos} className=\"text-center\">\r\n                <div className=\"text-xs text-gray-400\">{pos}</div>\r\n                <div className={`text-sm font-bold ${\r\n                  factor > 1.1 ? 'text-red-400' : \r\n                  factor < 0.9 ? 'text-green-400' : \r\n                  'text-gray-400'\r\n                }`}>\r\n                  {factor > 1 ? '+' : ''}{((factor - 1) * 100).toFixed(0)}%\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Warnings */}\r\n      {warnings.length > 0 && (\r\n        <div className=\"space-y-1\">\r\n          {warnings.map((warning, idx) => (\r\n            <div key={idx} className=\"flex items-center gap-2 text-xs text-yellow-400\">\r\n              <AlertTriangle className=\"w-3 h-3\" />\r\n              <span>{warning}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Tips */}\r\n      <div className=\"mt-3 p-2 bg-blue-900/20 border border-blue-700/50 rounded-lg\">\r\n        <div className=\"flex items-center gap-2 text-xs text-blue-400\">\r\n          <Zap className=\"w-3 h-3\" />\r\n          <span>\r\n            {spotsLeft <= 3 \r\n              ? \"Final picks - prioritize filling starters!\"\r\n              : remainingBudget / spotsLeft > 15\r\n              ? \"Budget healthy - can target a star\"\r\n              : \"Stay disciplined - look for values\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetAllocator;","import React from 'react';\r\nimport { \r\n  TrendingUp, \r\n  DollarSign, \r\n  Trophy, \r\n  Users, \r\n  Target,\r\n  AlertTriangle,\r\n  BarChart3,\r\n  Zap,\r\n  Star,\r\n  Flame\r\n} from 'lucide-react';\r\nimport type { ValuationSummary, ValuationResult } from '@/lib/calibratedValuationService';\r\nimport { useDraftStore } from '@/store/draftStore';\r\n\r\ninterface CompactDashboardPanelProps {\r\n  summary: ValuationSummary;\r\n  valuations: ValuationResult[];\r\n  isDraftActive: boolean;\r\n  onStartDraft?: () => void;\r\n}\r\n\r\nconst CompactDashboardPanel: React.FC<CompactDashboardPanelProps> = ({\r\n  summary,\r\n  valuations,\r\n  isDraftActive,\r\n  onStartDraft\r\n}) => {\r\n  const { draftHistory } = useDraftStore();\r\n  \r\n  // Filter out drafted players\r\n  const draftedIds = new Set(draftHistory.map(pick => pick.player?.id));\r\n  const availableValuations = valuations.filter(p => !draftedIds.has(p.playerId));\r\n  \r\n  // Get best values (highest edge)\r\n  const bestValues = [...availableValuations]\r\n    .sort((a, b) => (b.edge || 0) - (a.edge || 0))\r\n    .slice(0, 4);\r\n\r\n  // Get best available RBs by rank\r\n  const bestRBs = availableValuations\r\n    .filter(p => p.position === 'RB')\r\n    .sort((a, b) => (a.rank || 999) - (b.rank || 999))\r\n    .slice(0, 4);\r\n\r\n  // Get best available WRs by rank\r\n  const bestWRs = availableValuations\r\n    .filter(p => p.position === 'WR')\r\n    .sort((a, b) => (a.rank || 999) - (b.rank || 999))\r\n    .slice(0, 4);\r\n\r\n  // Get breakout candidates (high upside: good points but lower ADP)\r\n  const breakouts = availableValuations\r\n    .filter(p => p.adp && p.adp > 50 && p.points && p.points > 200)\r\n    .sort((a, b) => (b.points || 0) - (a.points || 0))\r\n    .slice(0, 4);\r\n\r\n  // Get value QBs (late round QBs with good points)\r\n  const valueQBs = availableValuations\r\n    .filter(p => p.position === 'QB' && p.adp && p.adp > 80)\r\n    .sort((a, b) => (b.points || 0) - (a.points || 0))\r\n    .slice(0, 4);\r\n\r\n  // Get best Proj-ADP (high points + high ADP = late round steals)\r\n  const bestProjADP = availableValuations\r\n    .filter(p => p.points && p.points > 150 && p.adp && p.adp > 60)\r\n    .sort((a, b) => {\r\n      // Sort by points-to-ADP ratio (higher is better)\r\n      const ratioA = (a.points || 0) / (a.adp || 1);\r\n      const ratioB = (b.points || 0) / (b.adp || 1);\r\n      return ratioB - ratioA;\r\n    })\r\n    .slice(0, 4);\r\n\r\n  const PlayerCard = ({ player, showStat, statLabel, showPosition = false }: { \r\n    player: ValuationResult, \r\n    showStat: 'edge' | 'value' | 'points' | 'adp',\r\n    statLabel?: string,\r\n    showPosition?: boolean \r\n  }) => {\r\n    const statValue = showStat === 'edge' ? player.edge :\r\n                      showStat === 'value' ? player.value :\r\n                      showStat === 'points' ? player.points :\r\n                      player.adp;\r\n    \r\n    const formatStat = () => {\r\n      if (showStat === 'edge' || showStat === 'value') return `$${statValue}`;\r\n      if (showStat === 'adp') return `ADP: ${Math.round(statValue || 0)}`;\r\n      return `${Math.round(statValue || 0)} pts`;\r\n    };\r\n\r\n    return (\r\n      <div className=\"flex justify-between items-center text-xs py-0.5\">\r\n        <span className=\"text-gray-300 truncate flex-1 mr-1\">\r\n          {player.name}\r\n          {showPosition && (\r\n            <span className=\"text-gray-500 ml-1\">\r\n              {player.position}\r\n            </span>\r\n          )}\r\n        </span>\r\n        <span className=\"text-gray-400 text-right whitespace-nowrap\">\r\n          {formatStat()}\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getPositionColor = (position: string) => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'text-red-400',\r\n      RB: 'text-green-400',\r\n      WR: 'text-blue-400',\r\n      TE: 'text-orange-400',\r\n      DST: 'text-purple-400',\r\n      K: 'text-yellow-400'\r\n    };\r\n    return colors[position] || 'text-gray-400';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-900 border border-gray-800 rounded-lg p-3 mb-4\">\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-6 gap-3\">\r\n        \r\n        {/* Best Values */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"Players with highest edge (Our Value - Market Price). These are undervalued by the market.\">\r\n            <TrendingUp className=\"w-4 h-4 text-green-400\" />\r\n            <span className=\"text-xs font-semibold text-green-400\">LARGEST EDGE</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {bestValues.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" showPosition={true} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Elite RBs */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"Best available running backs sorted by overall rank.\">\r\n            <Trophy className=\"w-4 h-4 text-purple-400\" />\r\n            <span className=\"text-xs font-semibold text-purple-400\">BEST RBs</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {bestRBs.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Elite WRs */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"Best available wide receivers sorted by overall rank.\">\r\n            <Star className=\"w-4 h-4 text-blue-400\" />\r\n            <span className=\"text-xs font-semibold text-blue-400\">BEST WRs</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {bestWRs.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Breakout Candidates */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"High-scoring players (200+ pts) with lower ADPs (50+). Potential league-winners being overlooked by the market.\">\r\n            <Flame className=\"w-4 h-4 text-orange-400\" />\r\n            <span className=\"text-xs font-semibold text-orange-400\">BREAKOUTS</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {breakouts.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" showPosition={true} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Value QBs */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"Late-round QBs (ADP 80+) with strong projected points. Perfect for late-round QB strategy.\">\r\n            <DollarSign className=\"w-4 h-4 text-red-400\" />\r\n            <span className=\"text-xs font-semibold text-red-400\">VALUE QBs</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {valueQBs.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Best Proj-ADP */}\r\n        <div className=\"bg-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\" title=\"Players with high projected points (150+) and high ADP (60+). Late round values with strong upside.\">\r\n            <Zap className=\"w-4 h-4 text-yellow-400\" />\r\n            <span className=\"text-xs font-semibold text-yellow-400\">BEST VALUE</span>\r\n          </div>\r\n          <div className=\"space-y-0.5\">\r\n            {bestProjADP.map((player, idx) => (\r\n              <PlayerCard key={idx} player={player} showStat=\"value\" showPosition={true} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompactDashboardPanel;","import React, { useState } from 'react';\r\nimport { X, TrendingUp, Award, BarChart3, DollarSign, Users } from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\n\r\ninterface PlayerProfileModalProps {\r\n  player: ValuationResult;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nconst PlayerProfileModal: React.FC<PlayerProfileModalProps> = ({ player, isOpen, onClose }) => {\r\n  const { completeAuction, teams, myTeamId } = useDraftStore();\r\n  const [selectedTeam, setSelectedTeam] = useState<string>('My Team');\r\n  const [purchasePrice, setPurchasePrice] = useState<string>('');\r\n  const [activeTab, setActiveTab] = useState<'stats' | 'projections' | 'analysis'>('stats');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleDraft = () => {\r\n    const price = parseInt(purchasePrice) || 0;\r\n    if (price <= 0) {\r\n      alert('Please enter a valid purchase price');\r\n      return;\r\n    }\r\n\r\n    // Map team selection to team ID\r\n    // Team 2 -> team_1, Team 3 -> team_2, etc.\r\n    const teamId = selectedTeam === 'My Team' ? myTeamId : `team_${parseInt(selectedTeam.replace('Team ', '')) - 1}`;\r\n    \r\n    const playerData = {\r\n      id: player.playerId,\r\n      name: player.playerName,\r\n      position: player.position,\r\n      team: player.team,\r\n      projectedPoints: player.projectedPoints,\r\n      value: player.auctionValue,\r\n      tier: player.tier || 'replacement'\r\n    };\r\n\r\n    completeAuction(playerData, price, teamId);\r\n    onClose();\r\n  };\r\n\r\n  // Position color classes\r\n  const getPositionColor = () => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'from-red-500 to-red-700',\r\n      RB: 'from-green-500 to-green-700',\r\n      WR: 'from-blue-500 to-blue-700',\r\n      TE: 'from-orange-500 to-orange-700',\r\n      DST: 'from-purple-500 to-purple-700',\r\n      K: 'from-yellow-500 to-yellow-700'\r\n    };\r\n    return colors[player.position] || 'from-gray-500 to-gray-700';\r\n  };\r\n\r\n  const getTierLabel = (tier?: string) => {\r\n    const labels: Record<string, string> = {\r\n      'elite': 'S+',\r\n      'tier1': 'S',\r\n      'tier2': 'A',\r\n      'tier3': 'B',\r\n      'replacement': 'C'\r\n    };\r\n    return labels[tier || 'replacement'] || 'C';\r\n  };\r\n\r\n  const getTierColor = (tier?: string) => {\r\n    switch(tier) {\r\n      case 'elite': return 'text-purple-400';\r\n      case 'tier1': return 'text-blue-400';\r\n      case 'tier2': return 'text-green-400';\r\n      case 'tier3': return 'text-yellow-400';\r\n      default: return 'text-gray-400';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-gray-900 rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden\">\r\n        {/* Header */}\r\n        <div className={`bg-gradient-to-r ${getPositionColor()} p-6 relative`}>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n          \r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-white mb-2\">{player.playerName || player.name || 'Unknown Player'}</h2>\r\n              <div className=\"flex items-center gap-4 text-white/90\">\r\n                <span className=\"font-semibold\">{player.position}</span>\r\n                <span>{player.team}</span>\r\n                <span className={`px-2 py-1 rounded ${getTierColor(player.tier)} font-bold`}>\r\n                  Tier {getTierLabel(player.tier)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-2xl font-bold text-white\">\r\n                ${player.auctionValue}\r\n              </div>\r\n              <div className=\"text-sm text-white/80\">Recommended Value</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex border-b border-gray-700\">\r\n          <button\r\n            onClick={() => setActiveTab('stats')}\r\n            className={`px-6 py-3 font-medium transition-colors ${\r\n              activeTab === 'stats' \r\n                ? 'text-blue-400 border-b-2 border-blue-400' \r\n                : 'text-gray-400 hover:text-white'\r\n            }`}\r\n          >\r\n            Stats & Metrics\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('projections')}\r\n            className={`px-6 py-3 font-medium transition-colors ${\r\n              activeTab === 'projections' \r\n                ? 'text-blue-400 border-b-2 border-blue-400' \r\n                : 'text-gray-400 hover:text-white'\r\n            }`}\r\n          >\r\n            Projections\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('analysis')}\r\n            className={`px-6 py-3 font-medium transition-colors ${\r\n              activeTab === 'analysis' \r\n                ? 'text-blue-400 border-b-2 border-blue-400' \r\n                : 'text-gray-400 hover:text-white'\r\n            }`}\r\n          >\r\n            Analysis\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6 overflow-y-auto\" style={{ maxHeight: 'calc(90vh - 300px)' }}>\r\n          {activeTab === 'stats' && (\r\n            <div className=\"grid grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Projected Points</div>\r\n                  <div className=\"text-2xl font-bold text-white\">\r\n                    {(player.projectedPoints || player.points || 0).toFixed(1)}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">VORP</div>\r\n                  <div className=\"text-xl font-semibold text-green-400\">\r\n                    {(player.vorp || player.vbd || 0).toFixed(1)}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Overall Rank</div>\r\n                  <div className=\"text-xl font-semibold text-white\">\r\n                    #{player.rank}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Position Rank</div>\r\n                  <div className=\"text-xl font-semibold text-white\">\r\n                    {player.position}{player.positionRank}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">ADP</div>\r\n                  <div className=\"text-xl font-semibold text-white\">\r\n                    {player.adp ? player.adp.toFixed(1) : 'N/A'}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Market Value</div>\r\n                  <div className=\"text-xl font-semibold text-yellow-400\">\r\n                    ${player.marketValue}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Edge vs Market</div>\r\n                  <div className={`text-xl font-semibold ${player.edge >= 0 ? 'text-green-400' : 'text-red-400'}`}>\r\n                    {player.edge > 0 ? '+' : ''}${player.edge.toFixed(0)}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-400 text-sm mb-1\">Bye Week</div>\r\n                  <div className=\"text-xl font-semibold text-white\">\r\n                    {player.byeWeek || 'N/A'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'projections' && (\r\n            <div className=\"space-y-4\">\r\n              {player.position === 'QB' && (\r\n                <>\r\n                  <div className=\"grid grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">Pass Yards</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.passYds || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">Pass TDs</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.passTd || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">INTs</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.passInt || 0}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n              \r\n              {(player.position === 'RB' || player.position === 'WR' || player.position === 'TE') && (\r\n                <>\r\n                  {(player.position === 'RB') && (\r\n                    <div className=\"grid grid-cols-3 gap-4\">\r\n                      <div>\r\n                        <div className=\"text-gray-400 text-sm mb-1\">Rush Yards</div>\r\n                        <div className=\"text-lg font-semibold text-white\">\r\n                          {player.rushYds || 0}\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-gray-400 text-sm mb-1\">Rush TDs</div>\r\n                        <div className=\"text-lg font-semibold text-white\">\r\n                          {player.rushTd || 0}\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-gray-400 text-sm mb-1\">Rush Att</div>\r\n                        <div className=\"text-lg font-semibold text-white\">\r\n                          {player.rushAtt || 0}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"grid grid-cols-3 gap-4 mt-4\">\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">Receptions</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.recvReceptions || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">Rec Yards</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.recvYds || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-gray-400 text-sm mb-1\">Rec TDs</div>\r\n                      <div className=\"text-lg font-semibold text-white\">\r\n                        {player.recvTd || 0}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'analysis' && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h3 className=\"text-white font-semibold mb-2 flex items-center gap-2\">\r\n                  <TrendingUp className=\"w-4 h-4 text-blue-400\" />\r\n                  Value Analysis\r\n                </h3>\r\n                <p className=\"text-gray-300 text-sm\">\r\n                  {player.edge >= 10 \r\n                    ? `Excellent value! Projected ${player.edge} points above market price.`\r\n                    : player.edge >= 0\r\n                    ? `Fair value with slight edge of ${player.edge} points.`\r\n                    : `Potentially overvalued by ${Math.abs(player.edge)} points.`}\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h3 className=\"text-white font-semibold mb-2 flex items-center gap-2\">\r\n                  <Award className=\"w-4 h-4 text-yellow-400\" />\r\n                  Tier Analysis\r\n                </h3>\r\n                <p className=\"text-gray-300 text-sm\">\r\n                  {player.tier === 'elite' \r\n                    ? 'Elite tier player - a potential league winner.'\r\n                    : player.tier === 'tier1'\r\n                    ? 'Top tier starter with consistent production.'\r\n                    : player.tier === 'tier2'\r\n                    ? 'Solid starter with good upside.'\r\n                    : player.tier === 'tier3'\r\n                    ? 'Flex option or depth player.'\r\n                    : 'Replacement level - consider for late rounds only.'}\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h3 className=\"text-white font-semibold mb-2 flex items-center gap-2\">\r\n                  <BarChart3 className=\"w-4 h-4 text-green-400\" />\r\n                  SOS Analysis\r\n                </h3>\r\n                <p className=\"text-gray-300 text-sm\">\r\n                  Strength of Schedule: {player.teamSeasonSOS ? player.teamSeasonSOS.toFixed(1) : 'N/A'}\r\n                  {player.teamSeasonSOS && player.teamSeasonSOS < 5 \r\n                    ? ' - Easy schedule could boost production.'\r\n                    : player.teamSeasonSOS && player.teamSeasonSOS > 5\r\n                    ? ' - Difficult schedule may limit upside.'\r\n                    : ' - Average difficulty schedule.'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Draft Controls */}\r\n        <div className=\"border-t border-gray-700 p-6 bg-gray-800/50\">\r\n          <div className=\"flex items-end gap-4\">\r\n            <div className=\"flex-1\">\r\n              <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n                Select Team\r\n              </label>\r\n              <select\r\n                value={selectedTeam}\r\n                onChange={(e) => setSelectedTeam(e.target.value)}\r\n                className=\"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-400\"\r\n              >\r\n                <option>My Team</option>\r\n                <option>Team 2</option>\r\n                <option>Team 3</option>\r\n                <option>Team 4</option>\r\n                <option>Team 5</option>\r\n                <option>Team 6</option>\r\n                <option>Team 7</option>\r\n                <option>Team 8</option>\r\n                <option>Team 9</option>\r\n                <option>Team 10</option>\r\n                <option>Team 11</option>\r\n                <option>Team 12</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"w-32\">\r\n              <label className=\"block text-sm font-medium text-gray-400 mb-2\">\r\n                Price ($)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={purchasePrice}\r\n                onChange={(e) => setPurchasePrice(e.target.value)}\r\n                placeholder=\"0\"\r\n                min=\"0\"\r\n                max=\"200\"\r\n                className=\"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-400\"\r\n              />\r\n            </div>\r\n            \r\n            <button\r\n              onClick={handleDraft}\r\n              disabled={!purchasePrice || parseInt(purchasePrice) <= 0}\r\n              className=\"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-lg font-semibold transition-colors\"\r\n            >\r\n              Draft Player\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerProfileModal;","/**\r\n * PPR Scoring Service\r\n * \r\n * Calculates PPR-specific metrics for display purposes only.\r\n * Does NOT affect valuation calculations.\r\n * Provides a 0-100 score indicating reception/PPR value for each player.\r\n */\r\n\r\nexport interface PPRMetrics {\r\n  score: number; // 0-100\r\n  percentile: number; // 0-100 percentile among position\r\n  components: {\r\n    targetShare?: number;\r\n    catchRate?: number;\r\n    yprrScore?: number;\r\n    redZoneTargets?: number;\r\n    targetsPerGame?: number;\r\n    routesRunRate?: number;\r\n    receivingYardsShare?: number;\r\n  };\r\n  tier: 'elite' | 'high' | 'average' | 'below' | 'low';\r\n  color: string; // Tailwind color class\r\n  hexColor: string; // Hex color for custom styling\r\n}\r\n\r\ninterface PlayerStats {\r\n  position: string;\r\n  targets?: number;\r\n  receptions?: number;\r\n  games?: number;\r\n  teamTargets?: number;\r\n  catchableTargets?: number;\r\n  yardsPerRouteRun?: number;\r\n  redZoneTargets?: number;\r\n  routesRun?: number;\r\n  teamPassPlays?: number;\r\n  receivingYards?: number;\r\n  teamReceivingYards?: number;\r\n  dropRate?: number;\r\n}\r\n\r\nexport class PPRScoringService {\r\n  /**\r\n   * Calculate PPR score for a player based on their position and stats\r\n   */\r\n  calculatePPRScore(player: PlayerStats): PPRMetrics | null {\r\n    // No PPR relevance for these positions\r\n    if (['QB', 'DST', 'K'].includes(player.position)) {\r\n      return null;\r\n    }\r\n\r\n    let score = 0;\r\n    const components: PPRMetrics['components'] = {};\r\n\r\n    switch (player.position) {\r\n      case 'WR':\r\n        score = this.calculateWRScore(player, components);\r\n        break;\r\n      case 'RB':\r\n        score = this.calculateRBScore(player, components);\r\n        break;\r\n      case 'TE':\r\n        score = this.calculateTEScore(player, components);\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n\r\n    // Ensure score is between 0 and 100\r\n    score = Math.max(0, Math.min(100, score));\r\n\r\n    // Calculate percentile (will be updated when comparing to all players)\r\n    const percentile = score; // Placeholder, updated later\r\n\r\n    // Determine tier and color\r\n    const { tier, color, hexColor } = this.getTierAndColor(score);\r\n\r\n    return {\r\n      score,\r\n      percentile,\r\n      components,\r\n      tier,\r\n      color,\r\n      hexColor\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Calculate WR PPR Score\r\n   * Based on volume and efficiency metrics\r\n   */\r\n  private calculateWRScore(player: PlayerStats, components: PPRMetrics['components']): number {\r\n    let score = 0;\r\n    let weightUsed = 0;\r\n\r\n    // Targets (40% weight) - Most important for PPR\r\n    if (player.targets && player.games) {\r\n      const targetsPerGame = player.targets / player.games;\r\n      components.targetsPerGame = targetsPerGame;\r\n      // Elite WR: 10+ targets/game (like Ja'Marr Chase with 175/17 = 10.3)\r\n      // Good: 7+ targets/game\r\n      // Average: 5+ targets/game\r\n      const targetScore = Math.min(100, (targetsPerGame / 10) * 100);\r\n      score += targetScore * 0.4;\r\n      weightUsed += 0.4;\r\n    } else if (player.targetShare) {\r\n      // Use target share if raw targets not available\r\n      components.targetShare = player.targetShare * 100;\r\n      // Elite is 28%+ (like Chase), good is 20%+, average is 15%\r\n      const targetScore = Math.min(100, (player.targetShare * 100 / 28) * 100);\r\n      score += targetScore * 0.4;\r\n      weightUsed += 0.4;\r\n    }\r\n\r\n    // Receptions (30% weight) - Direct PPR points\r\n    if (player.receptions && player.games) {\r\n      const receptionsPerGame = player.receptions / player.games;\r\n      components.receptionsPerGame = receptionsPerGame;\r\n      // Elite: 7+ rec/game (Chase had 127/17 = 7.5)\r\n      // Good: 5+ rec/game\r\n      // Average: 3+ rec/game\r\n      const recScore = Math.min(100, (receptionsPerGame / 7) * 100);\r\n      score += recScore * 0.3;\r\n      weightUsed += 0.3;\r\n    }\r\n\r\n    // Catch Rate (15% weight) - Efficiency metric\r\n    if (player.receptions && player.targets && player.targets > 0) {\r\n      const catchRate = (player.receptions / player.targets) * 100;\r\n      components.catchRate = catchRate;\r\n      // Elite is 72%+ (Chase had 127/175 = 72.6%), good is 65%+, average is 60%\r\n      const catchRateScore = Math.min(100, (catchRate / 72) * 100);\r\n      score += catchRateScore * 0.15;\r\n      weightUsed += 0.15;\r\n    } else if (player.catchRate) {\r\n      components.catchRate = player.catchRate * 100;\r\n      const catchRateScore = Math.min(100, (player.catchRate * 100 / 72) * 100);\r\n      score += catchRateScore * 0.15;\r\n      weightUsed += 0.15;\r\n    }\r\n\r\n    // Red Zone Targets (15% weight) - TD upside\r\n    if (player.redZoneTargets !== undefined && player.games) {\r\n      const rzTargetsPerGame = player.redZoneTargets / player.games;\r\n      components.redZoneTargets = rzTargetsPerGame;\r\n      // Elite is 2+ per game (Chase had 35/17 = 2.1), good is 1.2+, average is 0.6\r\n      const rzScore = Math.min(100, (rzTargetsPerGame / 2) * 100);\r\n      score += rzScore * 0.15;\r\n      weightUsed += 0.15;\r\n    }\r\n\r\n    // Normalize score if not all components available\r\n    if (weightUsed > 0 && weightUsed < 1) {\r\n      score = score / weightUsed;\r\n    }\r\n\r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Calculate RB PPR Score\r\n   * Focus on receiving volume for PPR value\r\n   */\r\n  private calculateRBScore(player: PlayerStats, components: PPRMetrics['components']): number {\r\n    let score = 0;\r\n    let weightUsed = 0;\r\n\r\n    // Targets per Game (40% weight) - Most important for RB PPR value\r\n    if (player.targets && player.games) {\r\n      const targetsPerGame = player.targets / player.games;\r\n      components.targetsPerGame = targetsPerGame;\r\n      // Elite RB: 5+ targets/game (Barkley, CMC, Ekeler)\r\n      // Good: 3.5+ targets/game\r\n      // Average: 2+ targets/game\r\n      const targetScore = Math.min(100, (targetsPerGame / 5) * 100);\r\n      score += targetScore * 0.4;\r\n      weightUsed += 0.4;\r\n    }\r\n\r\n    // Receptions per Game (35% weight) - Direct PPR value\r\n    if (player.receptions && player.games) {\r\n      const receptionsPerGame = player.receptions / player.games;\r\n      components.receptionsPerGame = receptionsPerGame;\r\n      // Elite RB: 4+ rec/game (Barkley had 57/17 = 3.4)\r\n      // Good: 3+ rec/game\r\n      // Average: 2+ rec/game\r\n      const recScore = Math.min(100, (receptionsPerGame / 4) * 100);\r\n      score += recScore * 0.35;\r\n      weightUsed += 0.35;\r\n    }\r\n\r\n    // Catch Rate (15% weight) - Efficiency\r\n    if (player.receptions && player.targets && player.targets > 0) {\r\n      const catchRate = (player.receptions / player.targets) * 100;\r\n      components.catchRate = catchRate;\r\n      // Elite RB is 75%+ catch rate, good is 70%+, average is 65%\r\n      const catchRateScore = Math.min(100, (catchRate / 75) * 100);\r\n      score += catchRateScore * 0.15;\r\n      weightUsed += 0.15;\r\n    } else if (player.catchRate) {\r\n      components.catchRate = player.catchRate * 100;\r\n      const catchRateScore = Math.min(100, (player.catchRate * 100 / 75) * 100);\r\n      score += catchRateScore * 0.15;\r\n      weightUsed += 0.15;\r\n    }\r\n\r\n    // Receiving Yards (10% weight) - Bonus for big play ability\r\n    if (player.receivingYards && player.games) {\r\n      const yardsPerGame = player.receivingYards / player.games;\r\n      components.receivingYardsPerGame = yardsPerGame;\r\n      // Elite RB is 40+ rec yards/game, good is 25+, average is 15+\r\n      const yardsScore = Math.min(100, (yardsPerGame / 40) * 100);\r\n      score += yardsScore * 0.1;\r\n      weightUsed += 0.1;\r\n    }\r\n\r\n    // Normalize score if not all components available\r\n    if (weightUsed > 0 && weightUsed < 1) {\r\n      score = score / weightUsed;\r\n    }\r\n\r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Calculate TE PPR Score\r\n   * Focus on volume for TEs since they're scarce\r\n   */\r\n  private calculateTEScore(player: PlayerStats, components: PPRMetrics['components']): number {\r\n    let score = 0;\r\n    let weightUsed = 0;\r\n\r\n    // Targets per Game (45% weight) - Volume is king for TEs\r\n    if (player.targets && player.games) {\r\n      const targetsPerGame = player.targets / player.games;\r\n      components.targetsPerGame = targetsPerGame;\r\n      // Elite TE: 6+ targets/game (Kelce, Andrews typically get 7-8)\r\n      // Good: 4+ targets/game\r\n      // Average: 2.5+ targets/game\r\n      const targetScore = Math.min(100, (targetsPerGame / 6) * 100);\r\n      score += targetScore * 0.45;\r\n      weightUsed += 0.45;\r\n    } else if (player.targetShare) {\r\n      components.targetShare = player.targetShare * 100;\r\n      // Elite TE is 18%+ target share, good is 12%+, average is 8%\r\n      const targetScore = Math.min(100, (player.targetShare * 100 / 18) * 100);\r\n      score += targetScore * 0.45;\r\n      weightUsed += 0.45;\r\n    }\r\n\r\n    // Receptions per Game (35% weight) - Direct PPR value\r\n    if (player.receptions && player.games) {\r\n      const receptionsPerGame = player.receptions / player.games;\r\n      components.receptionsPerGame = receptionsPerGame;\r\n      // Elite TE: 4.5+ rec/game (Kelce averages 5-6)\r\n      // Good: 3+ rec/game\r\n      // Average: 2+ rec/game\r\n      const recScore = Math.min(100, (receptionsPerGame / 4.5) * 100);\r\n      score += recScore * 0.35;\r\n      weightUsed += 0.35;\r\n    }\r\n\r\n    // Red Zone Targets (20% weight) - TEs are red zone weapons\r\n    if (player.redZoneTargets !== undefined && player.games) {\r\n      const rzTargetsPerGame = player.redZoneTargets / player.games;\r\n      components.redZoneTargets = rzTargetsPerGame;\r\n      // Elite is 1.2+ per game, good is 0.8+, average is 0.4\r\n      const rzScore = Math.min(100, (rzTargetsPerGame / 1.2) * 100);\r\n      score += rzScore * 0.2;\r\n      weightUsed += 0.2;\r\n    }\r\n\r\n    // Normalize score if not all components available\r\n    if (weightUsed > 0 && weightUsed < 1) {\r\n      score = score / weightUsed;\r\n    }\r\n\r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Determine tier and color based on score\r\n   */\r\n  private getTierAndColor(score: number): { tier: PPRMetrics['tier'], color: string, hexColor: string } {\r\n    if (score >= 80) {\r\n      return { tier: 'elite', color: 'text-green-600 dark:text-green-400', hexColor: '#16a34a' };\r\n    } else if (score >= 60) {\r\n      return { tier: 'high', color: 'text-green-500 dark:text-green-500', hexColor: '#22c55e' };\r\n    } else if (score >= 40) {\r\n      return { tier: 'average', color: 'text-yellow-500 dark:text-yellow-400', hexColor: '#eab308' };\r\n    } else if (score >= 20) {\r\n      return { tier: 'below', color: 'text-orange-500 dark:text-orange-400', hexColor: '#f97316' };\r\n    } else {\r\n      return { tier: 'low', color: 'text-red-500 dark:text-red-400', hexColor: '#ef4444' };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update percentiles for a group of players\r\n   */\r\n  updatePercentiles(players: Array<{ position: string; pprMetrics: PPRMetrics | null }>): void {\r\n    // Group by position\r\n    const positionGroups: Record<string, number[]> = {};\r\n    \r\n    players.forEach(player => {\r\n      if (player.pprMetrics) {\r\n        if (!positionGroups[player.position]) {\r\n          positionGroups[player.position] = [];\r\n        }\r\n        positionGroups[player.position].push(player.pprMetrics.score);\r\n      }\r\n    });\r\n\r\n    // Calculate percentiles for each position\r\n    Object.keys(positionGroups).forEach(position => {\r\n      const scores = positionGroups[position].sort((a, b) => a - b);\r\n      \r\n      players.forEach(player => {\r\n        if (player.pprMetrics && player.position === position) {\r\n          const rank = scores.indexOf(player.pprMetrics.score);\r\n          player.pprMetrics.percentile = Math.round((rank / scores.length) * 100);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport const pprScoringService = new PPRScoringService();","import React, { useState, useMemo } from 'react';\r\nimport { ChevronUp, ChevronDown, Eye, Plus, Minus } from 'lucide-react';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport PlayerProfileModal from './PlayerProfileModal';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport { pprScoringService } from '@/lib/pprScoringService';\r\n\r\ninterface PlayerDataTableProps {\r\n  players: ValuationResult[];\r\n  onPlayerSelect?: (player: ValuationResult) => void;\r\n  onPlayerDraft?: (player: ValuationResult) => void;\r\n}\r\n\r\ntype SortField = 'position' | 'team' | 'tier' | 'playerRank' | 'maxBid' | 'intrinsicValue' | \r\n                 'marketValue' | 'edge' | 'edgePercent' | 'vorp' | 'adp' | 'projectedPoints' | 'byeWeek' | 'sos' | 'ppr';\r\ntype SortDirection = 'asc' | 'desc';\r\n\r\nconst PlayerDataTable: React.FC<PlayerDataTableProps> = ({ \r\n  players, \r\n  onPlayerSelect,\r\n  onPlayerDraft \r\n}) => {\r\n  const { draftHistory } = useDraftStore();\r\n  const [selectedPlayers, setSelectedPlayers] = useState<Set<string>>(new Set());\r\n  const [sortField, setSortField] = useState<SortField>('playerRank');\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>('asc');\r\n  const [displayCount, setDisplayCount] = useState<number>(600); // Show all players by default\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n  const [positionFilter, setPositionFilter] = useState<string>('ALL');\r\n  const [modalPlayer, setModalPlayer] = useState<ValuationResult | null>(null);\r\n  \r\n  // Debug: Log when players prop changes\r\n  React.useEffect(() => {\r\n    if (players.length > 0) {\r\n      const samplePlayer = players.find(p => p.playerName === 'Bijan Robinson') || players[0];\r\n      console.log('[PlayerDataTable] Players updated:', {\r\n        totalPlayers: players.length,\r\n        samplePlayer: samplePlayer.playerName,\r\n        sampleValue: samplePlayer.auctionValue,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    }\r\n  }, [players]);\r\n\r\n  // Tier order for sorting (higher number = better tier)\r\n  const tierOrder: Record<string, number> = {\r\n    'elite': 5,\r\n    'tier1': 4,\r\n    'tier2': 3,\r\n    'tier3': 2,\r\n    'replacement': 1,\r\n    'repl': 1,\r\n  };\r\n\r\n  // Calculate PPR scores for all players\r\n  const playersWithPPR = useMemo(() => {\r\n    // Debug first few players\r\n    console.log('[PlayerDataTable] Sample players:', players.slice(0, 3).map(p => ({\r\n      name: p.playerName || p.name,\r\n      targets: p.targets,\r\n      receptions: p.receptions,\r\n      hasPprMetrics: !!p.pprMetrics,\r\n      pprScore: p.pprMetrics?.score\r\n    })));\r\n    \r\n    return players.map(player => {\r\n      // Use existing pprMetrics if available\r\n      if (player.pprMetrics) {\r\n        return player;\r\n      }\r\n      \r\n      // Otherwise calculate PPR metrics\r\n      const playerStats = {\r\n        position: player.position,\r\n        targets: player.targets,\r\n        receptions: player.receptions,\r\n        targetShare: player.targetShare,\r\n        catchRate: player.catchRate,\r\n        games: player.games || 16,\r\n        teamTargets: player.teamTargets,\r\n        catchableTargets: player.catchableTargets || player.targets,\r\n        yardsPerRouteRun: player.yardsPerRouteRun,\r\n        redZoneTargets: player.redZoneTargets,\r\n        routesRun: player.routesRun,\r\n        teamPassPlays: player.teamPassPlays,\r\n        receivingYards: player.receivingYards,\r\n        teamReceivingYards: player.teamReceivingYards,\r\n        dropRate: player.dropRate\r\n      };\r\n      \r\n      const pprMetrics = pprScoringService.calculatePPRScore(playerStats);\r\n      return {\r\n        ...player,\r\n        pprMetrics\r\n      };\r\n    });\r\n  }, [players]);\r\n\r\n  // Sorting logic\r\n  const sortedPlayers = useMemo(() => {\r\n    const sorted = [...playersWithPPR].sort((a, b) => {\r\n      let aValue: any = a[sortField as keyof ValuationResult];\r\n      let bValue: any = b[sortField as keyof ValuationResult];\r\n\r\n      // Special handling for certain fields\r\n      if (sortField === 'tier') {\r\n        // Convert tier names to numeric values for proper sorting\r\n        const aTier = a.tier || 'replacement';\r\n        const bTier = b.tier || 'replacement';\r\n        aValue = tierOrder[aTier] || 1;\r\n        bValue = tierOrder[bTier] || 1;\r\n      } else if (sortField === 'playerRank') {\r\n        aValue = a.rank || 999;\r\n        bValue = b.rank || 999;\r\n      } else if (sortField === 'maxBid') {\r\n        aValue = a.value || 0;\r\n        bValue = b.value || 0;\r\n      } else if (sortField === 'edgePercent') {\r\n        aValue = a.edge && a.marketValue ? (a.edge / a.marketValue) * 100 : 0;\r\n        bValue = b.edge && b.marketValue ? (b.edge / b.marketValue) * 100 : 0;\r\n      } else if (sortField === 'vorp') {\r\n        aValue = a.vbd || 0;\r\n        bValue = b.vbd || 0;\r\n      } else if (sortField === 'projectedPoints') {\r\n        aValue = a.points || 0;\r\n        bValue = b.points || 0;\r\n      } else if (sortField === 'sos') {\r\n        aValue = a.teamSeasonSOS || 0;\r\n        bValue = b.teamSeasonSOS || 0;\r\n      } else if (sortField === 'ppr') {\r\n        aValue = a.pprMetrics?.score || 0;\r\n        bValue = b.pprMetrics?.score || 0;\r\n      }\r\n\r\n      // Handle null/undefined values\r\n      if (aValue === null || aValue === undefined) aValue = 0;\r\n      if (bValue === null || bValue === undefined) bValue = 0;\r\n\r\n      // Compare\r\n      if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\r\n      if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n\r\n    return sorted;\r\n  }, [playersWithPPR, sortField, sortDirection]);\r\n\r\n  // Filter players by search query and position\r\n  const filteredPlayers = useMemo(() => {\r\n    let filtered = sortedPlayers;\r\n    \r\n    // Filter out drafted players\r\n    const draftedIds = new Set(draftHistory.map(pick => pick.player?.id));\r\n    filtered = filtered.filter(player => !draftedIds.has(player.playerId));\r\n    \r\n    // Apply position filter\r\n    if (positionFilter !== 'ALL') {\r\n      filtered = filtered.filter(player => player.position === positionFilter);\r\n    }\r\n    \r\n    // Apply search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase().trim();\r\n      filtered = filtered.filter(player => \r\n        player.name?.toLowerCase().includes(query) ||\r\n        player.team?.toLowerCase().includes(query) ||\r\n        player.position?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    return filtered;\r\n  }, [sortedPlayers, searchQuery, positionFilter, draftHistory]);\r\n\r\n  // Limited players to display\r\n  const displayedPlayers = useMemo(() => {\r\n    return filteredPlayers.slice(0, displayCount);\r\n  }, [filteredPlayers, displayCount]);\r\n\r\n  // Toggle sort\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('asc');\r\n    }\r\n  };\r\n\r\n  // Toggle selection\r\n  const toggleSelection = (playerKey: string) => {\r\n    const newSelection = new Set(selectedPlayers);\r\n    if (newSelection.has(playerKey)) {\r\n      newSelection.delete(playerKey);\r\n    } else {\r\n      newSelection.add(playerKey);\r\n    }\r\n    setSelectedPlayers(newSelection);\r\n  };\r\n\r\n  // Tier label mapping\r\n  const getTierLabel = (tier?: string) => {\r\n    switch(tier) {\r\n      case 'elite': return 'S+';\r\n      case 'tier1': return 'S';\r\n      case 'tier2': return 'A';\r\n      case 'tier3': return 'B';\r\n      case 'replacement': return 'C';\r\n      case 'repl': return 'C';  // Handle abbreviated version\r\n      default: return 'C';  // Default to C for replacement level\r\n    }\r\n  };\r\n\r\n  // Color functions\r\n  const getTierColor = (tier?: string) => {\r\n    // Green = best tier, Red = worst tier\r\n    switch(tier) {\r\n      case 'elite': return 'text-green-500 font-bold';\r\n      case 'tier1': return 'text-green-400';\r\n      case 'tier2': return 'text-yellow-400';\r\n      case 'tier3': return 'text-orange-400';\r\n      default: return 'text-red-400';\r\n    }\r\n  };\r\n\r\n  const getRankColor = (rank?: number) => {\r\n    // Green = best rank (low number), Red = worst rank (high number)\r\n    if (!rank) return 'text-gray-500';\r\n    if (rank <= 10) return 'text-green-500 font-bold';\r\n    if (rank <= 30) return 'text-green-400';\r\n    if (rank <= 60) return 'text-yellow-400';\r\n    if (rank <= 100) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getValueColor = (value: number) => {\r\n    // Green = low price (cheap), Red = high price (expensive)\r\n    if (value >= 50) return 'text-red-400 font-bold';\r\n    if (value >= 30) return 'text-orange-400 font-semibold';\r\n    if (value >= 15) return 'text-yellow-400';\r\n    if (value >= 5) return 'text-green-400';\r\n    return 'text-green-500 font-bold';  // Very cheap\r\n  };\r\n\r\n  const getEdgeColor = (edge: number) => {\r\n    if (edge >= 20) return 'text-green-400 font-bold';\r\n    if (edge >= 10) return 'text-green-300 font-semibold';\r\n    if (edge >= 5) return 'text-yellow-400';\r\n    if (edge >= 0) return 'text-gray-300';\r\n    if (edge >= -5) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getEdgePercentColor = (percent: number) => {\r\n    if (percent >= 50) return 'text-green-400 font-bold';\r\n    if (percent >= 25) return 'text-green-300 font-semibold';\r\n    if (percent >= 10) return 'text-yellow-400';\r\n    if (percent >= 0) return 'text-gray-300';\r\n    if (percent >= -10) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getVorpColor = (vorp: number) => {\r\n    // Green = high VORP, Red = low VORP\r\n    if (vorp >= 100) return 'text-green-500 font-bold';\r\n    if (vorp >= 50) return 'text-green-400';\r\n    if (vorp >= 20) return 'text-yellow-400';\r\n    if (vorp >= 0) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getAdpColor = (adp?: number) => {\r\n    // Green = low ADP (early picks), Red = high ADP (late picks)\r\n    if (!adp) return 'text-gray-500';\r\n    if (adp <= 12) return 'text-green-500 font-bold';\r\n    if (adp <= 36) return 'text-green-400';\r\n    if (adp <= 72) return 'text-yellow-400';\r\n    if (adp <= 120) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getPointsColor = (points?: number) => {\r\n    // Green = high points, Red = low points\r\n    if (!points) return 'text-gray-400';\r\n    if (points >= 300) return 'text-green-500 font-bold';\r\n    if (points >= 250) return 'text-green-400';\r\n    if (points >= 200) return 'text-yellow-400';\r\n    if (points >= 150) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getByeWeekColor = (bye?: number) => {\r\n    if (!bye) return 'text-gray-500';\r\n    // Optimal bye weeks in fantasy football:\r\n    // Best: Weeks 9-11 (mid-season, avoid early/late season crucial games)\r\n    // Good: Weeks 7-8, 12 (still reasonable timing)\r\n    // Moderate: Week 6, 13 (getting less ideal)\r\n    // Poor: Weeks 5, 14 (too early or too late)\r\n    // No byes: Weeks 1-4, 15-18\r\n    \r\n    if (bye >= 9 && bye <= 11) return 'text-green-500 font-semibold';  // Optimal bye weeks\r\n    if (bye === 7 || bye === 8 || bye === 12) return 'text-green-400'; // Good bye weeks\r\n    if (bye === 6 || bye === 13) return 'text-yellow-400';             // Moderate bye weeks\r\n    if (bye === 5 || bye === 14) return 'text-orange-400';             // Poor bye weeks\r\n    return 'text-red-400';  // Should not happen (weeks 1-4, 15-18 don't have byes)\r\n  };\r\n\r\n  const getSosColor = (sos?: number) => {\r\n    if (!sos && sos !== 0) return 'text-gray-500';\r\n    // SOS ranges from 0 (easiest) to 10 (hardest)\r\n    if (sos >= 8) return 'text-red-500 font-semibold';    // Very hard schedule\r\n    if (sos >= 6) return 'text-red-400';                  // Hard schedule\r\n    if (sos >= 4) return 'text-orange-400';               // Moderate-hard schedule\r\n    if (sos >= 2) return 'text-yellow-400';               // Moderate schedule\r\n    if (sos >= 1) return 'text-green-400';                // Easy schedule\r\n    return 'text-green-500 font-semibold';                // Very easy schedule (< 1)\r\n  };\r\n\r\n  const getPositionColor = (position: string) => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'text-red-400',\r\n      RB: 'text-green-400',\r\n      WR: 'text-blue-400',\r\n      TE: 'text-orange-400',\r\n      DST: 'text-purple-400',\r\n      K: 'text-yellow-400'\r\n    };\r\n    return colors[position] || 'text-gray-400';\r\n  };\r\n\r\n  // Sort icon component\r\n  const SortIcon = ({ field }: { field: SortField }) => {\r\n    if (sortField !== field) {\r\n      return <div className=\"w-4 h-4 opacity-30\"></div>;\r\n    }\r\n    return sortDirection === 'asc' \r\n      ? <ChevronUp className=\"w-4 h-4 text-blue-400\" />\r\n      : <ChevronDown className=\"w-4 h-4 text-blue-400\" />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full bg-gray-900 rounded-lg\">\r\n      {/* Table wrapper with horizontal scroll and sticky header */}\r\n      <div className=\"relative\" style={{ scrollbarWidth: 'thin' }}>\r\n        <table className=\"w-full min-w-[1200px] relative\">\r\n          <thead className=\"sticky top-0 z-50\" style={{ backgroundColor: '#1f2937', boxShadow: '0 2px 8px rgba(0,0,0,0.5)' }}>\r\n            <tr className=\"border-b border-gray-700\">\r\n              {/* Checkbox and Action columns with Position Filter */}\r\n              <th className=\"px-1 py-2 text-center\" colSpan={2} style={{ maxWidth: '80px', width: '80px' }}>\r\n                <select\r\n                  value={positionFilter}\r\n                  onChange={(e) => setPositionFilter(e.target.value)}\r\n                  className=\"w-full px-1 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200 focus:outline-none focus:border-blue-400\"\r\n                >\r\n                  <option value=\"ALL\">All</option>\r\n                  <option value=\"QB\">QB</option>\r\n                  <option value=\"RB\">RB</option>\r\n                  <option value=\"WR\">WR</option>\r\n                  <option value=\"TE\">TE</option>\r\n                  <option value=\"DST\">DST</option>\r\n                  <option value=\"K\">K</option>\r\n                </select>\r\n              </th>\r\n\r\n              {/* Name with Search */}\r\n              <th className=\"px-2 py-1 text-left text-xs font-medium min-w-[120px]\" style={{ position: 'sticky', left: 0, backgroundColor: '#1f2937', zIndex: 20 }}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  placeholder=\"Search...\"\r\n                  className=\"w-full px-2 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200 placeholder-gray-400 focus:outline-none focus:border-blue-400\"\r\n                />\r\n              </th>\r\n\r\n              {/* Sortable columns */}\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('position')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Pos <SortIcon field=\"position\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('team')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Team <SortIcon field=\"team\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('tier')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Tier <SortIcon field=\"tier\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('ppr')}\r\n                title=\"PPR Reception Value Score (0-100)\"\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  PPR <SortIcon field=\"ppr\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('playerRank')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Rank <SortIcon field=\"playerRank\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('maxBid')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Max Bid <SortIcon field=\"maxBid\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('intrinsicValue')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Intrinsic <SortIcon field=\"intrinsicValue\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('marketValue')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Market <SortIcon field=\"marketValue\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('edge')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Edge <SortIcon field=\"edge\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('edgePercent')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Edge% <SortIcon field=\"edgePercent\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('vorp')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  VORP <SortIcon field=\"vorp\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('adp')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  ADP <SortIcon field=\"adp\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('projectedPoints')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Proj Pts <SortIcon field=\"projectedPoints\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('byeWeek')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Bye <SortIcon field=\"byeWeek\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('sos')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  SOS <SortIcon field=\"sos\" />\r\n                </div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody className=\"divide-y divide-gray-800\">\r\n            {displayedPlayers.map((player, index) => {\r\n              const edge = player.edge || 0;\r\n              const marketValue = player.marketValue || 1; // Avoid division by zero\r\n              const edgePercent = marketValue > 0 ? (edge / marketValue) * 100 : 0;\r\n              \r\n              // Create a unique key using multiple fields to ensure uniqueness\r\n              const uniqueKey = player.id || `${player.name}_${player.team}_${player.position}_${index}`;\r\n\r\n              return (\r\n                <tr\r\n                  key={uniqueKey}\r\n                  className=\"hover:bg-gray-800/50 transition-colors\"\r\n                >\r\n                  {/* Checkbox */}\r\n                  <td className=\"px-1 py-1 text-center\" style={{ maxWidth: '30px', width: '30px' }}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"w-4 h-4 rounded bg-gray-700 border-gray-600\"\r\n                      checked={selectedPlayers.has(uniqueKey)}\r\n                      onChange={() => toggleSelection(uniqueKey)}\r\n                    />\r\n                  </td>\r\n\r\n                  {/* Action Button */}\r\n                  <td className=\"px-1 py-1 text-center\" style={{ maxWidth: '30px', width: '30px' }}>\r\n                    <button\r\n                      onClick={() => setModalPlayer(player)}\r\n                      className=\"p-0.5 hover:bg-gray-700 rounded transition-colors\"\r\n                      title=\"View Details\"\r\n                    >\r\n                      <Eye className=\"w-3 h-3 text-gray-400 hover:text-white\" />\r\n                    </button>\r\n                  </td>\r\n\r\n                  {/* Name */}\r\n                  <td className=\"px-2 py-1 min-w-[120px]\" style={{ position: 'sticky', left: 0, backgroundColor: '#111827', zIndex: 10 }}>\r\n                    <div style={{ color: 'white', fontWeight: '500' }} className=\"hover:text-blue-400 cursor-pointer truncate text-left\">\r\n                      {(() => {\r\n                        const displayName = player.name || player.playerName || 'Unknown';\r\n                        if (index === 0) {\r\n                          console.log('First player name rendering:', displayName);\r\n                          console.log('First player object keys:', Object.keys(player));\r\n                          console.log('First player intrinsicValue:', player.intrinsicValue);\r\n                          console.log('First player auctionValue:', player.auctionValue);\r\n                          console.log('First player marketValue:', player.marketValue);\r\n                        }\r\n                        return displayName;\r\n                      })()}\r\n                    </div>\r\n                  </td>\r\n\r\n                  {/* Position */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={`font-semibold ${getPositionColor(player.position)}`}>\r\n                      {player.position}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Team */}\r\n                  <td className=\"px-2 py-1 text-gray-300 text-center\">\r\n                    {(() => {\r\n                      const teamDisplay = player.team || 'FA';\r\n                      if (index === 0) {\r\n                        console.log('First player team:', player.team, 'from player:', player);\r\n                      }\r\n                      return teamDisplay;\r\n                    })()}\r\n                  </td>\r\n\r\n                  {/* Tier */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getTierColor(player.tier)}>\r\n                      {getTierLabel(player.tier)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* PPR Score */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    {player.pprMetrics ? (\r\n                      <div className=\"flex items-center justify-center gap-1\">\r\n                        <span \r\n                          className={`font-semibold ${player.pprMetrics.color}`}\r\n                          title={`PPR Score: ${player.pprMetrics.score.toFixed(1)}/100`}\r\n                        >\r\n                          {player.pprMetrics.score.toFixed(0)}\r\n                        </span>\r\n                        <div \r\n                          className=\"w-8 h-1.5 bg-gray-700 rounded-full overflow-hidden\"\r\n                        >\r\n                          <div \r\n                            className=\"h-full transition-all duration-300\"\r\n                            style={{ \r\n                              width: `${player.pprMetrics.score}%`,\r\n                              backgroundColor: player.pprMetrics.hexColor \r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <span className=\"text-gray-600\">-</span>\r\n                    )}\r\n                  </td>\r\n\r\n                  {/* Player Rank */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getRankColor(player.rank)}>\r\n                      {player.rank || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Max Bid */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className=\"text-white\">\r\n                      ${player.value || 0}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Intrinsic Value */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getValueColor(player.intrinsicValue || 0)}>\r\n                      ${(() => {\r\n                        const intrinsicVal = player.intrinsicValue || 0;\r\n                        if (player.name === 'Bijan Robinson' || player.playerName === 'Bijan Robinson') {\r\n                          console.log('[PlayerDataTable] Intrinsic value for Bijan:', intrinsicVal, 'Full player:', player);\r\n                        }\r\n                        return intrinsicVal.toFixed(0);\r\n                      })()}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Market Value */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getValueColor(player.marketValue || 0)}>\r\n                      ${player.marketValue || 0}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Edge */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getEdgeColor(edge)}>\r\n                      {edge > 0 ? '+' : ''}${Math.abs(edge).toFixed(0)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Edge% */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getEdgePercentColor(edgePercent)}>\r\n                      {edgePercent > 0 ? '+' : ''}{edgePercent.toFixed(0)}%\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* VORP */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getVorpColor(player.vbd || 0)}>\r\n                      {player.vbd?.toFixed(0) || '0'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* ADP */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getAdpColor(player.adp)}>\r\n                      {player.adp?.toFixed(1) || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Projected Points */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getPointsColor(player.points || 0)}>\r\n                      {(player.points || 0).toFixed(0)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Bye Week */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getByeWeekColor(player.byeWeek)}>\r\n                      {player.byeWeek || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* SOS */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getSosColor(player.teamSeasonSOS)}>\r\n                      {player.teamSeasonSOS?.toFixed(2) || '-'}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Show More/Less Controls */}\r\n      <div className=\"bg-gray-800 border-t border-gray-700 px-4 py-3 flex items-center justify-between\">\r\n        <div className=\"text-sm text-gray-400\">\r\n          Showing {displayedPlayers.length} of {sortedPlayers.length} players\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          {displayCount > 50 && (\r\n            <button\r\n              onClick={() => setDisplayCount(Math.max(50, displayCount - 50))}\r\n              className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg flex items-center gap-2 transition-colors\"\r\n            >\r\n              <Minus className=\"w-4 h-4\" />\r\n              Show 50 Less\r\n            </button>\r\n          )}\r\n          {displayCount < filteredPlayers.length && (\r\n            <button\r\n              onClick={() => setDisplayCount(Math.min(filteredPlayers.length, displayCount + 50))}\r\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              Show 50 More\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Player Profile Modal */}\r\n      {modalPlayer && (\r\n        <PlayerProfileModal\r\n          player={modalPlayer}\r\n          isOpen={!!modalPlayer}\r\n          onClose={() => setModalPlayer(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDataTable;","import React, { useState } from 'react';\r\nimport { X, Calculator, TrendingUp, DollarSign, Target, Layers, Activity, Award, Info, CheckCircle } from 'lucide-react';\r\n\r\ninterface CalculationsExplainerModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nconst CalculationsExplainerModal: React.FC<CalculationsExplainerModalProps> = ({ isOpen, onClose }) => {\r\n  const [activeTab, setActiveTab] = useState('projections');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const tabs = [\r\n    { id: 'projections', label: 'Projected Points', icon: TrendingUp },\r\n    { id: 'vorp', label: 'VORP', icon: Activity },\r\n    { id: 'auction', label: 'Auction Value', icon: DollarSign },\r\n    { id: 'invariants', label: 'Invariant Tests', icon: CheckCircle },\r\n    { id: 'tiers', label: 'Tiers', icon: Layers },\r\n    { id: 'edge', label: 'Edge', icon: Target },\r\n    { id: 'confidence', label: 'Confidence', icon: Award },\r\n    { id: 'ranges', label: 'Bid Ranges', icon: Calculator },\r\n    { id: 'data', label: 'Data Sources', icon: Info },\r\n  ];\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'projections':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Projected Points Aggregation</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Weighted Average Formula:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400\">\r\n                projectedPoints = (FantasyPros  0.40) + (CBS  0.35) + (baseline  0.25)\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Data Sources & Weights:</h4>\r\n              <ul className=\"space-y-2 text-gray-400\">\r\n                <li className=\"flex justify-between\">\r\n                  <span> FantasyPros (4 position files)</span>\r\n                  <span className=\"text-blue-400 font-mono\">40%</span>\r\n                </li>\r\n                <li className=\"flex justify-between\">\r\n                  <span> CBS Sports (4 position files)</span>\r\n                  <span className=\"text-blue-400 font-mono\">35%</span>\r\n                </li>\r\n                <li className=\"flex justify-between\">\r\n                  <span> Baseline projections_2025.csv</span>\r\n                  <span className=\"text-blue-400 font-mono\">25%</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Player Matching Process:</h4>\r\n              <ol className=\"list-decimal list-inside space-y-1 text-gray-400\">\r\n                <li>Normalize names (lowercase, remove special chars)</li>\r\n                <li>Remove suffixes (Jr, Sr, II, III, etc.)</li>\r\n                <li>Match by normalized_name + position</li>\r\n                <li>Calculate weighted average across all sources</li>\r\n                <li>Round to 1 decimal place</li>\r\n              </ol>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">PPR Scoring Formula (if calculated from stats):</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400 text-sm\">\r\n                points = passYds/25 + passTD4 - INT2 + rushYds/10 + rushTD6 + receptions1 + recYds/10 + recTD6\r\n              </code>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'vorp':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">VORP (Value Over Replacement Player)</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Formula:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400\">\r\n                VORP = projectedPoints - replacementPoints\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Replacement Level by Position:</h4>\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">QB:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">QB15</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">Most teams roster 1-2 QBs</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">RB:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">RB48</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">12 teams  4 RBs average</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">WR:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">WR60</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">12 teams  5 WRs average</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">TE:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">TE18</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">Most teams roster 1-2 TEs</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">DST:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">DST14</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">Some teams stream DST</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">K:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">K13</span>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">Few roster backup kickers</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Why VORP Matters:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                VORP measures how much better a player is than what's freely available. A QB with 350 points might seem valuable, \r\n                but if replacement QBs score 320 points, the VORP is only 30. This helps compare value across positions fairly.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'auction':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Auction Value Calculation (Calibrated Model)</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Calibrated Formula:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400 text-sm\">\r\n                baseValue = (vorp / totalVORP)  discretionaryBudget<br/>\r\n                tierAdjusted = baseValue  tierMultiplier<br/>\r\n                calibrated = tierAdjusted  calibrationFactor<br/>\r\n                finalValue = Math.max(1, Math.round(calibrated))\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Position-Specific Calibration:</h4>\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400 font-semibold\">RB:</span>\r\n                  <span className=\"text-green-400 font-mono ml-2\">45-50% of budget</span>\r\n                  <p className=\"text-xs text-gray-500\">High value on workhorse backs</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400 font-semibold\">WR:</span>\r\n                  <span className=\"text-blue-400 font-mono ml-2\">35-40% of budget</span>\r\n                  <p className=\"text-xs text-gray-500\">Deep position but elite matters</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400 font-semibold\">QB:</span>\r\n                  <span className=\"text-yellow-400 font-mono ml-2\">5-10% of budget</span>\r\n                  <p className=\"text-xs text-gray-500\">Streaming viable</p>\r\n                </div>\r\n                <div className=\"bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400 font-semibold\">TE:</span>\r\n                  <span className=\"text-purple-400 font-mono ml-2\">5-10% of budget</span>\r\n                  <p className=\"text-xs text-gray-500\">Premium for elite TEs</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n                <p className=\"text-sm text-gray-400\">\r\n                  <span className=\"font-semibold text-blue-400\">Calibrated Model:</span> Dynamic calibration ensures budget conservation\r\n                  (top 192 = ~$2400) and proper position distribution based on market conditions\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Discretionary Budget:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Total Budget ($2400 for 12 teams) - Minimum Roster Cost ($192 = 12 teams  16 players  $1)\r\n                = <span className=\"text-green-400 font-mono\">$2208 discretionary</span>\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-green-900/20 border border-green-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-green-400 mb-2\"> Model Validation:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Our calibrated model automatically adjusts to ensure fair valuations based on current projections and market data.\r\n                Values are dynamically calibrated to match historical spending patterns.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'invariants':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Model Validation Tests</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">What Are Invariants?</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Validation tests ensure our valuation model produces fair, balanced, and realistic auction values. \r\n                The calibrated model dynamically adjusts to maintain these constraints.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Current Test Results:</h4>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <div className=\"bg-green-900/20 border border-green-500/30 rounded p-3\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-green-400 font-semibold\"> Budget Conservation</span>\r\n                    <span className=\"text-green-400 font-mono\">PASSED</span>\r\n                  </div>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    Top 192 players: <span className=\"text-green-400\">$2,338</span> (97.4% of $2,400 target)\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Ensures the total auction budget is properly distributed across all roster spots\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-green-900/20 border border-green-500/30 rounded p-3\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-green-400 font-semibold\"> Position Distribution</span>\r\n                    <span className=\"text-green-400 font-mono\">PASSED</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-3 gap-2 mt-2 text-xs\">\r\n                    <div className=\"text-gray-400\">RB: <span className=\"text-green-400\">45.3%</span> (45-50%)</div>\r\n                    <div className=\"text-gray-400\">WR: <span className=\"text-green-400\">39.9%</span> (35-40%)</div>\r\n                    <div className=\"text-gray-400\">QB: <span className=\"text-green-400\">6.6%</span> (5-10%)</div>\r\n                    <div className=\"text-gray-400\">TE: <span className=\"text-green-400\">7.1%</span> (5-10%)</div>\r\n                    <div className=\"text-gray-400\">DST: <span className=\"text-green-400\">0.6%</span> (0.5-2%)</div>\r\n                    <div className=\"text-gray-400\">K: <span className=\"text-green-400\">0.6%</span> (0.5-1%)</div>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    Matches historical auction spending patterns by position\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-green-900/20 border border-green-500/30 rounded p-3\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-green-400 font-semibold\"> No Negative Values</span>\r\n                    <span className=\"text-green-400 font-mono\">PASSED</span>\r\n                  </div>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    All 572 players have positive or $1 minimum values\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Every rosterable player must have at least $1 value\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-green-900/20 border border-green-500/30 rounded p-3\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-green-400 font-semibold\"> Reasonable Value Ranges</span>\r\n                    <span className=\"text-green-400 font-mono\">PASSED</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-2 mt-2 text-xs\">\r\n                    <div className=\"text-gray-400\">Max RB: <span className=\"text-green-400\">$75</span> (limit: $80)</div>\r\n                    <div className=\"text-gray-400\">Max WR: <span className=\"text-green-400\">$59</span> (limit: $75)</div>\r\n                    <div className=\"text-gray-400\">Max QB: <span className=\"text-green-400\">$24</span> (limit: $45)</div>\r\n                    <div className=\"text-gray-400\">Max TE: <span className=\"text-green-400\">$36</span> (limit: $40)</div>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    Prevents unrealistic player valuations\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Calibration Approach:</h4>\r\n              <div className=\"space-y-1 text-sm\">\r\n                <p className=\"text-gray-400\">\r\n                  The model uses a dynamic calibration factor (typically 0.55-0.65) that automatically adjusts\r\n                  based on the total VORP to ensure proper budget distribution.\r\n                </p>\r\n                <p className=\"text-gray-400\">\r\n                  This approach maintains flexibility while ensuring consistent results across different\r\n                  projection sets and scoring systems.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Testing Command:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400 text-sm\">\r\n                npm run test:valuations\r\n              </code>\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                Run this command to verify all validation tests pass after any model changes\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'tiers':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Tier Classification</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Tier Assignment Logic:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400 text-sm\">\r\n                if (positionRank  3) tier = 'elite'<br/>\r\n                else if (positionRank  8) tier = 'tier1'<br/>\r\n                else if (positionRank  20) tier = 'tier2'<br/>\r\n                else if (auctionValue &gt; 5) tier = 'tier3'<br/>\r\n                else tier = 'replacement'\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Base Tier Multipliers:</h4>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between bg-purple-900/30 rounded p-3\">\r\n                  <span className=\"text-purple-400 font-semibold\">Elite (Ranks 1-3)</span>\r\n                  <span className=\"text-green-400 font-mono\">1.15 (+15%)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-blue-900/30 rounded p-3\">\r\n                  <span className=\"text-blue-400 font-semibold\">Tier 1 (Ranks 4-8)</span>\r\n                  <span className=\"text-green-400 font-mono\">1.08 (+8%)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-300\">Tier 2 (Ranks 9-16)</span>\r\n                  <span className=\"text-gray-400 font-mono\">1.00 (base)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">Tier 3 (Ranks 17-24)</span>\r\n                  <span className=\"text-orange-400 font-mono\">0.92 (-8%)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-gray-900 rounded p-3\">\r\n                  <span className=\"text-gray-500\">Replacement (25+)</span>\r\n                  <span className=\"text-red-400 font-mono\">0.75 (-25%)</span>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-2\">\r\n                * Position-specific adjustments are applied on top of base multipliers\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Position Rank Calculation:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Players are ranked within their position based on projected points (descending). \r\n                The #1 RB has positionRank = 1, regardless of overall rank.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'edge':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Edge Calculation</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Edge Formula:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400\">\r\n                edge = auctionValue - marketPrice<br/>\r\n                edge% = (edge / marketValue)  100\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Understanding Edge Values:</h4>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between bg-green-900/30 rounded p-3\">\r\n                  <span className=\"text-green-400\">Edge  $20</span>\r\n                  <span className=\"text-gray-300\">Exceptional value - priority target</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-green-900/20 rounded p-3\">\r\n                  <span className=\"text-green-300\">Edge $10-19</span>\r\n                  <span className=\"text-gray-300\">Strong value - recommended</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-yellow-900/20 rounded p-3\">\r\n                  <span className=\"text-yellow-400\">Edge $5-9</span>\r\n                  <span className=\"text-gray-300\">Good value - consider</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-gray-800 rounded p-3\">\r\n                  <span className=\"text-gray-400\">Edge $0-4</span>\r\n                  <span className=\"text-gray-300\">Fair value - market price</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-orange-900/20 rounded p-3\">\r\n                  <span className=\"text-orange-400\">Edge -$5 to -$1</span>\r\n                  <span className=\"text-gray-300\">Slight overpay - be cautious</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-red-900/20 rounded p-3\">\r\n                  <span className=\"text-red-400\">Edge &lt; -$5</span>\r\n                  <span className=\"text-gray-300\">Significant overpay - avoid</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Market Price Source:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Market prices come from actual Average Auction Values (AAV) in the ESPN_AAV column \r\n                from adp1_2025.csv. If no AAV data exists, we estimate conservatively: \r\n                <code className=\"text-green-400\">min(2, max(1, round(auctionValue  0.5)))</code>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'confidence':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Confidence Score</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Confidence Calculation:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400 text-sm\">\r\n                baseFactor = min(1, numSources / 3)<br/>\r\n                agreementFactor = based on coefficient of variation<br/>\r\n                confidence = baseFactor  0.5 + agreementFactor<br/>\r\n                final = min(0.95, max(0.3, confidence))\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Agreement Factors (Coefficient of Variation):</h4>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between bg-green-900/30 rounded p-3\">\r\n                  <span className=\"text-green-400\">CV &lt; 0.1</span>\r\n                  <span className=\"text-gray-300\">Very high agreement (+0.4)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-green-900/20 rounded p-3\">\r\n                  <span className=\"text-green-300\">CV 0.1-0.2</span>\r\n                  <span className=\"text-gray-300\">High agreement (+0.3)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-yellow-900/20 rounded p-3\">\r\n                  <span className=\"text-yellow-400\">CV 0.2-0.3</span>\r\n                  <span className=\"text-gray-300\">Moderate agreement (+0.2)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-orange-900/20 rounded p-3\">\r\n                  <span className=\"text-orange-400\">CV 0.3-0.5</span>\r\n                  <span className=\"text-gray-300\">Low agreement (+0.1)</span>\r\n                </div>\r\n                <div className=\"flex justify-between bg-red-900/20 rounded p-3\">\r\n                  <span className=\"text-red-400\">CV &gt; 0.5</span>\r\n                  <span className=\"text-gray-300\">Poor agreement (+0.0)</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">What Confidence Means:</h4>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                Higher confidence (0.8+) means projection sources agree closely. Lower confidence (0.3-0.6) \r\n                indicates disagreement between sources or limited data. Use confidence to gauge risk when \r\n                making draft decisions.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'ranges':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Bid Range Calculations</h3>\r\n            \r\n            <div className=\"bg-gray-800 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Bid Range Formulas:</h4>\r\n              <code className=\"block bg-gray-900 p-3 rounded text-green-400\">\r\n                maxBid = Math.max(1, Math.round(auctionValue  1.15))<br/>\r\n                targetBid = auctionValue<br/>\r\n                minBid = Math.max(1, Math.round(auctionValue  0.85))\r\n              </code>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"font-semibold text-gray-300\">Understanding Bid Ranges:</h4>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <span className=\"text-green-400 font-semibold\">Max Bid</span>\r\n                    <span className=\"text-gray-400\">Up to 15% over value</span>\r\n                  </div>\r\n                  <p className=\"text-gray-500 text-sm\">\r\n                    The absolute maximum you should pay. Going beyond this significantly overpays \r\n                    relative to the player's projected contribution.\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <span className=\"text-blue-400 font-semibold\">Target Bid</span>\r\n                    <span className=\"text-gray-400\">Fair auction value</span>\r\n                  </div>\r\n                  <p className=\"text-gray-500 text-sm\">\r\n                    The calculated fair value based on VORP and market adjustments. Aim to get \r\n                    players at or below this price.\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <span className=\"text-yellow-400 font-semibold\">Min Bid</span>\r\n                    <span className=\"text-gray-400\">15% under value</span>\r\n                  </div>\r\n                  <p className=\"text-gray-500 text-sm\">\r\n                    The bargain threshold. Getting a player at this price represents excellent \r\n                    value and should be prioritized.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Floor/Ceiling Points:</h4>\r\n              <code className=\"block bg-gray-900 p-2 rounded text-green-400 text-sm mb-2\">\r\n                floorPoints = projectedPoints  0.75<br/>\r\n                ceilingPoints = projectedPoints  1.25\r\n              </code>\r\n              <p className=\"text-gray-400 text-sm\">\r\n                If not provided by data sources, we estimate floor at 75% and ceiling at 125% \r\n                of projected points to represent reasonable variance ranges.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'data':\r\n        return (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Data Processing Pipeline</h3>\r\n            \r\n            <div className=\"space-y-3\">\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-blue-400 mb-2\">1. ETL Pipeline (Python)</h4>\r\n                <p className=\"text-gray-400 text-sm mb-2\">robust_loader.py  artifacts/clean_data/</p>\r\n                <ul className=\"text-gray-500 text-sm space-y-1\">\r\n                  <li> Validates and cleans canonical data</li>\r\n                  <li> Removes duplicates</li>\r\n                  <li> Handles nulls and validates types</li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-blue-400 mb-2\">2. Data Loading (TypeScript)</h4>\r\n                <p className=\"text-gray-400 text-sm mb-2\">cleanDataLoader.ts</p>\r\n                <ul className=\"text-gray-500 text-sm space-y-1\">\r\n                  <li> Loads CSV files from clean_data/</li>\r\n                  <li> Applies team code mappings (ARZARI, BLTBAL)</li>\r\n                  <li> Builds SOS lookup from sos_2025.csv</li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-blue-400 mb-2\">3. Aggregation & Normalization</h4>\r\n                <p className=\"text-gray-400 text-sm mb-2\">projectionAggregator.ts & playerResolver.ts</p>\r\n                <ul className=\"text-gray-500 text-sm space-y-1\">\r\n                  <li> Weights multiple projection sources</li>\r\n                  <li> Normalizes player names across sources</li>\r\n                  <li> Handles DST variations (\"Bills D/ST\" vs \"Buffalo DST\")</li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h4 className=\"font-semibold text-blue-400 mb-2\">4. Valuation Calculation</h4>\r\n                <p className=\"text-gray-400 text-sm mb-2\">calibratedValuationModel.ts</p>\r\n                <ul className=\"text-gray-500 text-sm space-y-1\">\r\n                  <li> Calculates VORP for each player</li>\r\n                  <li> Applies market and tier adjustments</li>\r\n                  <li> Generates auction values and bid ranges</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4\">\r\n              <h4 className=\"font-semibold text-blue-400 mb-2\">Impact Chain:</h4>\r\n              <div className=\"text-gray-400 text-sm space-y-1\">\r\n                <div>Projected Points (aggregated)</div>\r\n                <div className=\"ml-4\"></div>\r\n                <div>VORP (points - replacement)</div>\r\n                <div className=\"ml-4\"></div>\r\n                <div>Auction Value (VORP share  budget)</div>\r\n                <div className=\"ml-4\"></div>\r\n                <div>Max/Target/Min Bids</div>\r\n                <div className=\"ml-4\"></div>\r\n                <div>Edge (value vs market)</div>\r\n                <div className=\"ml-4\"></div>\r\n                <div>Tier (based on position rank)</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-700\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Calculator className=\"w-6 h-6 text-blue-400\" />\r\n            <h2 className=\"text-2xl font-bold text-white\">Methodology</h2>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-white transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex overflow-x-auto border-b border-gray-700 px-6\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 px-4 py-3 border-b-2 transition-all whitespace-nowrap ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-400 text-blue-400'\r\n                    : 'border-transparent text-gray-400 hover:text-white'\r\n                }`}\r\n              >\r\n                <Icon className=\"w-4 h-4\" />\r\n                <span className=\"text-sm font-medium\">{tab.label}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {renderTabContent()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalculationsExplainerModal;","/**\r\n * Configuration Service\r\n * Loads and manages all configuration settings from CSV files\r\n * Allows runtime updates to valuation model parameters\r\n */\r\n\r\nimport Papa from 'papaparse';\r\nimport { logger } from './utils/logger';\r\nimport { parseCSV, safeParseFloat, safeParseInt, safeParseString } from './utils/csvParsingUtils';\r\n\r\nexport interface LeagueSettings {\r\n  numTeams: number;\r\n  auctionBudget: number;\r\n  rosterSize: number;\r\n  benchSpots: number;\r\n  regularSeasonWeeks: number;\r\n  playoffWeeks: number;\r\n  starters: {\r\n    QB: number;\r\n    RB: number;\r\n    WR: number;\r\n    TE: number;\r\n    FLEX: number;\r\n    DST: number;\r\n    K: number;\r\n  };\r\n  rosterLimits: {\r\n    QB: number;\r\n    RB: number;\r\n    WR: number;\r\n    TE: number;\r\n    DST: number;\r\n    K: number;\r\n  };\r\n  minBid: number;\r\n}\r\n\r\nexport interface ScoringSystem {\r\n  passing: {\r\n    yards: number;\r\n    touchdowns: number;\r\n    interceptions: number;\r\n  };\r\n  rushing: {\r\n    yards: number;\r\n    touchdowns: number;\r\n    attempts: number;\r\n  };\r\n  receiving: {\r\n    receptions: number;\r\n    yards: number;\r\n    touchdowns: number;\r\n    targets: number;\r\n  };\r\n  misc: {\r\n    twoPointConversions: number;\r\n    fumblesLost: number;\r\n    fumbleRecoveryTd: number;\r\n  };\r\n}\r\n\r\nexport interface ReplacementLevels {\r\n  QB: number;\r\n  RB: number;\r\n  WR: number;\r\n  TE: number;\r\n  DST: number;\r\n  K: number;\r\n}\r\n\r\nexport interface MarketAdjustments {\r\n  QB: number;\r\n  RB: number;\r\n  WR: number;\r\n  TE: number;\r\n  DST: number;\r\n  K: number;\r\n}\r\n\r\nexport interface TierMultiplier {\r\n  name: string;\r\n  rankStart: number;\r\n  rankEnd: number;\r\n  multiplier: number;\r\n}\r\n\r\nexport interface ProjectionWeight {\r\n  source: string;\r\n  weight: number;\r\n  enabled: boolean;\r\n}\r\n\r\nexport interface BudgetAllocation {\r\n  position: string;\r\n  minPercent: number;\r\n  maxPercent: number;\r\n  targetPercent: number;\r\n}\r\n\r\nexport interface BidRanges {\r\n  maxBidMultiplier: number;\r\n  targetBidMultiplier: number;\r\n  minBidMultiplier: number;\r\n  aggressiveMax: number;\r\n  aggressiveMin: number;\r\n  conservativeMax: number;\r\n  conservativeMin: number;\r\n}\r\n\r\nexport interface ConfigurationData {\r\n  leagueSettings: LeagueSettings;\r\n  scoringSystem: ScoringSystem;\r\n  replacementLevels: ReplacementLevels;\r\n  marketAdjustments: MarketAdjustments;\r\n  tierMultipliers: TierMultiplier[];\r\n  projectionWeights: ProjectionWeight[];\r\n  budgetAllocations: BudgetAllocation[];\r\n  bidRanges: BidRanges;\r\n}\r\n\r\nexport class ConfigurationService {\r\n  private static instance: ConfigurationService;\r\n  private config: ConfigurationData | null = null;\r\n  private readonly CONFIG_PATH = '/canonical_data/config';\r\n  \r\n  private constructor() {}\r\n  \r\n  public static getInstance(): ConfigurationService {\r\n    if (!ConfigurationService.instance) {\r\n      ConfigurationService.instance = new ConfigurationService();\r\n    }\r\n    return ConfigurationService.instance;\r\n  }\r\n  \r\n  /**\r\n   * Load all configuration files\r\n   */\r\n  public async loadConfiguration(): Promise<ConfigurationData> {\r\n    try {\r\n      logger.info('Loading configuration files...');\r\n      \r\n      const [\r\n        leagueSettings,\r\n        scoringSystem,\r\n        replacementLevels,\r\n        marketAdjustments,\r\n        tierMultipliers,\r\n        projectionWeights,\r\n        budgetAllocations,\r\n        bidRanges\r\n      ] = await Promise.all([\r\n        this.loadLeagueSettings(),\r\n        this.loadScoringSystem(),\r\n        this.loadReplacementLevels(),\r\n        this.loadMarketAdjustments(),\r\n        this.loadTierMultipliers(),\r\n        this.loadProjectionWeights(),\r\n        this.loadBudgetAllocations(),\r\n        this.loadBidRanges()\r\n      ]);\r\n      \r\n      this.config = {\r\n        leagueSettings,\r\n        scoringSystem,\r\n        replacementLevels,\r\n        marketAdjustments,\r\n        tierMultipliers,\r\n        projectionWeights,\r\n        budgetAllocations,\r\n        bidRanges\r\n      };\r\n      \r\n      logger.info('Configuration loaded successfully');\r\n      return this.config;\r\n      \r\n    } catch (error) {\r\n      logger.error('Failed to load configuration:', error);\r\n      // Return default configuration if files not found\r\n      return this.getDefaultConfiguration();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Get current configuration\r\n   */\r\n  public getConfiguration(): ConfigurationData {\r\n    if (!this.config) {\r\n      return this.getDefaultConfiguration();\r\n    }\r\n    return this.config;\r\n  }\r\n  \r\n  /**\r\n   * Update configuration (for UI updates)\r\n   */\r\n  public updateConfiguration(updates: Partial<ConfigurationData>): ConfigurationData {\r\n    this.config = {\r\n      ...this.config!,\r\n      ...updates\r\n    };\r\n    \r\n    // Trigger recalculation event\r\n    window.dispatchEvent(new CustomEvent('configurationUpdated', { \r\n      detail: this.config \r\n    }));\r\n    \r\n    return this.config;\r\n  }\r\n  \r\n  /**\r\n   * Export configuration to JSON\r\n   */\r\n  public exportConfiguration(): string {\r\n    return JSON.stringify(this.config, null, 2);\r\n  }\r\n  \r\n  /**\r\n   * Import configuration from JSON\r\n   */\r\n  public importConfiguration(jsonString: string): ConfigurationData {\r\n    try {\r\n      const imported = JSON.parse(jsonString);\r\n      this.config = imported;\r\n      \r\n      // Trigger recalculation\r\n      window.dispatchEvent(new CustomEvent('configurationUpdated', { \r\n        detail: this.config \r\n      }));\r\n      \r\n      return this.config;\r\n    } catch (error) {\r\n      logger.error('Failed to import configuration:', error);\r\n      throw new Error('Invalid configuration format');\r\n    }\r\n  }\r\n  \r\n  // Private loading methods\r\n  \r\n  private async loadLeagueSettings(): Promise<LeagueSettings> {\r\n    const data = await this.loadCSV('league_settings.csv');\r\n    \r\n    const settings: any = {};\r\n    data.forEach((row: any) => {\r\n      const value = parseFloat(row.value);\r\n      \r\n      switch(row.setting_category) {\r\n        case 'league_structure':\r\n          if (row.setting_name === 'num_teams') settings.numTeams = value;\r\n          if (row.setting_name === 'auction_budget') settings.auctionBudget = value;\r\n          if (row.setting_name === 'roster_size') settings.rosterSize = value;\r\n          if (row.setting_name === 'bench_spots') settings.benchSpots = value;\r\n          if (row.setting_name === 'regular_season_weeks') settings.regularSeasonWeeks = value;\r\n          if (row.setting_name === 'playoff_weeks') settings.playoffWeeks = value;\r\n          break;\r\n        case 'starting_lineup':\r\n          if (!settings.starters) settings.starters = {};\r\n          const pos = row.setting_name.replace('_starters', '').toUpperCase();\r\n          settings.starters[pos === 'FLEX' ? 'FLEX' : pos] = value;\r\n          break;\r\n        case 'roster_limits':\r\n          if (!settings.rosterLimits) settings.rosterLimits = {};\r\n          const limitPos = row.setting_name.replace('max_', '').toUpperCase();\r\n          settings.rosterLimits[limitPos] = value;\r\n          break;\r\n        case 'minimum_bid':\r\n          settings.minBid = value;\r\n          break;\r\n      }\r\n    });\r\n    \r\n    return settings as LeagueSettings;\r\n  }\r\n  \r\n  private async loadScoringSystem(): Promise<ScoringSystem> {\r\n    const data = await this.loadCSV('scoring_system.csv');\r\n    \r\n    const scoring: any = {\r\n      passing: {},\r\n      rushing: {},\r\n      receiving: {},\r\n      misc: {}\r\n    };\r\n    \r\n    data.forEach((row: any) => {\r\n      const value = parseFloat(row.points_value);\r\n      \r\n      switch(row.category) {\r\n        case 'passing':\r\n          if (row.stat_name === 'passing_yards') scoring.passing.yards = value;\r\n          if (row.stat_name === 'passing_touchdowns') scoring.passing.touchdowns = value;\r\n          if (row.stat_name === 'interceptions') scoring.passing.interceptions = value;\r\n          break;\r\n        case 'rushing':\r\n          if (row.stat_name === 'rushing_yards') scoring.rushing.yards = value;\r\n          if (row.stat_name === 'rushing_touchdowns') scoring.rushing.touchdowns = value;\r\n          if (row.stat_name === 'rushing_attempts') scoring.rushing.attempts = value;\r\n          break;\r\n        case 'receiving':\r\n          if (row.stat_name === 'receptions') scoring.receiving.receptions = value;\r\n          if (row.stat_name === 'receiving_yards') scoring.receiving.yards = value;\r\n          if (row.stat_name === 'receiving_touchdowns') scoring.receiving.touchdowns = value;\r\n          if (row.stat_name === 'receiving_targets') scoring.receiving.targets = value;\r\n          break;\r\n        case 'misc':\r\n          if (row.stat_name === 'two_point_conversions') scoring.misc.twoPointConversions = value;\r\n          if (row.stat_name === 'fumbles_lost') scoring.misc.fumblesLost = value;\r\n          if (row.stat_name === 'fumble_recovery_td') scoring.misc.fumbleRecoveryTd = value;\r\n          break;\r\n      }\r\n    });\r\n    \r\n    return scoring as ScoringSystem;\r\n  }\r\n  \r\n  private async loadReplacementLevels(): Promise<ReplacementLevels> {\r\n    const data = await this.loadCSV('replacement_levels.csv');\r\n    \r\n    const levels: any = {};\r\n    data.forEach((row: any) => {\r\n      levels[row.position] = parseInt(row.replacement_rank);\r\n    });\r\n    \r\n    return levels as ReplacementLevels;\r\n  }\r\n  \r\n  private async loadMarketAdjustments(): Promise<MarketAdjustments> {\r\n    const data = await this.loadCSV('market_adjustments.csv');\r\n    \r\n    const adjustments: any = {};\r\n    data.forEach((row: any) => {\r\n      adjustments[row.position] = parseFloat(row.market_adjustment);\r\n    });\r\n    \r\n    return adjustments as MarketAdjustments;\r\n  }\r\n  \r\n  private async loadTierMultipliers(): Promise<TierMultiplier[]> {\r\n    const data = await this.loadCSV('tier_multipliers.csv');\r\n    \r\n    return data.map((row: any) => ({\r\n      name: row.tier_name,\r\n      rankStart: parseInt(row.rank_start),\r\n      rankEnd: parseInt(row.rank_end),\r\n      multiplier: parseFloat(row.multiplier)\r\n    }));\r\n  }\r\n  \r\n  private async loadProjectionWeights(): Promise<ProjectionWeight[]> {\r\n    const data = await this.loadCSV('projection_weights.csv');\r\n    \r\n    return data.map((row: any) => ({\r\n      source: row.source_name,\r\n      weight: parseFloat(row.weight),\r\n      enabled: row.enabled === 'true'\r\n    }));\r\n  }\r\n  \r\n  private async loadBudgetAllocations(): Promise<BudgetAllocation[]> {\r\n    const data = await this.loadCSV('budget_allocation.csv');\r\n    \r\n    return data.map((row: any) => ({\r\n      position: row.position,\r\n      minPercent: parseFloat(row.min_percent),\r\n      maxPercent: parseFloat(row.max_percent),\r\n      targetPercent: parseFloat(row.target_percent)\r\n    }));\r\n  }\r\n  \r\n  private async loadBidRanges(): Promise<BidRanges> {\r\n    const data = await this.loadCSV('bid_ranges.csv');\r\n    \r\n    const ranges: any = {};\r\n    data.forEach((row: any) => {\r\n      const value = parseFloat(row.multiplier);\r\n      \r\n      switch(row.range_type) {\r\n        case 'max_bid':\r\n          ranges.maxBidMultiplier = value;\r\n          break;\r\n        case 'target_bid':\r\n          ranges.targetBidMultiplier = value;\r\n          break;\r\n        case 'min_bid':\r\n          ranges.minBidMultiplier = value;\r\n          break;\r\n        case 'aggressive_max':\r\n          ranges.aggressiveMax = value;\r\n          break;\r\n        case 'aggressive_min':\r\n          ranges.aggressiveMin = value;\r\n          break;\r\n        case 'conservative_max':\r\n          ranges.conservativeMax = value;\r\n          break;\r\n        case 'conservative_min':\r\n          ranges.conservativeMin = value;\r\n          break;\r\n      }\r\n    });\r\n    \r\n    return ranges as BidRanges;\r\n  }\r\n  \r\n  private async loadCSV(filename: string): Promise<any[]> {\r\n    try {\r\n      const response = await fetch(`${this.CONFIG_PATH}/${filename}`);\r\n      const text = await response.text();\r\n      \r\n      const result = parseCSV(text, {\r\n        header: true,\r\n        dynamicTyping: false,\r\n        skipEmptyLines: 'greedy'\r\n      });\r\n      \r\n      return result.data;\r\n    } catch (error) {\r\n      logger.warn(`Could not load ${filename}, using defaults`);\r\n      return [];\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Get default configuration (current hardcoded values)\r\n   */\r\n  private getDefaultConfiguration(): ConfigurationData {\r\n    return {\r\n      leagueSettings: {\r\n        numTeams: 12,\r\n        auctionBudget: 200,\r\n        rosterSize: 16,\r\n        benchSpots: 7,\r\n        regularSeasonWeeks: 18,\r\n        playoffWeeks: 3,\r\n        starters: {\r\n          QB: 1,\r\n          RB: 2,\r\n          WR: 2,\r\n          TE: 1,\r\n          FLEX: 1,\r\n          DST: 1,\r\n          K: 1\r\n        },\r\n        rosterLimits: {\r\n          QB: 3,\r\n          RB: 8,\r\n          WR: 8,\r\n          TE: 3,\r\n          DST: 2,\r\n          K: 2\r\n        },\r\n        minBid: 1\r\n      },\r\n      scoringSystem: {\r\n        passing: {\r\n          yards: 0.04,\r\n          touchdowns: 4,\r\n          interceptions: -2\r\n        },\r\n        rushing: {\r\n          yards: 0.1,\r\n          touchdowns: 6,\r\n          attempts: 0\r\n        },\r\n        receiving: {\r\n          receptions: 1,\r\n          yards: 0.1,\r\n          touchdowns: 6,\r\n          targets: 0\r\n        },\r\n        misc: {\r\n          twoPointConversions: 2,\r\n          fumblesLost: -2,\r\n          fumbleRecoveryTd: 6\r\n        }\r\n      },\r\n      replacementLevels: {\r\n        QB: 15,\r\n        RB: 48,\r\n        WR: 60,\r\n        TE: 18,\r\n        DST: 14,\r\n        K: 13\r\n      },\r\n      marketAdjustments: {\r\n        QB: 0.85,\r\n        RB: 1.15,\r\n        WR: 1.00,\r\n        TE: 0.90,\r\n        DST: 0.50,\r\n        K: 0.45\r\n      },\r\n      tierMultipliers: [\r\n        { name: 'elite', rankStart: 1, rankEnd: 3, multiplier: 1.20 },\r\n        { name: 'tier1', rankStart: 4, rankEnd: 8, multiplier: 1.10 },\r\n        { name: 'tier2', rankStart: 9, rankEnd: 20, multiplier: 1.00 },\r\n        { name: 'tier3', rankStart: 21, rankEnd: 36, multiplier: 0.92 },\r\n        { name: 'tier4', rankStart: 37, rankEnd: 60, multiplier: 0.85 },\r\n        { name: 'replacement', rankStart: 61, rankEnd: 999, multiplier: 0.75 }\r\n      ],\r\n      projectionWeights: [\r\n        { source: 'fantasypros', weight: 0.40, enabled: true },\r\n        { source: 'cbs', weight: 0.35, enabled: true },\r\n        { source: 'projections_2025', weight: 0.25, enabled: true }\r\n      ],\r\n      budgetAllocations: [\r\n        { position: 'QB', minPercent: 5, maxPercent: 10, targetPercent: 7 },\r\n        { position: 'RB', minPercent: 45, maxPercent: 50, targetPercent: 48 },\r\n        { position: 'WR', minPercent: 35, maxPercent: 40, targetPercent: 37 },\r\n        { position: 'TE', minPercent: 5, maxPercent: 10, targetPercent: 7 },\r\n        { position: 'DST', minPercent: 0.5, maxPercent: 1.5, targetPercent: 1 },\r\n        { position: 'K', minPercent: 0.5, maxPercent: 1.0, targetPercent: 0.5 }\r\n      ],\r\n      bidRanges: {\r\n        maxBidMultiplier: 1.15,\r\n        targetBidMultiplier: 1.00,\r\n        minBidMultiplier: 0.85,\r\n        aggressiveMax: 1.25,\r\n        aggressiveMin: 0.90,\r\n        conservativeMax: 1.10,\r\n        conservativeMin: 0.80\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nexport const configurationService = ConfigurationService.getInstance();","import React, { useState, useEffect } from 'react';\r\nimport { \r\n  X, Settings, Save, RotateCcw, Download, Upload, \r\n  Users, Trophy, DollarSign, Target, Layers, Calculator,\r\n  AlertCircle, Check\r\n} from 'lucide-react';\r\nimport { configurationService, type ConfigurationData } from '@/lib/configurationService';\r\nimport { toast } from 'react-hot-toast';\r\n\r\ninterface SettingsModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onApply: (config: ConfigurationData) => void;\r\n}\r\n\r\nconst SettingsModal: React.FC<SettingsModalProps> = ({ isOpen, onClose, onApply }) => {\r\n  const [activeTab, setActiveTab] = useState('league');\r\n  const [config, setConfig] = useState<ConfigurationData | null>(null);\r\n  const [isDirty, setIsDirty] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      loadConfiguration();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const loadConfiguration = async () => {\r\n    const loadedConfig = await configurationService.loadConfiguration();\r\n    setConfig(loadedConfig);\r\n    setIsDirty(false);\r\n  };\r\n\r\n  const handleValueChange = (path: string[], value: any) => {\r\n    if (!config) return;\r\n    \r\n    const newConfig = { ...config };\r\n    let current: any = newConfig;\r\n    \r\n    for (let i = 0; i < path.length - 1; i++) {\r\n      current = current[path[i]];\r\n    }\r\n    \r\n    current[path[path.length - 1]] = value;\r\n    setConfig(newConfig);\r\n    setIsDirty(true);\r\n  };\r\n\r\n  const handleApply = async () => {\r\n    if (!config) return;\r\n    \r\n    setIsSaving(true);\r\n    try {\r\n      // Update the configuration service\r\n      configurationService.updateConfiguration(config);\r\n      \r\n      // Call the onApply callback to trigger recalculation\r\n      await onApply(config);\r\n      \r\n      toast.success('Settings applied successfully! Values recalculated.');\r\n      setIsDirty(false);\r\n    } catch (error) {\r\n      toast.error('Failed to apply settings');\r\n      console.error('Error applying settings:', error);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    loadConfiguration();\r\n    toast.success('Settings reset to saved values');\r\n  };\r\n\r\n  const handleExport = () => {\r\n    const json = configurationService.exportConfiguration();\r\n    const blob = new Blob([json], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'fftool_settings.json';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    toast.success('Settings exported successfully');\r\n  };\r\n\r\n  const handleImport = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const imported = configurationService.importConfiguration(e.target?.result as string);\r\n        setConfig(imported);\r\n        setIsDirty(true);\r\n        toast.success('Settings imported successfully');\r\n      } catch (error) {\r\n        toast.error('Failed to import settings');\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  if (!isOpen || !config) return null;\r\n\r\n  const tabs = [\r\n    { id: 'league', label: 'League Settings', icon: Users },\r\n    { id: 'scoring', label: 'Scoring', icon: Trophy },\r\n    { id: 'replacement', label: 'VORP Levels', icon: Target },\r\n    { id: 'market', label: 'Market Adjustments', icon: DollarSign },\r\n    { id: 'tiers', label: 'Tier Values', icon: Layers },\r\n    { id: 'projections', label: 'Projections', icon: Calculator },\r\n    { id: 'bidding', label: 'Bid Ranges', icon: Target },\r\n  ];\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'league':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            {/* League Structure */}\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">League Structure</h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Number of Teams</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.leagueSettings.numTeams}\r\n                    onChange={(e) => handleValueChange(['leagueSettings', 'numTeams'], parseInt(e.target.value))}\r\n                    min=\"8\"\r\n                    max=\"16\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Auction Budget</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.leagueSettings.auctionBudget}\r\n                    onChange={(e) => handleValueChange(['leagueSettings', 'auctionBudget'], parseInt(e.target.value))}\r\n                    min=\"100\"\r\n                    max=\"500\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Roster Size</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.leagueSettings.rosterSize}\r\n                    onChange={(e) => handleValueChange(['leagueSettings', 'rosterSize'], parseInt(e.target.value))}\r\n                    min=\"12\"\r\n                    max=\"20\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Bench Spots</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.leagueSettings.benchSpots}\r\n                    onChange={(e) => handleValueChange(['leagueSettings', 'benchSpots'], parseInt(e.target.value))}\r\n                    min=\"5\"\r\n                    max=\"10\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Starting Lineup */}\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Starting Lineup</h3>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                {Object.entries(config.leagueSettings.starters).map(([position, count]) => (\r\n                  <div key={position}>\r\n                    <label className=\"block text-sm text-gray-400 mb-1\">{position}</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={count}\r\n                      onChange={(e) => handleValueChange(['leagueSettings', 'starters', position], parseInt(e.target.value))}\r\n                      min=\"0\"\r\n                      max=\"4\"\r\n                      className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'scoring':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertCircle className=\"w-5 h-5 text-yellow-400 mt-0.5\" />\r\n                <p className=\"text-sm text-yellow-200\">\r\n                  Scoring system changes affect player valuations. Apply changes to recalculate all values.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Passing */}\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Passing</h3>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Yards (per yard)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.passing.yards}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'passing', 'yards'], parseFloat(e.target.value))}\r\n                    step=\"0.01\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">1pt/25yds = 0.04</span>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Touchdowns</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.passing.touchdowns}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'passing', 'touchdowns'], parseInt(e.target.value))}\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Interceptions</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.passing.interceptions}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'passing', 'interceptions'], parseInt(e.target.value))}\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Rushing */}\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Rushing</h3>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Yards (per yard)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.rushing.yards}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'rushing', 'yards'], parseFloat(e.target.value))}\r\n                    step=\"0.01\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">1pt/10yds = 0.1</span>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Touchdowns</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.rushing.touchdowns}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'rushing', 'touchdowns'], parseInt(e.target.value))}\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Receiving */}\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Receiving</h3>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Receptions (PPR)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.receiving.receptions}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'receiving', 'receptions'], parseFloat(e.target.value))}\r\n                    step=\"0.5\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">1=PPR, 0.5=Half, 0=Standard</span>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Yards (per yard)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.receiving.yards}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'receiving', 'yards'], parseFloat(e.target.value))}\r\n                    step=\"0.01\"\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">1pt/10yds = 0.1</span>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-400 mb-1\">Touchdowns</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={config.scoringSystem.receiving.touchdowns}\r\n                    onChange={(e) => handleValueChange(['scoringSystem', 'receiving', 'touchdowns'], parseInt(e.target.value))}\r\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'replacement':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-blue-900/20 border border-blue-600/30 rounded-lg p-4\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertCircle className=\"w-5 h-5 text-blue-400 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm text-blue-200 mb-2\">\r\n                    VORP (Value Over Replacement Player) is the foundation of player valuation.\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-400\">\r\n                    Lower replacement ranks = fewer valuable players = higher scarcity value\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Replacement Level by Position</h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                {Object.entries(config.replacementLevels).map(([position, rank]) => (\r\n                  <div key={position} className=\"bg-gray-800 rounded-lg p-4\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                      <label className=\"text-sm font-medium text-white\">{position}</label>\r\n                      <span className=\"text-xs text-gray-400\">Rank #{rank}</span>\r\n                    </div>\r\n                    <input\r\n                      type=\"range\"\r\n                      value={rank}\r\n                      onChange={(e) => handleValueChange(['replacementLevels', position], parseInt(e.target.value))}\r\n                      min={position === 'QB' ? 12 : position === 'RB' ? 36 : position === 'WR' ? 48 : 12}\r\n                      max={position === 'QB' ? 24 : position === 'RB' ? 60 : position === 'WR' ? 72 : 24}\r\n                      className=\"w-full\"\r\n                    />\r\n                    <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                      <span>More Scarce</span>\r\n                      <span>Less Scarce</span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'market':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-green-900/20 border border-green-600/30 rounded-lg p-4\">\r\n              <div className=\"flex items-start gap-2\">\r\n                <AlertCircle className=\"w-5 h-5 text-green-400 mt-0.5\" />\r\n                <p className=\"text-sm text-green-200\">\r\n                  Market adjustments reflect how actual auctions differ from pure VORP calculations.\r\n                  RBs typically go for more, while QBs and DSTs go for less than their VORP suggests.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Position Market Adjustments</h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                {Object.entries(config.marketAdjustments).map(([position, adjustment]) => {\r\n                  const percentage = ((adjustment - 1) * 100).toFixed(0);\r\n                  const isPositive = adjustment > 1;\r\n                  const isNeutral = Math.abs(adjustment - 1) < 0.01;\r\n                  \r\n                  return (\r\n                    <div key={position} className=\"bg-gray-800 rounded-lg p-4\">\r\n                      <div className=\"flex justify-between items-center mb-2\">\r\n                        <label className=\"text-sm font-medium text-white\">{position}</label>\r\n                        <span className={`text-sm font-mono ${\r\n                          isNeutral ? 'text-gray-400' : \r\n                          isPositive ? 'text-green-400' : 'text-red-400'\r\n                        }`}>\r\n                          {isPositive && '+'}{percentage}%\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        type=\"range\"\r\n                        value={adjustment}\r\n                        onChange={(e) => handleValueChange(['marketAdjustments', position], parseFloat(e.target.value))}\r\n                        min=\"0.3\"\r\n                        max=\"1.3\"\r\n                        step=\"0.05\"\r\n                        className=\"w-full\"\r\n                      />\r\n                      <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                        <span>-70%</span>\r\n                        <span>Fair Value</span>\r\n                        <span>+30%</span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'tiers':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Tier Value Multipliers</h3>\r\n              {config.tierMultipliers.map((tier, index) => (\r\n                <div key={tier.name} className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"grid grid-cols-4 gap-4 items-center\">\r\n                    <div>\r\n                      <label className=\"text-sm text-gray-400\">Tier Name</label>\r\n                      <p className=\"text-white font-medium capitalize\">{tier.name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"text-sm text-gray-400\">Ranks</label>\r\n                      <p className=\"text-white\">{tier.rankStart}-{tier.rankEnd}</p>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"text-sm text-gray-400\">Multiplier</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={tier.multiplier}\r\n                        onChange={(e) => {\r\n                          const newTiers = [...config.tierMultipliers];\r\n                          newTiers[index].multiplier = parseFloat(e.target.value);\r\n                          handleValueChange(['tierMultipliers'], newTiers);\r\n                        }}\r\n                        step=\"0.05\"\r\n                        min=\"0.5\"\r\n                        max=\"1.5\"\r\n                        className=\"w-full bg-gray-700 text-white px-2 py-1 rounded\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <span className={`text-sm font-mono ${\r\n                        tier.multiplier > 1 ? 'text-green-400' : \r\n                        tier.multiplier < 1 ? 'text-red-400' : 'text-gray-400'\r\n                      }`}>\r\n                        {tier.multiplier > 1 ? '+' : ''}{((tier.multiplier - 1) * 100).toFixed(0)}%\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'projections':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Projection Source Weights</h3>\r\n              {config.projectionWeights\r\n                .filter(w => w.enabled)\r\n                .map((weight, index) => (\r\n                <div key={weight.source} className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <label className=\"text-sm font-medium text-white capitalize\">\r\n                      {weight.source.replace('_', ' ')}\r\n                    </label>\r\n                    <span className=\"text-sm font-mono text-blue-400\">\r\n                      {(weight.weight * 100).toFixed(0)}%\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"range\"\r\n                    value={weight.weight}\r\n                    onChange={(e) => {\r\n                      const newWeights = [...config.projectionWeights];\r\n                      const enabledIndex = config.projectionWeights.findIndex(w => w.source === weight.source);\r\n                      newWeights[enabledIndex].weight = parseFloat(e.target.value);\r\n                      \r\n                      // Normalize weights to sum to 1\r\n                      const totalWeight = newWeights\r\n                        .filter(w => w.enabled)\r\n                        .reduce((sum, w) => sum + w.weight, 0);\r\n                      \r\n                      if (totalWeight > 0) {\r\n                        newWeights.forEach(w => {\r\n                          if (w.enabled) {\r\n                            w.weight = w.weight / totalWeight;\r\n                          }\r\n                        });\r\n                      }\r\n                      \r\n                      handleValueChange(['projectionWeights'], newWeights);\r\n                    }}\r\n                    min=\"0\"\r\n                    max=\"1\"\r\n                    step=\"0.05\"\r\n                    className=\"w-full\"\r\n                  />\r\n                </div>\r\n              ))}\r\n              \r\n              <div className=\"bg-blue-900/20 border border-blue-600/30 rounded-lg p-3\">\r\n                <p className=\"text-xs text-blue-200\">\r\n                  Weights are automatically normalized to sum to 100%\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'bidding':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold text-white\">Bid Range Settings</h3>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <label className=\"block text-sm text-gray-400 mb-2\">Maximum Bid</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={(config.bidRanges.maxBidMultiplier * 100).toFixed(0)}\r\n                    onChange={(e) => handleValueChange(['bidRanges', 'maxBidMultiplier'], parseFloat(e.target.value) / 100)}\r\n                    className=\"w-full bg-gray-700 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">% of calculated value</span>\r\n                </div>\r\n                \r\n                <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                  <label className=\"block text-sm text-gray-400 mb-2\">Minimum Bid</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={(config.bidRanges.minBidMultiplier * 100).toFixed(0)}\r\n                    onChange={(e) => handleValueChange(['bidRanges', 'minBidMultiplier'], parseFloat(e.target.value) / 100)}\r\n                    className=\"w-full bg-gray-700 text-white px-3 py-2 rounded-lg\"\r\n                  />\r\n                  <span className=\"text-xs text-gray-500\">% of calculated value</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-800 rounded-lg p-4\">\r\n                <h4 className=\"text-sm font-medium text-white mb-3\">Strategy Presets</h4>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      handleValueChange(['bidRanges', 'maxBidMultiplier'], 1.25);\r\n                      handleValueChange(['bidRanges', 'minBidMultiplier'], 0.90);\r\n                    }}\r\n                    className=\"px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm\"\r\n                  >\r\n                    Aggressive\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleValueChange(['bidRanges', 'maxBidMultiplier'], 1.15);\r\n                      handleValueChange(['bidRanges', 'minBidMultiplier'], 0.85);\r\n                    }}\r\n                    className=\"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm\"\r\n                  >\r\n                    Balanced\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleValueChange(['bidRanges', 'maxBidMultiplier'], 1.10);\r\n                      handleValueChange(['bidRanges', 'minBidMultiplier'], 0.80);\r\n                    }}\r\n                    className=\"px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg text-sm\"\r\n                  >\r\n                    Conservative\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleValueChange(['bidRanges', 'maxBidMultiplier'], 1.05);\r\n                      handleValueChange(['bidRanges', 'minBidMultiplier'], 0.75);\r\n                    }}\r\n                    className=\"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm\"\r\n                  >\r\n                    Value Hunter\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-5xl max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-700\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Settings className=\"w-6 h-6 text-blue-400\" />\r\n            <h2 className=\"text-2xl font-bold text-white\">Valuation Settings</h2>\r\n            {isDirty && (\r\n              <span className=\"text-sm text-yellow-400 bg-yellow-900/30 px-2 py-1 rounded\">\r\n                Unsaved Changes\r\n              </span>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-white transition-colors\"\r\n          >\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex overflow-x-auto border-b border-gray-700 px-6\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 px-4 py-3 border-b-2 transition-all whitespace-nowrap ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-400 text-blue-400'\r\n                    : 'border-transparent text-gray-400 hover:text-white'\r\n                }`}\r\n              >\r\n                <Icon className=\"w-4 h-4\" />\r\n                <span className=\"text-sm font-medium\">{tab.label}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {renderTabContent()}\r\n        </div>\r\n\r\n        {/* Footer Actions */}\r\n        <div className=\"flex items-center justify-between p-6 border-t border-gray-700\">\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleExport}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              Export\r\n            </button>\r\n            <label className=\"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors cursor-pointer\">\r\n              <Upload className=\"w-4 h-4\" />\r\n              Import\r\n              <input\r\n                type=\"file\"\r\n                accept=\".json\"\r\n                onChange={handleImport}\r\n                className=\"hidden\"\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleReset}\r\n              disabled={!isDirty}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${\r\n                isDirty \r\n                  ? 'bg-gray-700 hover:bg-gray-600 text-white' \r\n                  : 'bg-gray-800 text-gray-500 cursor-not-allowed'\r\n              }`}\r\n            >\r\n              <RotateCcw className=\"w-4 h-4\" />\r\n              Reset\r\n            </button>\r\n            <button\r\n              onClick={handleApply}\r\n              disabled={!isDirty || isSaving}\r\n              className={`flex items-center gap-2 px-6 py-2 rounded-lg transition-colors ${\r\n                isDirty && !isSaving\r\n                  ? 'bg-blue-600 hover:bg-blue-700 text-white' \r\n                  : 'bg-gray-800 text-gray-500 cursor-not-allowed'\r\n              }`}\r\n            >\r\n              {isSaving ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-t-2 border-white\"></div>\r\n                  Applying...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Check className=\"w-4 h-4\" />\r\n                  Apply Changes\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsModal;","import React, { useState } from 'react';\r\nimport { Users, Edit2, Check, X } from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\n\r\nconst OtherTeamsRosters: React.FC = () => {\r\n  const { teams, myTeamId, updateTeamName } = useDraftStore();\r\n  const [editingTeamId, setEditingTeamId] = useState<string | null>(null);\r\n  const [editingName, setEditingName] = useState<string>('');\r\n  \r\n  // Get all teams except My Team\r\n  const otherTeams = teams.filter(team => team.id !== myTeamId);\r\n  \r\n  // Position colors\r\n  const getPositionColor = (position: string) => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'text-red-400',\r\n      RB: 'text-green-400',\r\n      WR: 'text-blue-400',\r\n      TE: 'text-orange-400',\r\n      DST: 'text-purple-400',\r\n      K: 'text-yellow-400'\r\n    };\r\n    return colors[position] || 'text-gray-400';\r\n  };\r\n  \r\n  const handleStartEdit = (teamId: string, currentName: string) => {\r\n    setEditingTeamId(teamId);\r\n    setEditingName(currentName);\r\n  };\r\n  \r\n  const handleSaveEdit = () => {\r\n    if (editingTeamId && editingName.trim()) {\r\n      updateTeamName(editingTeamId, editingName.trim());\r\n    }\r\n    setEditingTeamId(null);\r\n    setEditingName('');\r\n  };\r\n  \r\n  const handleCancelEdit = () => {\r\n    setEditingTeamId(null);\r\n    setEditingName('');\r\n  };\r\n  \r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-gray-900 rounded-lg p-4 border border-gray-700\">\r\n        <h2 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n          <Users className=\"w-5 h-5 text-blue-400\" />\r\n          Other Teams\r\n        </h2>\r\n        \r\n        <div className=\"space-y-3 max-h-[calc(100vh-150px)] overflow-y-auto\">\r\n          {otherTeams.map(team => (\r\n            <div key={team.id} className=\"bg-gray-800 rounded-lg p-3\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  {editingTeamId === team.id ? (\r\n                    <>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingName}\r\n                        onChange={(e) => setEditingName(e.target.value)}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === 'Enter') handleSaveEdit();\r\n                          if (e.key === 'Escape') handleCancelEdit();\r\n                        }}\r\n                        className=\"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm\"\r\n                        autoFocus\r\n                      />\r\n                      <button\r\n                        onClick={handleSaveEdit}\r\n                        className=\"text-green-400 hover:text-green-300\"\r\n                      >\r\n                        <Check className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={handleCancelEdit}\r\n                        className=\"text-red-400 hover:text-red-300\"\r\n                      >\r\n                        <X className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <h3 className=\"font-semibold text-white\">{team.name}</h3>\r\n                      <button\r\n                        onClick={() => handleStartEdit(team.id, team.name)}\r\n                        className=\"text-gray-400 hover:text-white\"\r\n                      >\r\n                        <Edit2 className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                <div className=\"text-sm\">\r\n                  <span className=\"text-gray-400\">Spent: </span>\r\n                  <span className=\"text-green-400 font-semibold\">${team.spent}</span>\r\n                  <span className=\"text-gray-400\"> / ${team.budget}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              {team.roster.length === 0 ? (\r\n                <p className=\"text-gray-500 text-sm italic\">No players drafted</p>\r\n              ) : (\r\n                <div className=\"space-y-1\">\r\n                  {team.roster.map((pick, idx) => (\r\n                    <div key={idx} className=\"flex justify-between items-center text-sm\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className={`font-medium ${getPositionColor(pick.player.position)}`}>\r\n                          {pick.player.position}\r\n                        </span>\r\n                        <span className=\"text-gray-300 truncate max-w-[150px]\">\r\n                          {pick.player.name}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"text-gray-400\">${pick.price || 0}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"mt-2 pt-2 border-t border-gray-700 flex justify-between text-xs\">\r\n                <span className=\"text-gray-400\">\r\n                  Players: {team.roster.length}/16\r\n                </span>\r\n                <span className=\"text-gray-400\">\r\n                  Remaining: ${team.budget - team.spent}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OtherTeamsRosters;","import React, { useMemo, useState } from 'react';\r\nimport { Gavel, TrendingUp, AlertTriangle, Target, Brain, DollarSign, Users, Clock } from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\n\r\ninterface NominationStrategyProps {\r\n  valuations: ValuationResult[];\r\n}\r\n\r\nconst NominationStrategy: React.FC<NominationStrategyProps> = ({ valuations }) => {\r\n  const { draftHistory, teams, myTeamId } = useDraftStore();\r\n  const [strategyMode, setStrategyMode] = useState<'aggressive' | 'balanced' | 'value'>('balanced');\r\n  \r\n  // Calculate draft phase based on picks made\r\n  const draftPhase = useMemo(() => {\r\n    const totalPicks = draftHistory.length;\r\n    const teamCount = teams.length || 12; // Default to 12 teams if not initialized\r\n    const totalRosterSpots = teamCount * 16; // 16 players per team\r\n    const percentComplete = totalRosterSpots > 0 ? (totalPicks / totalRosterSpots) * 100 : 0;\r\n    \r\n    if (percentComplete < 25) return 'early';\r\n    if (percentComplete < 75) return 'mid';\r\n    return 'late';\r\n  }, [draftHistory, teams]);\r\n  \r\n  // Filter out drafted players\r\n  const draftedIds = useMemo(() => \r\n    new Set(draftHistory.map(pick => pick.player?.id)), \r\n    [draftHistory]\r\n  );\r\n  \r\n  const availableValuations = useMemo(() => \r\n    valuations.filter(p => !draftedIds.has(p.playerId)),\r\n    [valuations, draftedIds]\r\n  );\r\n  \r\n  // Calculate team budgets\r\n  const teamBudgets = useMemo(() => {\r\n    const budgets = new Map<string, number>();\r\n    teams.forEach(team => {\r\n      const spent = draftHistory\r\n        .filter(pick => pick.team === team.id)\r\n        .reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n      budgets.set(team.id, 200 - spent); // $200 starting budget\r\n    });\r\n    return budgets;\r\n  }, [teams, draftHistory]);\r\n  \r\n  // Get other teams' average remaining budget\r\n  const avgOpponentBudget = useMemo(() => {\r\n    let total = 0;\r\n    let count = 0;\r\n    teamBudgets.forEach((budget, teamId) => {\r\n      if (teamId !== myTeamId) {\r\n        total += budget;\r\n        count++;\r\n      }\r\n    });\r\n    return count > 0 ? Math.round(total / count) : 0;\r\n  }, [teamBudgets, myTeamId]);\r\n  \r\n  // Get my team's roster composition\r\n  const myRoster = useMemo(() => {\r\n    const roster = draftHistory\r\n      .filter(pick => pick.team === myTeamId)\r\n      .map(pick => pick.player);\r\n    \r\n    const positions: Record<string, number> = {\r\n      QB: 0, RB: 0, WR: 0, TE: 0, DST: 0, K: 0\r\n    };\r\n    \r\n    roster.forEach(player => {\r\n      if (player && positions[player.position] !== undefined) {\r\n        positions[player.position]++;\r\n      }\r\n    });\r\n    \r\n    return positions;\r\n  }, [draftHistory, myTeamId]);\r\n  \r\n  // Identify position scarcity\r\n  const positionScarcity = useMemo(() => {\r\n    const scarcity: Record<string, { remaining: number; tier1Remaining: number }> = {};\r\n    const positions = ['QB', 'RB', 'WR', 'TE'];\r\n    \r\n    positions.forEach(pos => {\r\n      const available = availableValuations.filter(p => p.position === pos);\r\n      const tier1 = available.filter(p => p.tier === 'elite' || p.tier === 'tier1');\r\n      scarcity[pos] = {\r\n        remaining: available.length,\r\n        tier1Remaining: tier1.length\r\n      };\r\n    });\r\n    \r\n    return scarcity;\r\n  }, [availableValuations]);\r\n  \r\n  // Generate nomination suggestions based on strategy\r\n  const nominationSuggestions = useMemo(() => {\r\n    const suggestions: {\r\n      player: ValuationResult;\r\n      reason: string;\r\n      priority: 'high' | 'medium' | 'low';\r\n      type: 'trap' | 'value' | 'scarcity' | 'handcuff';\r\n    }[] = [];\r\n    \r\n    // Always provide suggestions, even at draft start\r\n    if (availableValuations.length === 0) return suggestions;\r\n    \r\n    // Apply strategy mode modifiers\r\n    if (strategyMode === 'aggressive') {\r\n      // Focus on expensive players and creating bidding wars\r\n      const expensivePlayers = availableValuations\r\n        .filter(p => p.auctionValue >= 25)\r\n        .sort((a, b) => b.auctionValue - a.auctionValue)\r\n        .slice(0, 3);\r\n      \r\n      expensivePlayers.forEach(player => {\r\n        suggestions.push({\r\n          player,\r\n          reason: `High-value ${player.position} to force spending`,\r\n          priority: 'high',\r\n          type: 'trap'\r\n        });\r\n      });\r\n    } else if (strategyMode === 'value') {\r\n      // Focus on undervalued players\r\n      const valuePlayers = availableValuations\r\n        .filter(p => p.edge >= 5)\r\n        .sort((a, b) => b.edge - a.edge)\r\n        .slice(0, 3);\r\n      \r\n      valuePlayers.forEach(player => {\r\n        suggestions.push({\r\n          player,\r\n          reason: `Undervalued by $${Math.round(player.edge)}`,\r\n          priority: 'high',\r\n          type: 'value'\r\n        });\r\n      });\r\n    }\r\n    \r\n    // Original draft phase logic (now combined with strategy mode)\r\n    if (draftPhase === 'early' || strategyMode === 'balanced') {\r\n      // Nominate expensive players you don't want\r\n      const expensivePlayers = availableValuations\r\n        .filter(p => p.auctionValue >= 30)\r\n        .sort((a, b) => b.auctionValue - a.auctionValue)\r\n        .slice(0, 3);\r\n      \r\n      expensivePlayers.forEach(player => {\r\n        // Check if it's a position we don't need\r\n        const positionFilled = myRoster[player.position] >= (player.position === 'QB' || player.position === 'TE' ? 1 : 2);\r\n        if (positionFilled || player.edge < -5) {\r\n          suggestions.push({\r\n            player,\r\n            reason: `Expensive ${player.position} to drain budgets`,\r\n            priority: 'high',\r\n            type: 'trap'\r\n          });\r\n        }\r\n      });\r\n      \r\n      // Nominate overvalued players (negative edge)\r\n      const overvalued = availableValuations\r\n        .filter(p => p.edge < -10 && p.auctionValue >= 15)\r\n        .sort((a, b) => a.edge - b.edge)\r\n        .slice(0, 2);\r\n      \r\n      overvalued.forEach(player => {\r\n        suggestions.push({\r\n          player,\r\n          reason: `Overvalued by market ($${Math.abs(player.edge)} above fair value)`,\r\n          priority: 'high',\r\n          type: 'trap'\r\n        });\r\n      });\r\n    } else if (draftPhase === 'mid') {\r\n      // Check for position runs\r\n      ['RB', 'WR'].forEach(pos => {\r\n        if (positionScarcity[pos].tier1Remaining <= 3 && positionScarcity[pos].tier1Remaining > 0) {\r\n          const lastElite = availableValuations\r\n            .filter(p => p.position === pos && (p.tier === 'elite' || p.tier === 'tier1'))\r\n            .sort((a, b) => b.auctionValue - a.auctionValue)[0];\r\n          \r\n          if (lastElite && myRoster[pos] >= 2) {\r\n            suggestions.push({\r\n              player: lastElite,\r\n              reason: `Last elite ${pos} - will trigger bidding war`,\r\n              priority: 'high',\r\n              type: 'scarcity'\r\n            });\r\n          }\r\n        }\r\n      });\r\n      \r\n      // Nominate mid-tier players at positions you're set at\r\n      const filledPositions = Object.entries(myRoster)\r\n        .filter(([pos, count]) => {\r\n          if (pos === 'QB' || pos === 'TE') return count >= 1;\r\n          if (pos === 'RB' || pos === 'WR') return count >= 3;\r\n          return false;\r\n        })\r\n        .map(([pos]) => pos);\r\n      \r\n      filledPositions.forEach(pos => {\r\n        const midTier = availableValuations\r\n          .filter(p => p.position === pos && p.auctionValue >= 10 && p.auctionValue <= 25)\r\n          .sort((a, b) => b.auctionValue - a.auctionValue)\r\n          .slice(0, 2);\r\n        \r\n        midTier.forEach(player => {\r\n          suggestions.push({\r\n            player,\r\n            reason: `Mid-tier ${pos} (position already filled)`,\r\n            priority: 'medium',\r\n            type: 'trap'\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      // Late draft - nominate players you want\r\n      const values = availableValuations\r\n        .filter(p => p.edge >= 5 && p.auctionValue <= 10)\r\n        .sort((a, b) => b.edge - a.edge)\r\n        .slice(0, 5);\r\n      \r\n      values.forEach(player => {\r\n        suggestions.push({\r\n          player,\r\n          reason: `High value target (+$${player.edge} edge)`,\r\n          priority: 'high',\r\n          type: 'value'\r\n        });\r\n      });\r\n      \r\n      // Nominate handcuffs if you have the starter\r\n      const myRBs = draftHistory\r\n        .filter(pick => pick.team === myTeamId && pick.player?.position === 'RB')\r\n        .map(pick => pick.player);\r\n      \r\n      // This is simplified - in reality you'd have a handcuff mapping\r\n      const handcuffs = availableValuations\r\n        .filter(p => p.position === 'RB' && p.auctionValue <= 5)\r\n        .slice(0, 2);\r\n      \r\n      handcuffs.forEach(player => {\r\n        suggestions.push({\r\n          player,\r\n          reason: 'Potential handcuff/lottery ticket',\r\n          priority: 'low',\r\n          type: 'handcuff'\r\n        });\r\n      });\r\n    }\r\n    \r\n    return suggestions.slice(0, 5); // Return top 5 suggestions\r\n  }, [availableValuations, draftPhase, myRoster, positionScarcity, draftHistory, myTeamId, strategyMode]);\r\n  \r\n  const getStrategyDescription = () => {\r\n    switch (draftPhase) {\r\n      case 'early':\r\n        return 'Nominate expensive players you DON\\'T want to drain opponent budgets';\r\n      case 'mid':\r\n        return 'Target position scarcity and create bidding wars';\r\n      case 'late':\r\n        return 'Nominate your value targets and sleepers';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n  \r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'high': return 'text-red-400';\r\n      case 'medium': return 'text-yellow-400';\r\n      case 'low': return 'text-gray-400';\r\n      default: return 'text-gray-400';\r\n    }\r\n  };\r\n  \r\n  const getTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'trap': return <AlertTriangle className=\"w-3 h-3 text-red-400\" />;\r\n      case 'value': return <TrendingUp className=\"w-3 h-3 text-green-400\" />;\r\n      case 'scarcity': return <Clock className=\"w-3 h-3 text-yellow-400\" />;\r\n      case 'handcuff': return <Target className=\"w-3 h-3 text-blue-400\" />;\r\n      default: return null;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bg-gray-900 rounded-lg p-4 border border-gray-700\">\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n          <Gavel className=\"w-5 h-5 text-purple-400\" />\r\n          Nomination Strategy\r\n        </h2>\r\n        <span className={`text-xs px-2 py-1 rounded ${\r\n          draftPhase === 'early' ? 'bg-blue-900 text-blue-300' :\r\n          draftPhase === 'mid' ? 'bg-yellow-900 text-yellow-300' :\r\n          'bg-green-900 text-green-300'\r\n        }`}>\r\n          {draftPhase.toUpperCase()}\r\n        </span>\r\n      </div>\r\n      \r\n      {/* Strategy Mode Selector */}\r\n      <div className=\"flex gap-1 mb-3\">\r\n        {(['aggressive', 'balanced', 'value'] as const).map(mode => (\r\n          <button\r\n            key={mode}\r\n            onClick={() => setStrategyMode(mode)}\r\n            className={`flex-1 px-2 py-1 text-xs rounded ${\r\n              strategyMode === mode\r\n                ? 'bg-purple-600 text-white'\r\n                : 'bg-gray-800 text-gray-400 hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            {mode.charAt(0).toUpperCase() + mode.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* Current Strategy */}\r\n      <div className=\"bg-gray-800 rounded p-2 mb-3\">\r\n        <div className=\"flex items-center gap-2 mb-1\">\r\n          <Brain className=\"w-4 h-4 text-purple-400\" />\r\n          <span className=\"text-xs font-semibold text-purple-400\">Current Strategy</span>\r\n        </div>\r\n        <p className=\"text-xs text-gray-300\">{getStrategyDescription()}</p>\r\n      </div>\r\n      \r\n      {/* Budget Status */}\r\n      <div className=\"grid grid-cols-2 gap-2 mb-3\">\r\n        <div className=\"bg-gray-800 rounded p-2\">\r\n          <div className=\"flex items-center gap-1 mb-1\">\r\n            <DollarSign className=\"w-3 h-3 text-green-400\" />\r\n            <span className=\"text-xs text-gray-400\">My Budget</span>\r\n          </div>\r\n          <span className=\"text-sm font-bold text-green-400\">\r\n            ${teamBudgets.get(myTeamId) || 0}\r\n          </span>\r\n        </div>\r\n        <div className=\"bg-gray-800 rounded p-2\">\r\n          <div className=\"flex items-center gap-1 mb-1\">\r\n            <Users className=\"w-3 h-3 text-yellow-400\" />\r\n            <span className=\"text-xs text-gray-400\">Avg Opp</span>\r\n          </div>\r\n          <span className=\"text-sm font-bold text-yellow-400\">\r\n            ${avgOpponentBudget}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Position Scarcity Alert */}\r\n      {Object.entries(positionScarcity).some(([_, data]) => data.tier1Remaining <= 2 && data.tier1Remaining > 0) && (\r\n        <div className=\"bg-red-900/20 border border-red-500/30 rounded p-2 mb-3\">\r\n          <div className=\"flex items-center gap-2 mb-1\">\r\n            <AlertTriangle className=\"w-4 h-4 text-red-400\" />\r\n            <span className=\"text-xs font-semibold text-red-400\">Position Scarcity Alert</span>\r\n          </div>\r\n          <div className=\"text-xs text-red-300\">\r\n            {Object.entries(positionScarcity)\r\n              .filter(([_, data]) => data.tier1Remaining <= 2 && data.tier1Remaining > 0)\r\n              .map(([pos, data]) => `${pos}: ${data.tier1Remaining} elite left`)\r\n              .join(', ')}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Nomination Suggestions */}\r\n      <div className=\"space-y-2\">\r\n        <div className=\"text-xs font-semibold text-gray-300 mb-1\">Suggested Nominations:</div>\r\n        {nominationSuggestions.length === 0 ? (\r\n          <p className=\"text-xs text-gray-500 italic\">No suggestions available</p>\r\n        ) : (\r\n          nominationSuggestions.map((suggestion, idx) => (\r\n            <div key={idx} className=\"bg-gray-800 rounded p-2\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  {getTypeIcon(suggestion.type)}\r\n                  <span className=\"text-sm font-medium text-white\">\r\n                    {suggestion.player.playerName}\r\n                  </span>\r\n                  <span className=\"text-xs text-gray-400\">\r\n                    {suggestion.player.position} - ${suggestion.player.auctionValue}\r\n                  </span>\r\n                </div>\r\n                <span className={`text-xs ${getPriorityColor(suggestion.priority)}`}>\r\n                  {suggestion.priority === 'high' ? '!' : \r\n                   suggestion.priority === 'medium' ? '!!' : '!!!'}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-xs text-gray-400\">{suggestion.reason}</p>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NominationStrategy;","/**\r\n * Enhanced Fantasy Football Auction Tool with Calibrated Valuation Model\r\n * Features comprehensive UI with dark theme and professional aesthetics\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Toaster, toast } from 'react-hot-toast';\r\nimport { \r\n  AlertTriangle,\r\n  RefreshCw,\r\n  Calculator,\r\n  Settings,\r\n  Zap\r\n} from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport { dataService } from '@/lib/dataService';\r\nimport { calibratedValuationService, type ValuationResult, type ValuationSummary } from '@/lib/calibratedValuationService';\r\nimport { DataIntegrityChecker } from '@/lib/dataIntegrityChecker';\r\nimport { dynamicValuationService, type DraftContext } from '@/lib/dynamicValuationService';\r\n\r\n// Import components\r\nimport TeamRoster from '@/components/TeamRoster';\r\nimport DraftHistory from '@/components/DraftHistory';\r\nimport MarketTrackerCalibrated from '@/components/MarketTrackerCalibrated';\r\nimport BudgetAllocator from '@/components/BudgetAllocator';\r\nimport CompactDashboardPanel from '@/components/CompactDashboardPanel';\r\nimport PlayerDataTable from '@/components/PlayerDataTable';\r\nimport CalculationsExplainerModal from '@/components/CalculationsExplainerModal';\r\nimport SettingsModal from '@/components/SettingsModal';\r\nimport OtherTeamsRosters from '@/components/OtherTeamsRosters';\r\nimport NominationStrategy from '@/components/NominationStrategy';\r\n\r\nfunction AppCalibrated() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [dataError, setDataError] = useState<string | null>(null);\r\n  const [valuations, setValuations] = useState<ValuationResult[]>([]);\r\n  const [baseValuations, setBaseValuations] = useState<ValuationResult[]>([]); // Store original values\r\n  const [summary, setSummary] = useState<ValuationSummary | null>(null);\r\n  const [showCalculationsModal, setShowCalculationsModal] = useState(false);\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n  const [isDynamicMode, setIsDynamicMode] = useState(false); // Start in static mode for testing\r\n  const [integrityStatus, setIntegrityStatus] = useState<{\r\n    checked: boolean;\r\n    passed: boolean;\r\n    message: string;\r\n  }>({ checked: false, passed: false, message: 'Checking...' });\r\n\r\n  const { \r\n    isDraftActive,\r\n    initializeDraft,\r\n    updatePlayerValuations,\r\n    draftHistory,\r\n    myTeamId,\r\n    teams\r\n  } = useDraftStore();\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  // Update valuations when draft progresses or dynamic mode changes\r\n  useEffect(() => {\r\n    console.log('[Valuation Update Trigger]', {\r\n      baseValuationsCount: baseValuations.length,\r\n      isDynamicMode,\r\n      draftHistoryLength: draftHistory.length,\r\n      loading,\r\n      teamsLength: teams.length\r\n    });\r\n    \r\n    if (!baseValuations.length || loading) {\r\n      console.log('[Valuation Update] Skipping - no base valuations or loading');\r\n      return;\r\n    }\r\n    \r\n    // Toggle dynamic mode in service\r\n    dynamicValuationService.setDynamicMode(isDynamicMode);\r\n    \r\n    if (isDynamicMode) {\r\n      console.log('[Dynamic Mode Active] Building context...', {\r\n        teamsLength: teams.length,\r\n        draftHistoryLength: draftHistory.length\r\n      });\r\n      // Build draft context even if no picks yet\r\n      const draftedIds = new Set(draftHistory.map(pick => pick.player?.id).filter(Boolean));\r\n      \r\n      // Use 12 teams as default if draft not initialized\r\n      const teamCount = teams.length || 12;\r\n      \r\n      // Calculate money spent and remaining\r\n      const totalBudget = teamCount * 200;\r\n      const moneySpent = draftHistory.reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n      const moneyRemaining = totalBudget - moneySpent;\r\n      \r\n      // Calculate positions filled and needed\r\n      const positionsFilled: Record<string, number> = {};\r\n      const positionsNeeded: Record<string, number> = {\r\n        QB: teamCount * 1,\r\n        RB: teamCount * 3,\r\n        WR: teamCount * 3,\r\n        TE: teamCount * 1,\r\n        DST: teamCount * 1,\r\n        K: teamCount * 1\r\n      };\r\n      \r\n      draftHistory.forEach(pick => {\r\n        if (pick.player?.position) {\r\n          positionsFilled[pick.player.position] = (positionsFilled[pick.player.position] || 0) + 1;\r\n          positionsNeeded[pick.player.position] = Math.max(0, (positionsNeeded[pick.player.position] || 0) - 1);\r\n        }\r\n      });\r\n      \r\n      // Build team budgets (use defaults if no teams initialized)\r\n      const teamBudgets = new Map<string, number>();\r\n      if (teams.length > 0) {\r\n        teams.forEach(team => {\r\n          const spent = draftHistory\r\n            .filter(pick => pick.team === team.id)\r\n            .reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n          teamBudgets.set(team.id, 200 - spent);\r\n        });\r\n      } else {\r\n        // Default: all teams have full budget\r\n        for (let i = 0; i < teamCount; i++) {\r\n          teamBudgets.set(`team_${i}`, 200);\r\n        }\r\n      }\r\n      \r\n      // Get recent picks for trend analysis\r\n      const recentPicks = draftHistory.slice(-5).map(pick => {\r\n        const valuation = baseValuations.find(v => v.playerId === pick.player?.id);\r\n        return {\r\n          playerId: pick.player?.id || '',\r\n          actualPrice: pick.price || 0,\r\n          expectedPrice: valuation?.auctionValue || pick.price || 0,\r\n          position: pick.player?.position || ''\r\n        };\r\n      });\r\n      \r\n      const context: DraftContext = {\r\n        totalBudget,\r\n        moneySpent,\r\n        moneyRemaining,\r\n        playersPickedCount: draftHistory.length,\r\n        playersRemainingCount: (teamCount * 16) - draftHistory.length,\r\n        positionsFilled,\r\n        positionsNeeded,\r\n        recentPicks,\r\n        teamBudgets\r\n      };\r\n      \r\n      // Get dynamic valuations (will apply adjustments if picks exist)\r\n      console.log('[Before getDynamicValuations]', {\r\n        contextMoneyRemaining: context.moneyRemaining,\r\n        contextPlayersRemaining: context.playersRemainingCount,\r\n        draftedIdsSize: draftedIds.size,\r\n        isDynamicMode: dynamicValuationService.isDynamic()\r\n      });\r\n      \r\n      const dynamicVals = dynamicValuationService.getDynamicValuations(context, draftedIds);\r\n      \r\n      // Debug: Log a sample player's value change\r\n      if (dynamicVals.length > 0 && baseValuations.length > 0) {\r\n        const samplePlayer = dynamicVals.find(p => p.playerName === 'Bijan Robinson') || dynamicVals[0];\r\n        const basePlayer = baseValuations.find(p => p.playerId === samplePlayer.playerId);\r\n        console.log('[Dynamic Values Update]', {\r\n          player: samplePlayer.playerName,\r\n          baseValue: basePlayer?.value || basePlayer?.auctionValue,\r\n          dynamicValue: samplePlayer.value || samplePlayer.auctionValue,\r\n          samplePlayerObject: samplePlayer,\r\n          inflation: context.moneyRemaining > 0 ? (context.moneyRemaining / (dynamicVals.length * 10)).toFixed(2) : 0,\r\n          draftedCount: draftedIds.size\r\n        });\r\n      } else {\r\n        console.log('[Dynamic Values Update] No values to compare', {\r\n          dynamicValsLength: dynamicVals.length,\r\n          baseValuationsLength: baseValuations.length\r\n        });\r\n      }\r\n      \r\n      // Quick check: Are values actually different?\r\n      if (draftHistory.length > 0 && dynamicVals.length > 0) {\r\n        const firstPlayer = dynamicVals[0];\r\n        const baseFirst = baseValuations[0];\r\n        console.log('[Value Comparison]', {\r\n          playerName: firstPlayer.playerName,\r\n          baseValue: baseFirst.value,\r\n          dynamicValue: firstPlayer.value,\r\n          isDifferent: baseFirst.value !== firstPlayer.value\r\n        });\r\n      }\r\n      \r\n      // Check if values actually changed\r\n      const samplePlayer = dynamicVals[0];\r\n      const baseSample = baseValuations[0];\r\n      console.log('[Dynamic Values Set]', {\r\n        playerName: samplePlayer?.playerName,\r\n        dynamicValue: samplePlayer?.value,\r\n        baseValue: baseSample?.value,\r\n        changed: samplePlayer?.value !== baseSample?.value\r\n      });\r\n      \r\n      setValuations(dynamicVals);\r\n      updatePlayerValuations(dynamicVals as any);\r\n    } else {\r\n      console.log('[Static Mode] Using base valuations');\r\n      const baseSample = baseValuations[0];\r\n      console.log('[Static Values Set]', {\r\n        playerName: baseSample?.playerName,\r\n        value: baseSample?.value\r\n      });\r\n      // Use base valuations in static mode\r\n      setValuations(baseValuations);\r\n      updatePlayerValuations(baseValuations as any);\r\n    }\r\n  }, [isDynamicMode, draftHistory, baseValuations, teams, loading, updatePlayerValuations]);\r\n\r\n  useEffect(() => {\r\n    // Initialize draft automatically after component mounts\r\n    if (!isDraftActive && !loading) {\r\n      try {\r\n        initializeDraft({\r\n          teams: 12,\r\n          budget: 200,\r\n          scoring: 'PPR',\r\n          rosterPositions: [\r\n            { position: 'QB', required: 1 },\r\n            { position: 'RB', required: 2 },\r\n            { position: 'WR', required: 2 },\r\n            { position: 'TE', required: 1 },\r\n            { position: 'FLEX', required: 1 },\r\n            { position: 'DST', required: 1 },\r\n            { position: 'K', required: 1 },\r\n            { position: 'BE', required: 7 }\r\n          ]\r\n        });\r\n      } catch (error) {\r\n        console.error('Failed to initialize draft:', error);\r\n      }\r\n    }\r\n  }, [isDraftActive, loading]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('[AppCalibrated] Loading data...');\r\n      \r\n      const data = await dataService.getData();\r\n      \r\n      // Debug: Check teams in raw projections\r\n      const uniqueProjectionTeams = new Set(data.projections.map((p: any) => p.team).filter(Boolean));\r\n      console.log('[AppCalibrated] Data loaded:', {\r\n        projections: data.projections.length,\r\n        adp: data.adpData.length,\r\n        uniqueTeamsInProjections: uniqueProjectionTeams.size,\r\n        teamsInProjections: Array.from(uniqueProjectionTeams).sort()\r\n      });\r\n      \r\n      // Debug Breece Hall\r\n      const breeceAdp = data.adpData.find((a: any) => a.name === 'Breece Hall');\r\n      if (breeceAdp) {\r\n        console.log('[DEBUG] Breece Hall ADP data from dataService:', breeceAdp);\r\n        console.log('[DEBUG] Breece Hall auctionValue specifically:', breeceAdp.auctionValue);\r\n      }\r\n      \r\n      // Debug SOS data for specific teams\r\n      const nyjPlayers = data.projections.filter((p: any) => p.team === 'NYJ').slice(0, 2);\r\n      const sfPlayers = data.projections.filter((p: any) => p.team === 'SF').slice(0, 2);\r\n      console.log('[SOS DEBUG] NYJ players with SOS:', nyjPlayers.map((p: any) => ({ \r\n        name: p.name, \r\n        team: p.team, \r\n        teamSeasonSOS: p.teamSeasonSOS \r\n      })));\r\n      console.log('[SOS DEBUG] SF players with SOS:', sfPlayers.map((p: any) => ({ \r\n        name: p.name, \r\n        team: p.team, \r\n        teamSeasonSOS: p.teamSeasonSOS \r\n      })));\r\n      \r\n      // Process with calibrated valuation model\r\n      const { valuations: vals, summary: sum } = calibratedValuationService.processPlayers(\r\n        data.projections,\r\n        data.adpData\r\n      );\r\n      \r\n      // Debug: Check teams in valuations\r\n      const uniqueTeams = new Set(vals.map(v => v.team).filter(Boolean));\r\n      console.log('[AppCalibrated] Valuations calculated:', {\r\n        count: vals.length,\r\n        budgetPercentage: sum.budgetPercentage.toFixed(1) + '%',\r\n        uniqueTeamsCount: uniqueTeams.size,\r\n        teams: Array.from(uniqueTeams).sort()\r\n      });\r\n      \r\n      setValuations(vals);\r\n      setBaseValuations(vals); // Store base valuations\r\n      setSummary(sum);\r\n      updatePlayerValuations(vals as any);\r\n      \r\n      // Initialize dynamic valuation service\r\n      dynamicValuationService.setBaseValuations(vals);\r\n      \r\n      // Run data integrity check\r\n      const integrityResult = DataIntegrityChecker.verifyDataIntegrity(\r\n        data.projections,\r\n        vals\r\n      );\r\n      \r\n      // Integrity check completed - no forced failures\r\n      \r\n      setIntegrityStatus({\r\n        checked: true,\r\n        passed: integrityResult.passed,\r\n        message: integrityResult.passed \r\n          ? ``\r\n          : ``\r\n      });\r\n      \r\n      console.log('[Data Integrity Check]', {\r\n        passed: integrityResult.passed,\r\n        sourceTeams: integrityResult.sourceTeams.size,\r\n        renderedTeams: integrityResult.renderedTeams.size,\r\n        performanceMs: integrityResult.performanceMs.toFixed(2)\r\n      });\r\n      \r\n      toast.success('Calibrated valuations loaded successfully!');\r\n    } catch (error) {\r\n      console.error('[AppCalibrated] Error loading data:', error);\r\n      setDataError(error instanceof Error ? error.message : 'Failed to load data');\r\n      toast.error('Failed to load data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const handleSettingsApply = async () => {\r\n    // Reload data with new configuration\r\n    await loadData();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-400 mx-auto mb-4\"></div>\r\n          <h2 className=\"text-2xl font-bold text-white\">Loading</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (dataError) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-red-900 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"bg-red-900/50 border border-red-500 rounded-lg p-6 max-w-md\">\r\n          <AlertTriangle className=\"w-12 h-12 text-red-400 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Error Loading Data</h2>\r\n          <p className=\"text-red-200 mb-4\">{dataError}</p>\r\n          <button\r\n            onClick={loadData}\r\n            className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 mx-auto\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900\">\r\n      <Toaster position=\"top-right\" />\r\n      \r\n      {/* Header */}\r\n      <header className=\"bg-black/50 backdrop-blur-lg border-b border-blue-500/30 z-50 flex-shrink-0\">\r\n        <div className=\"px-6 lg:px-8 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n              FFTool\r\n            </h1>\r\n\r\n\r\n            {/* Draft Status */}\r\n            <div className=\"flex items-center gap-4\">\r\n              {/* Dynamic Mode Toggle */}\r\n              <button\r\n                onClick={() => {\r\n                  console.log('[Toggle Dynamic Mode]', {\r\n                    currentMode: isDynamicMode ? 'Dynamic' : 'Static',\r\n                    switchingTo: !isDynamicMode ? 'Dynamic' : 'Static',\r\n                    draftHistoryLength: draftHistory.length\r\n                  });\r\n                  setIsDynamicMode(!isDynamicMode);\r\n                }}\r\n                className={`px-3 py-1 rounded-lg text-sm flex items-center gap-2 transition-colors ${\r\n                  isDynamicMode \r\n                    ? 'bg-purple-600 hover:bg-purple-700 text-white' \r\n                    : 'bg-gray-700 hover:bg-gray-600 text-white'\r\n                }`}\r\n                title={isDynamicMode ? 'Dynamic valuations active' : 'Using static valuations'}\r\n              >\r\n                <Zap className=\"w-4 h-4\" />\r\n                {isDynamicMode ? 'Dynamic' : 'Static'}\r\n                {isDynamicMode && draftHistory.length > 0 && (\r\n                  <span className=\"text-xs bg-purple-800 px-1 rounded\">\r\n                    {draftHistory.length} picks\r\n                  </span>\r\n                )}\r\n              </button>\r\n              \r\n              {/* Settings Button */}\r\n              <button\r\n                onClick={() => setShowSettingsModal(true)}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2\"\r\n                title=\"Adjust valuation settings\"\r\n              >\r\n                <Settings className=\"w-4 h-4\" />\r\n                Settings\r\n              </button>\r\n              \r\n              {/* Calculations Explainer Button */}\r\n              <button\r\n                onClick={() => setShowCalculationsModal(true)}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2\"\r\n                title=\"Learn how values are calculated\"\r\n              >\r\n                <Calculator className=\"w-4 h-4\" />\r\n                Methodology\r\n              </button>\r\n              \r\n              {integrityStatus.checked && (\r\n                <div \r\n                  className={`px-3 py-1 rounded-lg border ${\r\n                    integrityStatus.passed \r\n                      ? 'bg-green-900/50 border-green-500' \r\n                      : 'bg-red-900/50 border-red-500'\r\n                  }`}\r\n                  title={integrityStatus.passed \r\n                    ? 'Data integrity verified - All teams present' \r\n                    : 'Data integrity check failed - Some teams missing'}\r\n                >\r\n                  <span className={`text-sm font-medium ${\r\n                    integrityStatus.passed ? 'text-green-400' : 'text-red-400'\r\n                  }`}>\r\n                    {integrityStatus.message}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"px-6 lg:px-8 py-6\">\r\n        {summary && (\r\n          <div className=\"flex flex-col gap-4\">\r\n            {/* Compact Dashboard Panel at Top */}\r\n            <CompactDashboardPanel\r\n              summary={summary}\r\n              valuations={valuations}\r\n              isDraftActive={isDraftActive}\r\n              onStartDraft={() => initializeDraft({\r\n                teams: 12,\r\n                budget: 200,\r\n                scoring: 'PPR',\r\n                rosterPositions: []\r\n              })}\r\n            />\r\n            \r\n            {/* Three Column Layout */}\r\n            <div className=\"grid grid-cols-12 gap-4\">\r\n              {/* Left Column - Team & Budget */}\r\n              <div className=\"col-span-12 lg:col-span-2 space-y-4\">\r\n                <TeamRoster teamId={myTeamId} />\r\n                <NominationStrategy valuations={valuations} />\r\n                <BudgetAllocator\r\n                  remainingBudget={200 - draftHistory.reduce((sum: number, pick: any) => \r\n                    pick.team === myTeamId ? sum + (pick.price || 0) : sum, 0)}\r\n                  spotsLeft={16 - draftHistory.filter((pick: any) => pick.team === myTeamId).length}\r\n                  myRoster={draftHistory\r\n                    .filter((pick: any) => pick.team === myTeamId)\r\n                    .map((p: any) => p.player)}\r\n                  valuations={valuations}\r\n                  draftHistory={draftHistory}\r\n                />\r\n              </div>\r\n              \r\n              {/* Middle Column - Player Data Table */}\r\n              <div className=\"col-span-12 lg:col-span-8\">\r\n                <PlayerDataTable\r\n                  players={valuations}\r\n                  onPlayerSelect={(player) => {\r\n                    console.log('Player selected:', player);\r\n                    // You can add modal or detail view logic here\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              {/* Right Column - Market Tracker, Draft History & Other Teams */}\r\n              <div className=\"col-span-12 lg:col-span-2 space-y-4\">\r\n                <MarketTrackerCalibrated \r\n                  valuations={valuations}\r\n                  draftHistory={draftHistory}\r\n                  onPriceUpdate={(playerId, actualPrice) => {\r\n                    // Update market prices in valuation service\r\n                    calibratedValuationService.updateMarketPrice(playerId, actualPrice);\r\n                  }}\r\n                />\r\n                <DraftHistory />\r\n                <OtherTeamsRosters />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Calculations Explainer Modal */}\r\n      <CalculationsExplainerModal \r\n        isOpen={showCalculationsModal}\r\n        onClose={() => setShowCalculationsModal(false)}\r\n      />\r\n      \r\n      {/* Settings Modal */}\r\n      <SettingsModal\r\n        isOpen={showSettingsModal}\r\n        onClose={() => setShowSettingsModal(false)}\r\n        onApply={handleSettingsApply}\r\n      />\r\n\r\n      {/* Player Detail Modal - Temporarily removed until fixed */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppCalibrated;\r\n","import React, { useState, useMemo } from 'react';\r\nimport { ChevronUp, ChevronDown, Check, Eye, Plus, Minus, X } from 'lucide-react';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport { useDraftStore } from '@/store/draftStore';\r\n\r\ninterface PlayerDataTableProps {\r\n  players: ValuationResult[];\r\n  onPlayerSelect?: (player: ValuationResult) => void;\r\n  onPlayerDraft?: (player: ValuationResult) => void;\r\n  searchQuery?: string;\r\n  onSearchChange?: (query: string) => void;\r\n}\r\n\r\ntype SortField = 'position' | 'team' | 'tier' | 'playerRank' | 'maxBid' | 'intrinsicValue' | \r\n                 'marketValue' | 'edge' | 'edgePercent' | 'vorp' | 'adp' | 'projectedPoints' | 'byeWeek' | 'sos' | 'ppr';\r\ntype SortDirection = 'asc' | 'desc';\r\n\r\nconst PlayerDataTable: React.FC<PlayerDataTableProps> = ({ \r\n  players, \r\n  onPlayerSelect,\r\n  onPlayerDraft,\r\n  searchQuery: externalSearchQuery,\r\n  onSearchChange \r\n}) => {\r\n  const { draftHistory } = useDraftStore();\r\n  const [selectedPlayers, setSelectedPlayers] = useState<Set<string>>(new Set());\r\n  const [sortField, setSortField] = useState<SortField>('adp');\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>('asc');\r\n  const [displayCount, setDisplayCount] = useState<number>(600); // Show all players by default\r\n  const [internalSearchQuery, setInternalSearchQuery] = useState<string>('');\r\n  const [positionFilter, setPositionFilter] = useState<string>('ALL');\r\n  \r\n  // Use external search if provided, otherwise use internal\r\n  const searchQuery = externalSearchQuery !== undefined ? externalSearchQuery : internalSearchQuery;\r\n  const setSearchQuery = onSearchChange || setInternalSearchQuery;\r\n  \r\n  // Debug: Log when players prop changes\r\n  React.useEffect(() => {\r\n    if (players.length > 0) {\r\n      const samplePlayer = players.find(p => p.playerName === 'Bijan Robinson') || players[0];\r\n      console.log('[PlayerDataTable] Players updated:', {\r\n        totalPlayers: players.length,\r\n        samplePlayer: samplePlayer.playerName,\r\n        sampleValue: samplePlayer.auctionValue,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n    }\r\n  }, [players]);\r\n\r\n  // Tier order for sorting (higher number = better tier)\r\n  const tierOrder: Record<string, number> = {\r\n    'elite': 5,\r\n    'tier1': 4,\r\n    'tier2': 3,\r\n    'tier3': 2,\r\n    'replacement': 1,\r\n    'repl': 1,\r\n  };\r\n\r\n  // Sorting logic\r\n  const sortedPlayers = useMemo(() => {\r\n    const sorted = [...players].sort((a, b) => {\r\n      let aValue: any = a[sortField as keyof ValuationResult];\r\n      let bValue: any = b[sortField as keyof ValuationResult];\r\n\r\n      // Special handling for certain fields\r\n      if (sortField === 'tier') {\r\n        // Convert tier names to numeric values for proper sorting\r\n        const aTier = a.tier || 'replacement';\r\n        const bTier = b.tier || 'replacement';\r\n        aValue = tierOrder[aTier] || 1;\r\n        bValue = tierOrder[bTier] || 1;\r\n      } else if (sortField === 'playerRank') {\r\n        aValue = a.rank || 999;\r\n        bValue = b.rank || 999;\r\n      } else if (sortField === 'maxBid') {\r\n        aValue = a.value || 0;\r\n        bValue = b.value || 0;\r\n      } else if (sortField === 'edgePercent') {\r\n        aValue = a.edge && a.marketValue ? (a.edge / a.marketValue) * 100 : 0;\r\n        bValue = b.edge && b.marketValue ? (b.edge / b.marketValue) * 100 : 0;\r\n      } else if (sortField === 'vorp') {\r\n        aValue = a.vbd || 0;\r\n        bValue = b.vbd || 0;\r\n      } else if (sortField === 'projectedPoints') {\r\n        aValue = a.points || 0;\r\n        bValue = b.points || 0;\r\n      } else if (sortField === 'sos') {\r\n        aValue = a.teamSeasonSOS || 0;\r\n        bValue = b.teamSeasonSOS || 0;\r\n      } else if (sortField === 'ppr') {\r\n        aValue = a.pprMetrics?.score || 0;\r\n        bValue = b.pprMetrics?.score || 0;\r\n      }\r\n\r\n      // Handle null/undefined values\r\n      if (aValue === null || aValue === undefined) aValue = 0;\r\n      if (bValue === null || bValue === undefined) bValue = 0;\r\n\r\n      // Compare\r\n      if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\r\n      if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n\r\n    return sorted;\r\n  }, [players, sortField, sortDirection]);\r\n\r\n  // Filter players by search query and position\r\n  const filteredPlayers = useMemo(() => {\r\n    let filtered = sortedPlayers;\r\n    \r\n    // Filter out drafted players\r\n    const draftedIds = new Set(draftHistory.map(pick => pick.player?.id));\r\n    filtered = filtered.filter(player => !draftedIds.has(player.playerId));\r\n    \r\n    // Apply position filter\r\n    if (positionFilter !== 'ALL') {\r\n      filtered = filtered.filter(player => player.position === positionFilter);\r\n    }\r\n    \r\n    // Apply search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase().trim();\r\n      filtered = filtered.filter(player => \r\n        player.name?.toLowerCase().includes(query) ||\r\n        player.team?.toLowerCase().includes(query) ||\r\n        player.position?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    return filtered;\r\n  }, [sortedPlayers, searchQuery, positionFilter, draftHistory]);\r\n\r\n  // Limited players to display\r\n  const displayedPlayers = useMemo(() => {\r\n    return filteredPlayers.slice(0, displayCount);\r\n  }, [filteredPlayers, displayCount]);\r\n\r\n  // Toggle sort\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection('asc');\r\n    }\r\n  };\r\n\r\n  // Toggle selection\r\n  const toggleSelection = (playerKey: string) => {\r\n    const newSelection = new Set(selectedPlayers);\r\n    if (newSelection.has(playerKey)) {\r\n      newSelection.delete(playerKey);\r\n    } else {\r\n      newSelection.add(playerKey);\r\n    }\r\n    setSelectedPlayers(newSelection);\r\n  };\r\n\r\n  // Tier label mapping\r\n  const getTierLabel = (tier?: string) => {\r\n    switch(tier) {\r\n      case 'elite': return 'S+';\r\n      case 'tier1': return 'S';\r\n      case 'tier2': return 'A';\r\n      case 'tier3': return 'B';\r\n      case 'replacement': return 'C';\r\n      case 'repl': return 'C';  // Handle abbreviated version\r\n      default: return 'C';  // Default to C for replacement level\r\n    }\r\n  };\r\n\r\n  // Color functions\r\n  const getTierColor = (tier?: string) => {\r\n    // Green = best tier, Red = worst tier\r\n    switch(tier) {\r\n      case 'elite': return 'text-green-500 font-bold';\r\n      case 'tier1': return 'text-green-400';\r\n      case 'tier2': return 'text-yellow-400';\r\n      case 'tier3': return 'text-orange-400';\r\n      default: return 'text-red-400';\r\n    }\r\n  };\r\n\r\n  const getRankColor = (rank?: number) => {\r\n    // Green = best rank (low number), Red = worst rank (high number)\r\n    if (!rank) return 'text-gray-500';\r\n    if (rank <= 10) return 'text-green-500 font-bold';\r\n    if (rank <= 30) return 'text-green-400';\r\n    if (rank <= 60) return 'text-yellow-400';\r\n    if (rank <= 100) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getValueColor = (value: number) => {\r\n    // Green = low price (cheap), Red = high price (expensive)\r\n    if (value >= 50) return 'text-red-400 font-bold';\r\n    if (value >= 30) return 'text-orange-400 font-semibold';\r\n    if (value >= 15) return 'text-yellow-400';\r\n    if (value >= 5) return 'text-green-400';\r\n    return 'text-green-500 font-bold';  // Very cheap\r\n  };\r\n\r\n  const getEdgeColor = (edge: number) => {\r\n    if (edge >= 20) return 'text-green-400 font-bold';\r\n    if (edge >= 10) return 'text-green-300 font-semibold';\r\n    if (edge >= 5) return 'text-yellow-400';\r\n    if (edge >= 0) return 'text-gray-300';\r\n    if (edge >= -5) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getEdgePercentColor = (percent: number) => {\r\n    if (percent >= 50) return 'text-green-400 font-bold';\r\n    if (percent >= 25) return 'text-green-300 font-semibold';\r\n    if (percent >= 10) return 'text-yellow-400';\r\n    if (percent >= 0) return 'text-gray-300';\r\n    if (percent >= -10) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getVorpColor = (vorp: number) => {\r\n    // Green = high VORP, Red = low VORP\r\n    if (vorp >= 100) return 'text-green-500 font-bold';\r\n    if (vorp >= 50) return 'text-green-400';\r\n    if (vorp >= 20) return 'text-yellow-400';\r\n    if (vorp >= 0) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getAdpColor = (adp?: number) => {\r\n    // Green = low ADP (early picks), Red = high ADP (late picks)\r\n    if (!adp) return 'text-gray-500';\r\n    if (adp <= 12) return 'text-green-500 font-bold';\r\n    if (adp <= 36) return 'text-green-400';\r\n    if (adp <= 72) return 'text-yellow-400';\r\n    if (adp <= 120) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getPointsColor = (points?: number) => {\r\n    // Green = high points, Red = low points\r\n    if (!points) return 'text-gray-400';\r\n    if (points >= 300) return 'text-green-500 font-bold';\r\n    if (points >= 250) return 'text-green-400';\r\n    if (points >= 200) return 'text-yellow-400';\r\n    if (points >= 150) return 'text-orange-400';\r\n    return 'text-red-400';\r\n  };\r\n\r\n  const getByeWeekColor = (bye?: number) => {\r\n    if (!bye) return 'text-gray-500';\r\n    // Optimal bye weeks in fantasy football:\r\n    // Best: Weeks 9-11 (mid-season, avoid early/late season crucial games)\r\n    // Good: Weeks 7-8, 12 (still reasonable timing)\r\n    // Moderate: Week 6, 13 (getting less ideal)\r\n    // Poor: Weeks 5, 14 (too early or too late)\r\n    // No byes: Weeks 1-4, 15-18\r\n    \r\n    if (bye >= 9 && bye <= 11) return 'text-green-500 font-semibold';  // Optimal bye weeks\r\n    if (bye === 7 || bye === 8 || bye === 12) return 'text-green-400'; // Good bye weeks\r\n    if (bye === 6 || bye === 13) return 'text-yellow-400';             // Moderate bye weeks\r\n    if (bye === 5 || bye === 14) return 'text-orange-400';             // Poor bye weeks\r\n    return 'text-red-400';  // Should not happen (weeks 1-4, 15-18 don't have byes)\r\n  };\r\n\r\n  const getSosColor = (sos?: number) => {\r\n    if (!sos && sos !== 0) return 'text-gray-500';\r\n    // SOS ranges from 0 (easiest) to 10 (hardest)\r\n    if (sos >= 8) return 'text-red-500 font-semibold';    // Very hard schedule\r\n    if (sos >= 6) return 'text-red-400';                  // Hard schedule\r\n    if (sos >= 4) return 'text-orange-400';               // Moderate-hard schedule\r\n    if (sos >= 2) return 'text-yellow-400';               // Moderate schedule\r\n    if (sos >= 1) return 'text-green-400';                // Easy schedule\r\n    return 'text-green-500 font-semibold';                // Very easy schedule (< 1)\r\n  };\r\n\r\n  const getPositionColor = (position: string) => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'text-red-400',\r\n      RB: 'text-green-400',\r\n      WR: 'text-blue-400',\r\n      TE: 'text-orange-400',\r\n      DST: 'text-purple-400',\r\n      K: 'text-yellow-400'\r\n    };\r\n    return colors[position] || 'text-gray-400';\r\n  };\r\n\r\n  // Sort icon component\r\n  const SortIcon = ({ field }: { field: SortField }) => {\r\n    if (sortField !== field) {\r\n      return <div className=\"w-4 h-4 opacity-30\"></div>;\r\n    }\r\n    return sortDirection === 'asc' \r\n      ? <ChevronUp className=\"w-4 h-4 text-blue-400\" />\r\n      : <ChevronDown className=\"w-4 h-4 text-blue-400\" />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full bg-gray-900 rounded-lg overflow-hidden\">\r\n      {/* Table wrapper with horizontal scroll and sticky header */}\r\n      <div className=\"overflow-x-auto overflow-y-hidden relative\" style={{ scrollbarWidth: 'thin' }}>\r\n        <table className=\"w-full min-w-[1200px] relative\">\r\n          <thead className=\"sticky top-0 z-30\" style={{ backgroundColor: '#1f2937', boxShadow: '0 2px 8px rgba(0,0,0,0.5)' }}>\r\n            <tr className=\"border-b border-gray-700\">\r\n              {/* Checkbox and Action columns with Position Filter */}\r\n              <th className=\"px-1 py-2 text-center\" colSpan={2} style={{ maxWidth: '80px', width: '80px' }}>\r\n                <select\r\n                  value={positionFilter}\r\n                  onChange={(e) => setPositionFilter(e.target.value)}\r\n                  className=\"w-full px-1 py-1 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200 focus:outline-none focus:border-blue-400\"\r\n                >\r\n                  <option value=\"ALL\">All</option>\r\n                  <option value=\"QB\">QB</option>\r\n                  <option value=\"RB\">RB</option>\r\n                  <option value=\"WR\">WR</option>\r\n                  <option value=\"TE\">TE</option>\r\n                  <option value=\"DST\">DST</option>\r\n                  <option value=\"K\">K</option>\r\n                </select>\r\n              </th>\r\n\r\n              {/* Name with Search - Hide if using external search */}\r\n              <th className=\"px-2 py-1 text-left text-xs font-medium min-w-[100px]\" style={{ position: 'sticky', left: 0, backgroundColor: '#1f2937', zIndex: 40 }}>\r\n                {externalSearchQuery === undefined ? (\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => setSearchQuery(e.target.value)}\r\n                      placeholder=\"Search...\"\r\n                      className=\"w-full px-2 py-1 pr-6 text-xs bg-gray-700 border border-gray-600 rounded text-gray-200 placeholder-gray-400 focus:outline-none focus:border-blue-400\"\r\n                    />\r\n                    {searchQuery && (\r\n                      <button\r\n                        onClick={() => setSearchQuery('')}\r\n                        className=\"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white\"\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"text-gray-400\">Name</span>\r\n                )}\r\n              </th>\r\n\r\n              {/* Sortable columns */}\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('position')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Pos <SortIcon field=\"position\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('team')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Team <SortIcon field=\"team\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('tier')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Tier <SortIcon field=\"tier\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('playerRank')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Rank <SortIcon field=\"playerRank\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('maxBid')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Max Bid <SortIcon field=\"maxBid\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('intrinsicValue')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Intrinsic <SortIcon field=\"intrinsicValue\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('marketValue')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Market <SortIcon field=\"marketValue\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('edge')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Edge <SortIcon field=\"edge\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('edgePercent')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Edge% <SortIcon field=\"edgePercent\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('vorp')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  VORP <SortIcon field=\"vorp\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('adp')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  ADP <SortIcon field=\"adp\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('projectedPoints')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Proj Pts <SortIcon field=\"projectedPoints\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('byeWeek')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  Bye <SortIcon field=\"byeWeek\" />\r\n                </div>\r\n              </th>\r\n\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('sos')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  SOS <SortIcon field=\"sos\" />\r\n                </div>\r\n              </th>\r\n              <th \r\n                className=\"px-2 py-2 text-center text-xs font-medium text-gray-400 cursor-pointer hover:text-white\"\r\n                onClick={() => handleSort('ppr')}\r\n              >\r\n                <div className=\"flex items-center justify-center gap-1\">\r\n                  PPR <SortIcon field=\"ppr\" />\r\n                </div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody className=\"divide-y divide-gray-800\">\r\n            {displayedPlayers.map((player, index) => {\r\n              const edge = player.edge || 0;\r\n              const marketValue = player.marketValue || 1; // Avoid division by zero\r\n              const edgePercent = marketValue > 0 ? (edge / marketValue) * 100 : 0;\r\n              \r\n              // Create a unique key using multiple fields to ensure uniqueness\r\n              const uniqueKey = player.id || `${player.name}_${player.team}_${player.position}_${index}`;\r\n\r\n              return (\r\n                <tr\r\n                  key={uniqueKey}\r\n                  className=\"hover:bg-gray-800/50 transition-colors\"\r\n                >\r\n                  {/* Checkbox */}\r\n                  <td className=\"px-1 py-1 text-center\" style={{ maxWidth: '30px', width: '30px' }}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"w-4 h-4 rounded bg-gray-700 border-gray-600\"\r\n                      checked={selectedPlayers.has(uniqueKey)}\r\n                      onChange={() => toggleSelection(uniqueKey)}\r\n                    />\r\n                  </td>\r\n\r\n                  {/* Action Button */}\r\n                  <td className=\"px-1 py-1 text-center\" style={{ maxWidth: '30px', width: '30px' }}>\r\n                    <button\r\n                      onClick={() => {\r\n                        if (onPlayerSelect) {\r\n                          onPlayerSelect(player);\r\n                        }\r\n                      }}\r\n                      className=\"p-0.5 hover:bg-gray-700 rounded transition-colors\"\r\n                      title=\"View Details\"\r\n                    >\r\n                      <Eye className=\"w-3 h-3 text-gray-400 hover:text-white\" />\r\n                    </button>\r\n                  </td>\r\n\r\n                  {/* Name */}\r\n                  <td className=\"px-2 py-1 min-w-[100px]\" style={{ position: 'sticky', left: 0, backgroundColor: '#111827', zIndex: 20 }}>\r\n                    <div style={{ color: 'white', fontWeight: '500' }} className=\"hover:text-blue-400 cursor-pointer truncate text-left\">\r\n                      {(() => {\r\n                        const displayName = player.name || player.playerName || 'Unknown';\r\n                        if (index === 0) {\r\n                          console.log('First player name rendering:', displayName);\r\n                          console.log('First player object keys:', Object.keys(player));\r\n                          console.log('First player intrinsicValue:', player.intrinsicValue);\r\n                          console.log('First player auctionValue:', player.auctionValue);\r\n                          console.log('First player marketValue:', player.marketValue);\r\n                        }\r\n                        return displayName;\r\n                      })()}\r\n                    </div>\r\n                  </td>\r\n\r\n                  {/* Position */}\r\n                  <td className=\"px-1 py-1 text-center\">\r\n                    <span className={`font-semibold ${getPositionColor(player.position)}`}>\r\n                      {player.position}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Team */}\r\n                  <td className=\"px-1 py-1 text-gray-300 text-center\">\r\n                    {(() => {\r\n                      const teamDisplay = player.team || 'FA';\r\n                      if (index === 0) {\r\n                        console.log('First player team:', player.team, 'from player:', player);\r\n                      }\r\n                      return teamDisplay;\r\n                    })()}\r\n                  </td>\r\n\r\n                  {/* Tier */}\r\n                  <td className=\"px-1 py-1 text-center\">\r\n                    <span className={getTierColor(player.tier)}>\r\n                      {getTierLabel(player.tier)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Player Rank */}\r\n                  <td className=\"px-1 py-1 text-center\">\r\n                    <span className={getRankColor(player.rank)}>\r\n                      {player.rank || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Max Bid */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className=\"text-white\">\r\n                      ${player.value || 0}\r\n                      {/* Show (D) if value is different in dynamic mode */}\r\n                      {player.dynamicValue && player.dynamicValue !== player.value && (\r\n                        <span className=\"text-xs text-purple-400 ml-1\" title=\"Dynamic adjustment applied\">\r\n                          *\r\n                        </span>\r\n                      )}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Intrinsic Value */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getValueColor(player.intrinsicValue || 0)}>\r\n                      ${(() => {\r\n                        const intrinsicVal = player.intrinsicValue || 0;\r\n                        if (player.name === 'Bijan Robinson' || player.playerName === 'Bijan Robinson') {\r\n                          console.log('[PlayerDataTable] Intrinsic value for Bijan:', intrinsicVal, 'Full player:', player);\r\n                        }\r\n                        return intrinsicVal.toFixed(0);\r\n                      })()}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Market Value */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getValueColor(player.marketValue || 0)}>\r\n                      ${player.marketValue || 0}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Edge */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getEdgeColor(edge)}>\r\n                      {edge > 0 ? '+' : ''}${Math.abs(edge).toFixed(0)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Edge% */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getEdgePercentColor(edgePercent)}>\r\n                      {edgePercent > 0 ? '+' : ''}{edgePercent.toFixed(0)}%\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* VORP */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getVorpColor(player.vbd || 0)}>\r\n                      {player.vbd?.toFixed(0) || '0'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* ADP */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getAdpColor(player.adp)}>\r\n                      {player.adp?.toFixed(1) || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Projected Points */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getPointsColor(player.points || 0)}>\r\n                      {(player.points || 0).toFixed(0)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* Bye Week */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getByeWeekColor(player.byeWeek)}>\r\n                      {player.byeWeek || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* SOS */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    <span className={getSosColor(player.teamSeasonSOS)}>\r\n                      {player.teamSeasonSOS?.toFixed(2) || '-'}\r\n                    </span>\r\n                  </td>\r\n\r\n                  {/* PPR Score */}\r\n                  <td className=\"px-2 py-1 text-center\">\r\n                    {player.pprMetrics ? (\r\n                      <div className=\"flex items-center justify-center gap-1\">\r\n                        <span \r\n                          className={`font-semibold ${player.pprMetrics.color}`}\r\n                          title={`PPR Score: ${player.pprMetrics.score.toFixed(1)}/100`}\r\n                        >\r\n                          {player.pprMetrics.score.toFixed(0)}\r\n                        </span>\r\n                        <div \r\n                          className=\"w-8 h-1.5 bg-gray-700 rounded-full overflow-hidden\"\r\n                        >\r\n                          <div \r\n                            className=\"h-full transition-all duration-300\"\r\n                            style={{ \r\n                              width: `${player.pprMetrics.score}%`,\r\n                              backgroundColor: player.pprMetrics.hexColor \r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <span className=\"text-gray-600\">-</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Show More/Less Controls */}\r\n      <div className=\"bg-gray-800 border-t border-gray-700 px-4 py-3 flex items-center justify-between\">\r\n        <div className=\"text-sm text-gray-400\">\r\n          Showing {displayedPlayers.length} of {sortedPlayers.length} players\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          {displayCount > 50 && (\r\n            <button\r\n              onClick={() => setDisplayCount(Math.max(50, displayCount - 50))}\r\n              className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg flex items-center gap-2 transition-colors\"\r\n            >\r\n              <Minus className=\"w-4 h-4\" />\r\n              Show 50 Less\r\n            </button>\r\n          )}\r\n          {displayCount < filteredPlayers.length && (\r\n            <button\r\n              onClick={() => setDisplayCount(Math.min(filteredPlayers.length, displayCount + 50))}\r\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              Show 50 More\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDataTable;","/**\r\n * Real-Time Bid Advisor Service\r\n * Provides dynamic bidding recommendations during auction drafts\r\n */\r\n\r\nimport type { ValuationResult } from './calibratedValuationService';\r\nimport type { DraftPick } from '@/store/draftStore';\r\nimport type { Player } from '@/types';\r\n\r\n// Custom Team interface for BidAdvisor that includes players array\r\ninterface BidAdvisorTeam {\r\n  id: string;\r\n  name: string;\r\n  budget: number;\r\n  players: Player[];\r\n  isUser?: boolean;\r\n  maxBid?: number;\r\n  nominations?: number;\r\n}\r\n\r\nexport interface BidRecommendation {\r\n  // Core recommendation\r\n  action: 'strong-buy' | 'consider' | 'avoid' | 'pass';\r\n  maxBid: number;\r\n  confidence: number; // 0-100\r\n  \r\n  // Detailed scoring\r\n  valueScore: number; // 0-100 - How good is the price vs intrinsic value\r\n  needScore: number;  // 0-100 - How much do you need this player\r\n  scarcityScore: number; // 0-100 - How scarce is this position/tier\r\n  budgetScore: number; // 0-100 - How well does this fit your budget\r\n  \r\n  // Context and reasoning\r\n  primaryReason: string;\r\n  warnings: string[];\r\n  opportunities: string[];\r\n  \r\n  // Market dynamics\r\n  marketInflation: number; // Current market inflation percentage\r\n  expectedFinalPrice: number; // Predicted final bid price\r\n  likelyCompetitors: string[]; // Teams likely to bid\r\n  competitorAnalysis?: CompetitorInsight[]; // Detailed competitor info\r\n  \r\n  // Strategic advice\r\n  nominationStrategy: 'nominate-early' | 'nominate-late' | 'avoid-nominating';\r\n  biddingStrategy: 'aggressive' | 'patient' | 'price-enforce' | 'avoid';\r\n  alternativePlayers: ValuationResult[]; // Similar players to consider\r\n  \r\n  // Advanced features\r\n  byeWeekImpact?: ByeWeekAnalysis;\r\n  teamStackBonus?: TeamStackInfo;\r\n  smartAlternatives?: SmartAlternative[];\r\n  \r\n  // New: Budget and Draft Progress\r\n  budgetAdvantage?: BudgetAdvantage;\r\n  draftProgress?: DraftProgress;\r\n  activeStrategy?: 'robust-rb' | 'hero-rb' | 'zero-rb' | 'balanced';\r\n  strategyPivotAlert?: string;\r\n}\r\n\r\nexport interface CompetitorInsight {\r\n  teamName: string;\r\n  remainingBudget: number;\r\n  needsPosition: boolean;\r\n  maxPossibleBid: number;\r\n  aggressionLevel: 'high' | 'medium' | 'low';\r\n}\r\n\r\nexport interface ByeWeekAnalysis {\r\n  playerByeWeek: number;\r\n  currentByeWeekCounts: Record<number, number>;\r\n  wouldCreateStack: boolean;\r\n  affectedPositions: string[];\r\n  warning?: string;\r\n}\r\n\r\nexport interface TeamStackInfo {\r\n  team: string;\r\n  existingPlayers: string[];\r\n  stackType: 'QB-WR' | 'QB-TE' | 'RB-DEF' | 'multiple' | 'none';\r\n  synergyBonus: number; // Percentage bonus to max bid\r\n  warning?: string;\r\n}\r\n\r\nexport interface SmartAlternative {\r\n  player: ValuationResult;\r\n  reasoning: string;\r\n  targetPrice: number;\r\n  availability: 'immediate' | 'likely-available' | 'risky';\r\n}\r\n\r\nexport interface BudgetAdvantage {\r\n  myBudget: number;\r\n  averageBudget: number;\r\n  advantage: number; // positive = more than avg, negative = less\r\n  percentile: number; // 0-100, where you rank\r\n  canDominate: boolean; // true if significantly more budget\r\n}\r\n\r\nexport interface DraftProgress {\r\n  totalPicks: number;\r\n  picksMade: number;\r\n  percentComplete: number;\r\n  isHalfway: boolean;\r\n  phase: 'early' | 'mid' | 'late' | 'end';\r\n}\r\n\r\nexport interface DraftContext {\r\n  myTeam: BidAdvisorTeam;\r\n  allTeams: BidAdvisorTeam[];\r\n  draftHistory: DraftPick[];\r\n  availablePlayers: ValuationResult[];\r\n  currentBid: number;\r\n  totalBudget: number;\r\n  rosterRequirements: RosterRequirements;\r\n}\r\n\r\nexport interface RosterRequirements {\r\n  QB: { min: number; max: number; optimal: number };\r\n  RB: { min: number; max: number; optimal: number };\r\n  WR: { min: number; max: number; optimal: number };\r\n  TE: { min: number; max: number; optimal: number };\r\n  DST: { min: number; max: number; optimal: number };\r\n  K: { min: number; max: number; optimal: number };\r\n  FLEX: { count: number; eligiblePositions: string[] };\r\n  BENCH: number;\r\n}\r\n\r\n// 12-team Full PPR roster requirements (16 total players)\r\n// Starters: 1 QB, 2 RB, 2 WR, 1 TE, 1 FLEX, 1 DST, 1 K = 9 starters\r\n// Bench: 7 spots\r\n// Total: 16 players\r\nconst DEFAULT_ROSTER_REQUIREMENTS: RosterRequirements = {\r\n  QB: { min: 1, max: 2, optimal: 1 },  // Only 1 QB needed\r\n  RB: { min: 2, max: 5, optimal: 5 },  // Target: 1 elite, 2 tier2, 2 value\r\n  WR: { min: 2, max: 6, optimal: 5 },  // 5 WRs to balance spending\r\n  TE: { min: 1, max: 2, optimal: 1 },  // Only 1 TE needed\r\n  DST: { min: 1, max: 1, optimal: 1 },\r\n  K: { min: 1, max: 1, optimal: 1 },\r\n  FLEX: { count: 1, eligiblePositions: ['RB', 'WR', 'TE'] },\r\n  BENCH: 7\r\n};\r\n\r\n// Robust RB Strategy Configuration for 2025 - UPDATED FOR GUIDELINES\r\nconst ROBUST_RB_CONFIG = {\r\n  enabled: true,\r\n  targetBudgetPercent: 0.55, // 50-60% on RBs per strat.md\r\n  eliteRBTarget: 1, // Target only 1 elite RB\r\n  maxEliteRBs: 1,\r\n  firstFiveRounds: 5, // Get elite RB in first 5 nomination rounds\r\n  eliteRBBudget: 50, // $45-55 for 1 elite RB\r\n  tier1RBRange: { min: 35, max: 45 }, // Tier 1 range\r\n  tier2RBRange: { min: 20, max: 30 }, // Tier 2 range for 2 RBs\r\n  inflationThreshold: 1.35, // Pivot if RBs cost 35% more than expected\r\n  totalRBTarget: 5, // Target exactly 5 RBs\r\n  totalWRTarget: 5 // Target exactly 5 WRs\r\n};\r\n\r\n// Backup Strategy Configurations\r\nconst HERO_RB_CONFIG = {\r\n  targetBudgetPercent: 0.35, // 30-40% on RBs\r\n  eliteRBTarget: 1, // Just one elite RB\r\n  maxSpendOnOne: 65, // Max $65 on single RB\r\n  pivotToWR: true // Heavy WR investment after\r\n};\r\n\r\nconst ZERO_RB_CONFIG = {\r\n  targetBudgetPercent: 0.15, // 10-20% on RBs\r\n  noEliteRBs: true,\r\n  waitUntilRound: 7, // Don't draft RBs until round 7+\r\n  loadWRs: true // Get 4+ WRs early\r\n};\r\n\r\nclass BidAdvisorService {\r\n  private rosterRequirements: RosterRequirements;\r\n  private originalValuations: Map<string, number> = new Map();\r\n  private robustRBConfig = ROBUST_RB_CONFIG;\r\n  private heroRBConfig = HERO_RB_CONFIG;\r\n  private zeroRBConfig = ZERO_RB_CONFIG;\r\n  private activeStrategy: 'robust-rb' | 'hero-rb' | 'zero-rb' | 'balanced' = 'robust-rb';\r\n  private strategyPivoted: boolean = false;\r\n\r\n  constructor() {\r\n    this.rosterRequirements = DEFAULT_ROSTER_REQUIREMENTS;\r\n  }\r\n\r\n  /**\r\n   * Generate comprehensive bid recommendation for a player\r\n   */\r\n  getRecommendation(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    currentBid: number = 0\r\n  ): BidRecommendation {\r\n    // Detect draft patterns\r\n    const isPositionRun = this.detectPositionRun(player.position, context);\r\n    const panicLevel = this.calculatePanicLevel(player.position, context);\r\n    const draftStage = this.determineDraftStage(context);\r\n    \r\n    // Calculate all scoring components\r\n    const valueScore = this.calculateValueScore(player, currentBid, context);\r\n    const needScore = this.calculateNeedScore(player, context);\r\n    const scarcityScore = this.calculateScarcityScore(player, context);\r\n    const budgetScore = this.calculateBudgetScore(player, currentBid, context);\r\n    const marketInflation = this.calculateMarketInflation(context);\r\n    \r\n    // Calculate max profitable bid with dynamic adjustments\r\n    const maxBid = this.calculateMaxBid(player, context, {\r\n      valueScore,\r\n      needScore,\r\n      scarcityScore,\r\n      budgetScore,\r\n      marketInflation\r\n    }, { isPositionRun, panicLevel, draftStage });\r\n\r\n    // Determine action with holistic roster construction\r\n    const action = this.determineAction(currentBid, maxBid, {\r\n      valueScore,\r\n      needScore,\r\n      scarcityScore,\r\n      budgetScore\r\n    }, player, context);\r\n\r\n    // Calculate confidence\r\n    const confidence = this.calculateConfidence({\r\n      valueScore,\r\n      needScore,\r\n      scarcityScore,\r\n      budgetScore\r\n    });\r\n\r\n    // Generate strategic insights\r\n    const primaryReason = this.generatePrimaryReason(player, action, {\r\n      valueScore,\r\n      needScore,\r\n      scarcityScore,\r\n      budgetScore\r\n    }, context);\r\n\r\n    const warnings = this.generateWarnings(player, context, currentBid);\r\n    const opportunities = this.generateOpportunities(player, context, currentBid);\r\n\r\n    // Predict competition\r\n    const likelyCompetitors = this.predictCompetitors(player, context);\r\n    const expectedFinalPrice = this.predictFinalPrice(player, context, marketInflation);\r\n\r\n    // Strategy recommendations\r\n    const nominationStrategy = this.determineNominationStrategy(player, context);\r\n    const biddingStrategy = this.determineBiddingStrategy(player, context, action);\r\n\r\n    // Find alternatives\r\n    const alternativePlayers = this.findAlternatives(player, context);\r\n    \r\n    // Advanced analysis\r\n    const competitorAnalysis = this.analyzeCompetitors(player, context);\r\n    const byeWeekImpact = this.analyzeByeWeekImpact(player, context);\r\n    const teamStackBonus = this.analyzeTeamStack(player, context);\r\n    const smartAlternatives = this.generateSmartAlternatives(player, context, action);\r\n    \r\n    // New: Budget advantage and draft progress\r\n    const budgetAdvantage = this.calculateBudgetAdvantage(context);\r\n    const draftProgress = this.calculateDraftProgress(context);\r\n    \r\n    // Check if strategy pivot is needed\r\n    const strategyCheck = this.checkStrategyPivot(player, context, marketInflation);\r\n    if (strategyCheck.shouldPivot) {\r\n      this.activeStrategy = strategyCheck.newStrategy;\r\n      this.strategyPivoted = true;\r\n    }\r\n\r\n    return {\r\n      action,\r\n      maxBid,\r\n      confidence,\r\n      valueScore,\r\n      needScore,\r\n      scarcityScore,\r\n      budgetScore,\r\n      primaryReason,\r\n      warnings,\r\n      opportunities,\r\n      marketInflation,\r\n      expectedFinalPrice,\r\n      likelyCompetitors,\r\n      competitorAnalysis,\r\n      nominationStrategy,\r\n      biddingStrategy,\r\n      alternativePlayers,\r\n      byeWeekImpact,\r\n      teamStackBonus,\r\n      smartAlternatives,\r\n      budgetAdvantage,\r\n      draftProgress,\r\n      activeStrategy: this.activeStrategy,\r\n      strategyPivotAlert: strategyCheck.alert\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Calculate value score (0-100)\r\n   * How good is the current price vs the player's intrinsic value?\r\n   */\r\n  private calculateValueScore(\r\n    player: ValuationResult,\r\n    currentBid: number,\r\n    context: DraftContext\r\n  ): number {\r\n    // Use actual valuation data from the player\r\n    const intrinsicValue = player.auctionValue || player.value || 1;\r\n    const marketPrice = player.marketPrice || player.marketValue || intrinsicValue;\r\n    \r\n    if (currentBid === 0) {\r\n      // No bid yet, use a starting bid\r\n      currentBid = Math.max(1, Math.floor(marketPrice * 0.5)); // Assume bidding starts at 50% of market\r\n    }\r\n\r\n    const discount = intrinsicValue - currentBid;\r\n    const discountPercent = (discount / Math.max(1, intrinsicValue)) * 100;\r\n\r\n    // Scale to 0-100 score\r\n    // >30% discount = 100, 0% = 50, -30% overpay = 0\r\n    const score = Math.max(0, Math.min(100, 50 + (discountPercent * 1.67)));\r\n    \r\n    return Math.round(score);\r\n  }\r\n\r\n  /**\r\n   * Calculate need score (0-100)\r\n   * How much does your roster need this player?\r\n   */\r\n  private calculateNeedScore(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): number {\r\n    const position = player.position;\r\n    const myRoster = context.myTeam.players || [];\r\n    \r\n    // Count current position\r\n    const currentCount = myRoster.filter(p => p.position === position).length;\r\n    const requirements = this.rosterRequirements[position as keyof RosterRequirements];\r\n    \r\n    if (!requirements || typeof requirements === 'number') {\r\n      return 50; // Default for unknown positions\r\n    }\r\n\r\n    const posReq = requirements as { min: number; max: number; optimal: number };\r\n\r\n    // Calculate base need\r\n    let score = 50;\r\n    \r\n    if (currentCount < posReq.min) {\r\n      // Critical need\r\n      score = 100;\r\n    } else if (currentCount < posReq.optimal) {\r\n      // Moderate need\r\n      score = 75 - (currentCount - posReq.min) * 10;\r\n    } else if (currentCount < posReq.max) {\r\n      // Low need\r\n      score = 40 - (currentCount - posReq.optimal) * 10;\r\n    } else {\r\n      // No need\r\n      score = 10;\r\n    }\r\n\r\n    // Adjust for tier - using actual tier data\r\n    if (player.tier === 'elite' || player.tier === 'tier1') {\r\n      score = Math.min(100, score + 20); // Always consider elite players\r\n    } else if (player.tier === 'tier2') {\r\n      score = Math.min(100, score + 10); // Boost for tier 2\r\n    }\r\n\r\n    // Adjust for flex eligibility\r\n    if (this.isFlexEligible(position) && currentCount >= posReq.optimal) {\r\n      score = Math.max(score, 40); // Still valuable for flex\r\n    }\r\n\r\n    return Math.round(score);\r\n  }\r\n\r\n  /**\r\n   * Calculate scarcity score (0-100)\r\n   * How scarce are players of this caliber at this position?\r\n   */\r\n  private calculateScarcityScore(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): number {\r\n    const position = player.position;\r\n    const tier = player.tier;\r\n    \r\n    // Find remaining players in same position and tier\r\n    const remainingInTier = context.availablePlayers.filter(\r\n      p => p.position === position && p.tier === tier\r\n    ).length;\r\n\r\n    // Find remaining starters at position\r\n    const remainingStarters = context.availablePlayers.filter(\r\n      p => p.position === position && p.projectedPoints > 0\r\n    ).length;\r\n\r\n    // Calculate tier scarcity\r\n    let tierScore = 100;\r\n    if (remainingInTier > 5) {\r\n      tierScore = 30;\r\n    } else if (remainingInTier > 3) {\r\n      tierScore = 50;\r\n    } else if (remainingInTier > 1) {\r\n      tierScore = 75;\r\n    } else if (remainingInTier === 1) {\r\n      tierScore = 100; // Last one in tier!\r\n    }\r\n\r\n    // Calculate position scarcity\r\n    const teamCount = context.allTeams.length;\r\n    const positionNeeds = this.calculateTotalPositionNeeds(position, context);\r\n    const scarcityRatio = remainingStarters / positionNeeds;\r\n\r\n    let positionScore = 50;\r\n    if (scarcityRatio < 0.5) {\r\n      positionScore = 100; // Very scarce\r\n    } else if (scarcityRatio < 1) {\r\n      positionScore = 75;\r\n    } else if (scarcityRatio < 1.5) {\r\n      positionScore = 50;\r\n    } else {\r\n      positionScore = 25; // Abundant\r\n    }\r\n\r\n    // Weight tier scarcity more for top tiers - Fixed tier comparison\r\n    const weight = (tier === 'elite' || tier === 'tier1') ? 0.7 : 0.4;\r\n    const score = tierScore * weight + positionScore * (1 - weight);\r\n\r\n    return Math.round(score);\r\n  }\r\n\r\n  /**\r\n   * Calculate budget score (0-100)\r\n   * How well does this purchase fit your remaining budget?\r\n   */\r\n  private calculateBudgetScore(\r\n    player: ValuationResult,\r\n    currentBid: number,\r\n    context: DraftContext\r\n  ): number {\r\n    const remainingBudget = context.myTeam.budget || 200;\r\n    const remainingRosterSpots = this.calculateRemainingRosterSpots(context.myTeam);\r\n    \r\n    // Need to save $1 per remaining spot\r\n    const maxSpend = remainingBudget - remainingRosterSpots + 1;\r\n    \r\n    if (currentBid > maxSpend) {\r\n      return 0; // Can't afford\r\n    }\r\n\r\n    // Calculate budget allocation\r\n    const percentOfBudget = (currentBid / remainingBudget) * 100;\r\n    const spotsToFill = remainingRosterSpots;\r\n    const avgPerSpot = remainingBudget / spotsToFill;\r\n\r\n    // Score based on budget efficiency\r\n    let score = 50;\r\n    \r\n    if (currentBid < avgPerSpot * 0.5) {\r\n      score = 100; // Great value\r\n    } else if (currentBid < avgPerSpot) {\r\n      score = 75; // Good value\r\n    } else if (currentBid < avgPerSpot * 1.5) {\r\n      score = 50; // Fair value\r\n    } else if (currentBid < avgPerSpot * 2) {\r\n      score = 25; // Expensive but manageable\r\n    } else {\r\n      score = 10; // Very expensive\r\n    }\r\n\r\n    // Adjust for player quality - Fixed tier comparison\r\n    if (player.tier === 'elite' || player.tier === 'tier1') {\r\n      score = Math.min(100, score + 15); // More willing to spend on elite\r\n    }\r\n\r\n    return Math.round(score);\r\n  }\r\n\r\n  /**\r\n   * Calculate current market inflation\r\n   * Fixed: Store original valuations at draft start\r\n   */\r\n  private calculateMarketInflation(context: DraftContext): number {\r\n    const draftHistory = context.draftHistory;\r\n    \r\n    if (draftHistory.length === 0) {\r\n      // Store original valuations at draft start\r\n      context.availablePlayers.forEach(player => {\r\n        const playerId = player.playerId || player.id;\r\n        if (playerId && !this.originalValuations.has(playerId)) {\r\n          this.originalValuations.set(playerId, player.marketValue || player.auctionValue || 1);\r\n        }\r\n      });\r\n      return 0;\r\n    }\r\n\r\n    let totalExpectedValue = 0;\r\n    let totalActualSpent = 0;\r\n\r\n    draftHistory.forEach(pick => {\r\n      if (pick.price && pick.player) {\r\n        const playerId = pick.player.id || pick.player.playerId;\r\n        const originalValue = this.originalValuations.get(playerId);\r\n        \r\n        if (originalValue) {\r\n          totalExpectedValue += originalValue;\r\n          totalActualSpent += pick.price;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (totalExpectedValue === 0) {\r\n      return 0;\r\n    }\r\n\r\n    const inflation = ((totalActualSpent - totalExpectedValue) / totalExpectedValue) * 100;\r\n    return Math.round(Math.max(-30, Math.min(30, inflation))); // Cap at 30%\r\n  }\r\n\r\n  /**\r\n   * Calculate maximum profitable bid\r\n   */\r\n  private calculateMaxBid(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    scores: {\r\n      valueScore: number;\r\n      needScore: number;\r\n      scarcityScore: number;\r\n      budgetScore: number;\r\n      marketInflation: number;\r\n    },\r\n    adjustments: {\r\n      isPositionRun: boolean;\r\n      panicLevel: number;\r\n      draftStage: string;\r\n    }\r\n  ): number {\r\n    // Use the actual player valuation data from your system\r\n    // auctionValue is our calculated fair value (VORP-based)\r\n    // marketPrice/marketValue is the actual market AAV\r\n    // intrinsicValue is the theoretical value\r\n    // maxBid is pre-calculated max we should pay\r\n    \r\n    // Start with the player's actual calculated auction value\r\n    const baseValue = player.auctionValue || player.value || 1;\r\n    const marketPrice = player.marketPrice || player.marketValue || baseValue;\r\n    \r\n    // Use the player's pre-calculated maxBid as a starting point if available\r\n    let maxBid = player.maxBid || baseValue;\r\n    \r\n    // Robust RB Strategy adjustments\r\n    const myRoster = context.myTeam.players || [];\r\n    const myRBs = myRoster.filter(p => p.position === 'RB');\r\n    // Count elite RBs based on draft price since they're no longer in available players\r\n    const eliteRBCount = myRBs.filter(rb => {\r\n      const draftPick = context.draftHistory.find(pick => \r\n        pick.player && rb && (\r\n          (pick.player.id && pick.player.id === (rb as any).id) || \r\n          ((pick.player as any).playerId && (pick.player as any).playerId === (rb as any).id)\r\n        )\r\n      );\r\n      // Consider RBs drafted for $40+ as elite\r\n      return draftPick && draftPick.price && draftPick.price >= 40;\r\n    }).length;\r\n    const draftRound = Math.floor(context.draftHistory.length / 12) + 1;\r\n    \r\n    // Apply strategy-specific bonuses\r\n    let robustRBBonus = 0;\r\n    let wrDepthBonus = 0;\r\n    \r\n    // ROBUST RB STRATEGY: Balanced aggression on elite RBs early (target 50-60% budget)\r\n    if (this.activeStrategy === 'robust-rb' && player.position === 'RB') {\r\n      // Calculate how much we've already spent on RBs\r\n      const rbSpent = context.draftHistory\r\n        .filter(pick => pick.team === context.myTeam.id && pick.player?.position === 'RB')\r\n        .reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n      \r\n      // If we've already spent >60% of starting budget on RBs, reduce bonuses\r\n      const rbBudgetPercent = rbSpent / 200;\r\n      \r\n      if (draftRound <= this.robustRBConfig.firstFiveRounds && rbBudgetPercent < 0.6) {\r\n        if (player.tier === 'elite' && eliteRBCount < 1) {\r\n          // Only bonus for the FIRST elite RB\r\n          robustRBBonus = 0.05; // Only 5% bonus for first elite RB\r\n          console.log('[Robust RB] First elite RB bonus applied:', player.playerName, 'Bonus:', robustRBBonus);\r\n        } else if (player.tier === 'tier2' && myRBs.length < 3) {\r\n          robustRBBonus = 0.02; // Tiny 2% bonus for tier2 RBs\r\n          console.log('[Robust RB] Tier2 RB bonus applied:', player.playerName);\r\n        } else {\r\n          robustRBBonus = 0.0; // No bonus for additional RBs\r\n        }\r\n      } else if (draftRound <= 8 && player.tier === 'tier2' && myRBs.length < 3 && rbBudgetPercent < 0.5) {\r\n        robustRBBonus = 0.02; // 2% bonus for mid-round tier2 RBs\r\n      }\r\n    }\r\n    \r\n    // HERO RB STRATEGY: One elite RB, then pivot to WR\r\n    else if (this.activeStrategy === 'hero-rb') {\r\n      if (player.position === 'RB' && eliteRBCount === 0 && player.tier === 'elite') {\r\n        // Still want ONE elite RB\r\n        robustRBBonus = 0.40; // 40% bonus for single elite RB\r\n        console.log('[Hero RB] Elite RB bonus for anchor:', player.playerName);\r\n      } else if (player.position === 'WR' && (player.tier === 'elite' || player.tier === 'tier1')) {\r\n        // Pivot hard to elite WRs after getting one RB\r\n        wrDepthBonus = 0.35; // 35% bonus for elite WRs\r\n        console.log('[Hero RB] Elite WR bonus:', player.playerName);\r\n      }\r\n    }\r\n    \r\n    // ZERO RB STRATEGY: WR heavy, value RBs late\r\n    else if (this.activeStrategy === 'zero-rb') {\r\n      if (player.position === 'WR' && (player.tier === 'elite' || player.tier === 'tier1')) {\r\n        // Maximum aggression on WRs\r\n        wrDepthBonus = 0.45; // 45% bonus for elite WRs\r\n        console.log('[Zero RB] Elite WR maximum bonus:', player.playerName);\r\n      } else if (player.position === 'RB') {\r\n        // Only value RBs (tier3 or worse) in late rounds\r\n        if ((player.tier === 'tier3' || player.tier === 'replacement') && draftRound >= 8) {\r\n          robustRBBonus = 0.15; // Small bonus for value RBs\r\n          console.log('[Zero RB] Value RB bonus:', player.playerName);\r\n        } else {\r\n          // Actively avoid expensive RBs\r\n          robustRBBonus = -0.20; // PENALTY for elite/tier1 RBs\r\n          console.log('[Zero RB] Avoiding expensive RB:', player.playerName);\r\n        }\r\n      }\r\n    }\r\n    \r\n    // WR Depth acquisition (applies to all strategies after core is secured)\r\n    const myWRs = myRoster.filter(p => p.position === 'WR');\r\n    if (player.position === 'WR' && this.activeStrategy !== 'zero-rb') {\r\n      // After securing RB core, prioritize WRs to hit 25-35% target\r\n      if (this.activeStrategy === 'robust-rb' && eliteRBCount >= 2) {\r\n        if (player.tier === 'elite' || player.tier === 'tier1') {\r\n          wrDepthBonus = 0.15; // 15% bonus for elite/tier1 WRs\r\n          console.log('[WR Depth] Elite WR bonus after RB core:', player.playerName);\r\n        } else if (myWRs.length < 5 && (player.tier === 'tier2' || player.tier === 'tier3')) {\r\n          wrDepthBonus = Math.max(wrDepthBonus, 0.10); // 10% for depth WRs\r\n          console.log('[WR Depth] Bonus applied:', player.playerName);\r\n        }\r\n      } else if (this.activeStrategy === 'hero-rb' && eliteRBCount >= 1) {\r\n        if (myWRs.length < 5 && (player.tier === 'tier2' || player.tier === 'tier3')) {\r\n          wrDepthBonus = Math.max(wrDepthBonus, 0.20); // Ensure WR depth\r\n          console.log('[WR Depth] Bonus applied:', player.playerName);\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log('[MaxBid Calculation]', {\r\n      playerName: player.playerName,\r\n      startingMaxBid: maxBid,\r\n      auctionValue: player.auctionValue,\r\n      marketPrice: marketPrice,\r\n      edge: player.edge,\r\n      tier: player.tier,\r\n      robustRBBonus,\r\n      wrDepthBonus\r\n    });\r\n\r\n    // Calculate total adjustment with CAP to prevent multiplier stacking\r\n    // Using additive approach instead of multiplicative\r\n    let totalAdjustment = 0;\r\n    \r\n    // Market inflation adjustment (capped at 30%)\r\n    totalAdjustment += (scores.marketInflation / 100);\r\n    \r\n    // Need adjustment (up to +20%)\r\n    totalAdjustment += (scores.needScore / 100) * 0.2;\r\n    \r\n    // Scarcity adjustment (up to +15%)\r\n    totalAdjustment += (scores.scarcityScore / 100) * 0.15;\r\n    \r\n    // Team stack bonus (up to +10%)\r\n    const stackInfo = this.analyzeTeamStack(player, context);\r\n    if (stackInfo && stackInfo.synergyBonus > 0) {\r\n      totalAdjustment += stackInfo.synergyBonus / 100;\r\n    }\r\n    \r\n    // Position run adjustment (up to +15%)\r\n    if (adjustments.isPositionRun && scores.needScore > 70) {\r\n      totalAdjustment += 0.15;\r\n    }\r\n    \r\n    // Panic adjustment (capped)\r\n    const cappedPanicLevel = Math.min(1.0, adjustments.panicLevel);\r\n    if (cappedPanicLevel > 0.5) {\r\n      totalAdjustment += cappedPanicLevel * 0.2;\r\n    }\r\n    \r\n    // Stage adjustment\r\n    if (adjustments.draftStage === 'late' && (player.tier === 'elite' || player.tier === 'tier1' || player.tier === 'tier2')) {\r\n      totalAdjustment += 0.1;\r\n    }\r\n    \r\n    // Robust RB bonus\r\n    totalAdjustment += robustRBBonus;\r\n    \r\n    // WR Depth bonus\r\n    totalAdjustment += wrDepthBonus;\r\n    \r\n    // Dynamic cap based on draft context\r\n    const draftProgress = context.draftHistory.length / (12 * 16);\r\n    const isEarlyDraft = draftProgress < 0.25;\r\n    let maxIncrease = 0.5; // Default\r\n    \r\n    // More flexible caps early in draft - INCREASED for 70-80% top player spend\r\n    if (isEarlyDraft) {\r\n      if (player.tier === 'elite') {\r\n        maxIncrease = 1.0; // Allow up to 100% over for elite players early\r\n      } else if (player.tier === 'tier1') {\r\n        maxIncrease = 0.85; // Allow up to 85% over for tier1 early\r\n      } else {\r\n        maxIncrease = 0.7; // Allow up to 70% over for others early\r\n      }\r\n    }\r\n    \r\n    // Special RB allowance during Robust RB strategy - INCREASED\r\n    if (this.robustRBConfig.enabled && player.position === 'RB' && draftRound <= 5) {\r\n      maxIncrease = Math.max(maxIncrease, 0.90); // At least 90% flexibility for RBs\r\n    }\r\n    \r\n    totalAdjustment = Math.max(-0.3, Math.min(maxIncrease, totalAdjustment));\r\n    \r\n    // Apply the capped adjustment\r\n    maxBid = maxBid * (1 + totalAdjustment);\r\n\r\n    // Budget constraint\r\n    const remainingBudget = context.myTeam.budget || 200;\r\n    const remainingSpots = this.calculateRemainingRosterSpots(context.myTeam);\r\n    const maxAffordable = remainingBudget - remainingSpots + 1;\r\n    \r\n    // Global cap based on optimal roster construction\r\n    // No single player should exceed a reasonable percentage of total budget\r\n    const draftStage = adjustments.draftStage;\r\n    const globalMaxBid = this.calculateGlobalMaxBid(\r\n      player,\r\n      context,\r\n      remainingBudget,\r\n      remainingSpots,\r\n      draftStage\r\n    );\r\n    \r\n    // Apply all constraints\r\n    maxBid = Math.min(maxBid, maxAffordable, globalMaxBid);\r\n\r\n    // Round to nearest dollar\r\n    return Math.round(maxBid);\r\n  }\r\n\r\n  /**\r\n   * Determine recommended action\r\n   */\r\n  private determineAction(\r\n    currentBid: number,\r\n    maxBid: number,\r\n    scores: {\r\n      valueScore: number;\r\n      needScore: number;\r\n      scarcityScore: number;\r\n      budgetScore: number;\r\n    },\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): 'strong-buy' | 'consider' | 'avoid' | 'pass' {\r\n    // Calculate draft progress and context\r\n    const draftProgress = context.draftHistory.length / (12 * 16); // % of draft complete\r\n    const isEarlyDraft = draftProgress < 0.25;\r\n    const isMidDraft = draftProgress >= 0.25 && draftProgress < 0.6;\r\n    const isLateDraft = draftProgress >= 0.6;\r\n    \r\n    // Calculate market inflation\r\n    const marketInflation = this.calculateMarketInflation(context) / 100; // Convert to decimal\r\n    const isInflatedMarket = marketInflation > 0.1; // Market is 10%+ inflated\r\n    \r\n    // Budget context\r\n    const remainingBudget = context.myTeam.budget;\r\n    const avgBudgetPerSlot = remainingBudget / Math.max(1, 16 - (context.myTeam.players?.length || 0));\r\n    const hasAmpleBudget = remainingBudget > 100;\r\n    const isBudgetConstrained = remainingBudget < 50;\r\n    \r\n    // Flexible max bid based on context\r\n    let flexibleMaxBid = maxBid;\r\n    \r\n    // Early draft adjustments - be more aggressive\r\n    if (isEarlyDraft) {\r\n      if (player.tier === 'elite') {\r\n        flexibleMaxBid = maxBid * 1.15; // Allow 15% over for elite players early\r\n      } else if (player.tier === 'tier1') {\r\n        flexibleMaxBid = maxBid * 1.10; // Allow 10% over for tier1 early\r\n      }\r\n      \r\n      // If market is inflated and we have budget, be even more flexible\r\n      if (isInflatedMarket && hasAmpleBudget) {\r\n        flexibleMaxBid *= 1.1; // Additional 10% flexibility in inflated markets\r\n      }\r\n    }\r\n    \r\n    // Mid draft - moderate flexibility\r\n    else if (isMidDraft) {\r\n      if (player.tier === 'elite' || player.tier === 'tier1') {\r\n        flexibleMaxBid = maxBid * 1.05; // Allow 5% over for top tiers\r\n      }\r\n    }\r\n    \r\n    // Late draft - be strict unless desperate\r\n    else if (isLateDraft) {\r\n      // Only be flexible if we have critical needs\r\n      const criticalNeeds = this.identifyCriticalNeeds(context);\r\n      if (criticalNeeds.includes(player.position)) {\r\n        flexibleMaxBid = maxBid * 1.05;\r\n      }\r\n    }\r\n    \r\n    // Can't afford even with flexibility\r\n    if (currentBid > flexibleMaxBid * 1.2) {\r\n      return 'pass'; // Hard limit at 20% over flexible max\r\n    }\r\n\r\n    // Calculate composite score\r\n    const compositeScore = (\r\n      scores.valueScore * 0.35 +\r\n      scores.needScore * 0.30 +\r\n      scores.scarcityScore * 0.20 +\r\n      scores.budgetScore * 0.15\r\n    );\r\n\r\n    // Strong indicators\r\n    const hasGreatValue = scores.valueScore >= 75;\r\n    const hasCriticalNeed = scores.needScore >= 90;\r\n    const isLastInTier = scores.scarcityScore >= 90;\r\n    const goodBudgetFit = scores.budgetScore >= 60;\r\n    \r\n    // Holistic roster checks\r\n    const positionCount = (context.myTeam.players || []).filter(\r\n      p => p.position === player.position\r\n    ).length;\r\n    const requirements = this.rosterRequirements[player.position as keyof RosterRequirements];\r\n    const isOverloaded = requirements && typeof requirements !== 'number' &&\r\n      positionCount >= (requirements as any).max;\r\n    \r\n    // Check if we have critical needs elsewhere\r\n    const criticalNeeds = this.identifyCriticalNeeds(context);\r\n    const hasCriticalNeedsElsewhere = criticalNeeds.length > 0 && \r\n      !criticalNeeds.includes(player.position);\r\n    \r\n    // Override: avoid if overloaded regardless of value\r\n    if (isOverloaded && player.tier > 2) {\r\n      return 'pass';\r\n    }\r\n    \r\n    // Override: be cautious if we have critical needs elsewhere and limited budget\r\n    if (hasCriticalNeedsElsewhere && context.myTeam.budget < 50 && scores.needScore < 70) {\r\n      return 'avoid';\r\n    }\r\n\r\n    // Special Robust RB logic - EXTREMELY aggressive on RBs\r\n    const draftRound = Math.floor(context.draftHistory.length / 12) + 1;\r\n    const myRBs = (context.myTeam.players || []).filter(p => p.position === 'RB');\r\n    const eliteRBCount = myRBs.filter(rb => {\r\n      const draftPick = context.draftHistory.find(pick => \r\n        pick.player && rb && (\r\n          (pick.player.id && pick.player.id === (rb as any).id) || \r\n          ((pick.player as any).playerId && (pick.player as any).playerId === (rb as any).id)\r\n        )\r\n      );\r\n      return draftPick && draftPick.price && draftPick.price >= 40;\r\n    }).length;\r\n    \r\n    // CRITICAL: Must get RBs at almost any cost\r\n    if (this.robustRBConfig.enabled && player.position === 'RB') {\r\n      // Elite RBs - pay whatever it takes\r\n      if (player.tier === 'elite' && eliteRBCount < 2) {\r\n        if (currentBid <= flexibleMaxBid * 1.5) { // Up to 50% over\r\n          return 'strong-buy';\r\n        }\r\n      }\r\n      // Tier1 RBs - very aggressive if no elites yet\r\n      else if (player.tier === 'tier1' && myRBs.length < 3) {\r\n        if (currentBid <= flexibleMaxBid * 1.3 || eliteRBCount === 0) {\r\n          return 'strong-buy';\r\n        } else if (currentBid <= flexibleMaxBid * 1.4) {\r\n          return 'consider';\r\n        }\r\n      }\r\n      // Tier2 RBs - still need depth\r\n      else if (player.tier === 'tier2' && myRBs.length < 4) {\r\n        if (currentBid <= flexibleMaxBid * 1.2) {\r\n          return draftRound <= 8 ? 'strong-buy' : 'consider';\r\n        }\r\n      }\r\n    }\r\n\r\n    // Adjust thresholds based on draft context\r\n    let strongBuyThreshold = 75;\r\n    let considerThreshold = 55;\r\n    let avoidThreshold = 35;\r\n    \r\n    if (isEarlyDraft) {\r\n      // Lower thresholds early to be more aggressive\r\n      strongBuyThreshold = 65;\r\n      considerThreshold = 45;\r\n      avoidThreshold = 25;\r\n      \r\n      // Extra aggressive for elite/tier1 players\r\n      if (player.tier === 'elite' || player.tier === 'tier1') {\r\n        strongBuyThreshold -= 10;\r\n        considerThreshold -= 10;\r\n      }\r\n    } else if (isInflatedMarket && hasAmpleBudget) {\r\n      // Adjust for inflated market with budget\r\n      strongBuyThreshold = 70;\r\n      considerThreshold = 50;\r\n      avoidThreshold = 30;\r\n    } else if (isBudgetConstrained) {\r\n      // Raise thresholds when budget constrained\r\n      strongBuyThreshold = 80;\r\n      considerThreshold = 65;\r\n      avoidThreshold = 45;\r\n    }\r\n    \r\n    // Check if within flexible budget\r\n    if (currentBid <= flexibleMaxBid) {\r\n      // Standard decision logic with adjusted thresholds\r\n      if (compositeScore >= strongBuyThreshold || (hasGreatValue && hasCriticalNeed)) {\r\n        return 'strong-buy';\r\n      } else if (compositeScore >= considerThreshold || (hasGreatValue && goodBudgetFit)) {\r\n        return 'consider';\r\n      } else if (compositeScore >= avoidThreshold) {\r\n        return 'avoid';\r\n      } else {\r\n        return 'pass';\r\n      }\r\n    } else if (currentBid <= flexibleMaxBid * 1.1) {\r\n      // Within 10% over flexible max - still consider if really good\r\n      if (compositeScore >= strongBuyThreshold + 10 || (player.tier === 'elite' && isEarlyDraft)) {\r\n        return 'consider';\r\n      } else {\r\n        return 'avoid';\r\n      }\r\n    } else {\r\n      // Too expensive\r\n      return 'pass';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate confidence in recommendation\r\n   */\r\n  private calculateConfidence(scores: {\r\n    valueScore: number;\r\n    needScore: number;\r\n    scarcityScore: number;\r\n    budgetScore: number;\r\n  }): number {\r\n    // Higher confidence when all signals align\r\n    const variance = this.calculateVariance([\r\n      scores.valueScore,\r\n      scores.needScore,\r\n      scores.scarcityScore,\r\n      scores.budgetScore\r\n    ]);\r\n\r\n    // Lower variance = higher confidence\r\n    const confidence = 100 - (variance / 10);\r\n    \r\n    return Math.round(Math.max(0, Math.min(100, confidence)));\r\n  }\r\n\r\n  /**\r\n   * Generate primary reason for recommendation\r\n   */\r\n  private generatePrimaryReason(\r\n    player: ValuationResult,\r\n    action: string,\r\n    scores: {\r\n      valueScore: number;\r\n      needScore: number;\r\n      scarcityScore: number;\r\n      budgetScore: number;\r\n    },\r\n    context: DraftContext\r\n  ): string {\r\n    const reasons: { score: number; reason: string }[] = [];\r\n    \r\n    // Check for special conditions\r\n    const isPositionRun = this.detectPositionRun(player.position, context);\r\n    const panicLevel = this.calculatePanicLevel(player.position, context);\r\n    const criticalNeeds = this.identifyCriticalNeeds(context);\r\n    const positionCount = (context.myTeam.players || []).filter(\r\n      p => p.position === player.position\r\n    ).length;\r\n\r\n    if (scores.valueScore >= 80) {\r\n      reasons.push({ \r\n        score: scores.valueScore, \r\n        reason: `Exceptional value - ${Math.round(100 - scores.valueScore)}% below market` \r\n      });\r\n    }\r\n\r\n    if (scores.needScore >= 90) {\r\n      reasons.push({ \r\n        score: scores.needScore, \r\n        reason: `Critical need - You have ${positionCount} ${player.position}s and need more` \r\n      });\r\n    }\r\n\r\n    if (scores.scarcityScore >= 85) {\r\n      reasons.push({ \r\n        score: scores.scarcityScore, \r\n        reason: `Scarcity alert - Last quality ${player.position} available` \r\n      });\r\n    }\r\n    \r\n    if (isPositionRun && scores.needScore > 50) {\r\n      reasons.push({\r\n        score: 95,\r\n        reason: `${player.position} run happening NOW - prices inflating rapidly`\r\n      });\r\n    }\r\n    \r\n    if (panicLevel > 0.7) {\r\n      reasons.push({\r\n        score: 98,\r\n        reason: `PANIC BUY - Critical ${player.position} shortage, must secure now!`\r\n      });\r\n    }\r\n    \r\n    const requirements = this.rosterRequirements[player.position as keyof RosterRequirements];\r\n    const isOverloaded = requirements && typeof requirements !== 'number' &&\r\n      positionCount >= (requirements as any).max;\r\n\r\n    if (action === 'pass') {\r\n      if (isOverloaded) {\r\n        return `Already at max capacity with ${positionCount} ${player.position}s`;\r\n      }\r\n      if (criticalNeeds.length > 0 && !criticalNeeds.includes(player.position)) {\r\n        return `Must save budget for critical needs at: ${criticalNeeds.join(', ')}`;\r\n      }\r\n      // Check if global cap is limiting\r\n      const remainingSpots = this.calculateRemainingRosterSpots(context.myTeam);\r\n      if (remainingSpots >= 10) {\r\n        return `Too expensive - need balanced roster with ${remainingSpots} spots to fill`;\r\n      }\r\n      return 'Price exceeds maximum profitable bid given roster construction';\r\n    }\r\n\r\n    if (action === 'avoid') {\r\n      if (context.myTeam.budget < 40 && criticalNeeds.length > 0) {\r\n        return `Limited budget - prioritize ${criticalNeeds.join(', ')} instead`;\r\n      }\r\n      return 'Better value plays available for roster balance';\r\n    }\r\n\r\n    // Return highest scoring reason\r\n    reasons.sort((a, b) => b.score - a.score);\r\n    return reasons[0]?.reason || 'Balanced opportunity for roster construction';\r\n  }\r\n\r\n  /**\r\n   * Generate warnings\r\n   */\r\n  private generateWarnings(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    currentBid: number\r\n  ): string[] {\r\n    const warnings: string[] = [];\r\n    const remainingBudget = context.myTeam.budget || 200;\r\n    const remainingSpots = this.calculateRemainingRosterSpots(context.myTeam);\r\n    const criticalNeeds = this.identifyCriticalNeeds(context);\r\n    const draftStage = this.determineDraftStage(context);\r\n\r\n    // Budget warnings\r\n    if (currentBid > remainingBudget * 0.4) {\r\n      warnings.push(` Heavy spend: ${Math.round((currentBid/remainingBudget)*100)}% of budget`);\r\n    }\r\n\r\n    if (remainingBudget - currentBid < remainingSpots * 3) {\r\n      warnings.push(` Budget crunch: Only $${remainingBudget - currentBid} for ${remainingSpots} spots`);\r\n    }\r\n    \r\n    // Critical needs warnings\r\n    if (criticalNeeds.length > 0 && !criticalNeeds.includes(player.position)) {\r\n      warnings.push(` Still need starters at: ${criticalNeeds.join(', ')}`);\r\n    }\r\n\r\n    // Position warnings\r\n    const positionCount = (context.myTeam.players || []).filter(\r\n      p => p.position === player.position\r\n    ).length;\r\n    \r\n    const requirements = this.rosterRequirements[player.position as keyof RosterRequirements];\r\n    if (requirements && typeof requirements !== 'number') {\r\n      const posReq = requirements as { min: number; max: number; optimal: number };\r\n      if (positionCount >= posReq.optimal && criticalNeeds.length > 0) {\r\n        warnings.push(` Already have ${positionCount} ${player.position}s (optimal: ${posReq.optimal})`);\r\n      }\r\n      if (positionCount >= posReq.max) {\r\n        warnings.push(` At maximum ${player.position} capacity (${posReq.max})`);\r\n      }\r\n    }\r\n\r\n    // Robust RB Strategy warnings\r\n    if (this.robustRBConfig.enabled) {\r\n      const myRBs = (context.myTeam.players || []).filter(p => p.position === 'RB');\r\n      const eliteRBCount = myRBs.filter(rb => {\r\n        const draftPick = context.draftHistory.find(pick => \r\n          (pick.player?.id === rb.id || pick.player?.playerId === rb.id)\r\n        );\r\n        // Consider RBs drafted for $40+ as elite\r\n        return draftPick && draftPick.price && draftPick.price >= 40;\r\n      }).length;\r\n      \r\n      const draftRound = Math.floor(context.draftHistory.length / 12) + 1;\r\n      const rbSpent = myRBs.reduce((sum, rb) => {\r\n        const pick = context.draftHistory.find(p => p.player?.id === rb.id);\r\n        return sum + (pick?.price || 0);\r\n      }, 0);\r\n      \r\n      if (draftRound > this.robustRBConfig.firstFiveRounds && \r\n          eliteRBCount < this.robustRBConfig.eliteRBTarget) {\r\n        warnings.push(` Robust RB Alert: Only ${eliteRBCount}/${this.robustRBConfig.eliteRBTarget} elite RBs secured (target 2-3 in first 5 rounds)`);\r\n      }\r\n      \r\n      if (player.position !== 'RB' && eliteRBCount < 2 && draftRound <= 3) {\r\n        warnings.push(` Focus on RBs early - Robust RB strategy targets 50-60% budget on elite RBs`);\r\n      }\r\n      \r\n      if (rbSpent > 120 && player.position === 'RB' && player.tier !== 'elite' && player.tier !== 'tier1') {\r\n        warnings.push(` Already spent $${rbSpent} on RBs - consider WR value`);\r\n      }\r\n    }\r\n    \r\n    // Tier warnings with context - Fixed tier comparison\r\n    const remainingElite = context.availablePlayers.filter(\r\n      p => p.tier === 'elite' || p.tier === 'tier1'\r\n    ).length;\r\n\r\n    if (remainingElite > 5 && player.tier !== 'elite' && player.tier !== 'tier1' && \r\n        player.tier !== 'tier2' && draftStage === 'early') {\r\n      warnings.push(` ${remainingElite} elite players still available`);\r\n    }\r\n    \r\n    // Position run warning\r\n    if (this.detectPositionRun(player.position, context)) {\r\n      warnings.push(` ${player.position} run in progress - prices inflating`);\r\n    }\r\n    \r\n    // Strategy pivot warnings\r\n    if (remainingSpots >= 10 && currentBid > remainingBudget * 0.25) {\r\n      warnings.push(` Consider balanced build - ${remainingSpots} spots need filling`);\r\n    }\r\n    \r\n    if (draftStage === 'early' && currentBid > 50) {\r\n      warnings.push(` High early spend - commits to stars & scrubs strategy`);\r\n    }\r\n\r\n    return warnings;\r\n  }\r\n\r\n  /**\r\n   * Generate opportunities\r\n   */\r\n  private generateOpportunities(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    currentBid: number\r\n  ): string[] {\r\n    const opportunities: string[] = [];\r\n\r\n    // Robust RB Strategy opportunities\r\n    if (this.robustRBConfig.enabled && player.position === 'RB') {\r\n      const myRBs = (context.myTeam.players || []).filter(p => p.position === 'RB');\r\n      const eliteRBCount = myRBs.filter(rb => {\r\n        const draftPick = context.draftHistory.find(pick => \r\n          (pick.player?.id === rb.id || pick.player?.playerId === rb.id)\r\n        );\r\n        // Consider RBs drafted for $40+ as elite\r\n        return draftPick && draftPick.price && draftPick.price >= 40;\r\n      }).length;\r\n      \r\n      const draftRound = Math.floor(context.draftHistory.length / 12) + 1;\r\n      \r\n      if ((player.tier === 'elite' || player.tier === 'tier1') && \r\n          eliteRBCount < this.robustRBConfig.eliteRBTarget && \r\n          draftRound <= this.robustRBConfig.firstFiveRounds) {\r\n        opportunities.push(` Core Robust RB target - secure elite RB foundation`);\r\n      }\r\n      \r\n      if (player.tier === 'tier2' && eliteRBCount >= 2) {\r\n        opportunities.push(` Strong RB3 to complete Robust RB build`);\r\n      }\r\n    }\r\n    \r\n    // WR value opportunity in Robust RB\r\n    if (this.robustRBConfig.enabled && player.position === 'WR') {\r\n      const myRBs = (context.myTeam.players || []).filter(p => p.position === 'RB');\r\n      const eliteRBCount = myRBs.filter(rb => {\r\n        const draftPick = context.draftHistory.find(pick => \r\n          (pick.player?.id === rb.id || pick.player?.playerId === rb.id)\r\n        );\r\n        // Consider RBs drafted for $40+ as elite\r\n        return draftPick && draftPick.price && draftPick.price >= 40;\r\n      }).length;\r\n      \r\n      if (eliteRBCount >= 2 && (player.tier === 'tier2' || player.tier === 'tier3') && \r\n          currentBid <= 25) {\r\n        opportunities.push(` WR value play after securing RB foundation`);\r\n      }\r\n    }\r\n    \r\n    // Value opportunity\r\n    const discount = player.auctionValue - currentBid;\r\n    if (discount > 10) {\r\n      opportunities.push(` $${discount} discount from fair value`);\r\n    }\r\n\r\n    // Tier opportunity\r\n    const samePositionTier = context.availablePlayers.filter(\r\n      p => p.position === player.position && p.tier === player.tier\r\n    );\r\n    \r\n    if (samePositionTier.length <= 2) {\r\n      opportunities.push(`One of last ${samePositionTier.length} in tier`);\r\n    }\r\n\r\n    // Stack opportunity\r\n    const teamPlayers = (context.myTeam.players || []).filter(\r\n      p => p.team === player.team\r\n    );\r\n    \r\n    if (teamPlayers.length > 0 && player.position === 'WR') {\r\n      const qb = teamPlayers.find(p => p.position === 'QB');\r\n      if (qb) {\r\n        opportunities.push(`Stack with ${qb.name}`);\r\n      }\r\n    }\r\n\r\n    // Flex opportunity - Fixed tier comparison\r\n    if (this.isFlexEligible(player.position) && \r\n        (player.tier === 'elite' || player.tier === 'tier1' || player.tier === 'tier2')) {\r\n      opportunities.push(' Strong flex play potential');\r\n    }\r\n\r\n    return opportunities;\r\n  }\r\n\r\n  /**\r\n   * Predict which teams will compete for this player\r\n   */\r\n  private predictCompetitors(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): string[] {\r\n    const competitors: string[] = [];\r\n    const position = player.position;\r\n\r\n    context.allTeams.forEach(team => {\r\n      if (team.id === context.myTeam.id) return;\r\n\r\n      // Check if team needs this position\r\n      const positionCount = (team.players || []).filter(p => p.position === position).length;\r\n      const requirements = this.rosterRequirements[position as keyof RosterRequirements];\r\n      \r\n      if (requirements && typeof requirements !== 'number') {\r\n        const posReq = requirements as { min: number; max: number; optimal: number };\r\n        \r\n        // Team needs this position\r\n        if (positionCount < posReq.optimal) {\r\n          // Check if they can afford\r\n          const canAfford = team.budget >= player.marketPrice;\r\n          \r\n          if (canAfford) {\r\n            competitors.push(team.name);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return competitors.slice(0, 3); // Top 3 likely competitors\r\n  }\r\n\r\n  /**\r\n   * Predict final price based on market conditions\r\n   */\r\n  private predictFinalPrice(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    marketInflation: number\r\n  ): number {\r\n    const basePrice = player.marketPrice || player.auctionValue;\r\n    const inflationMultiplier = 1 + (marketInflation / 100);\r\n    \r\n    // Adjust for tier premium\r\n    let tierMultiplier = 1;\r\n    if (player.tier === 'elite' || player.tier === 1) {\r\n      tierMultiplier = 1.1; // Elite players often go 10% over\r\n    }\r\n\r\n    // Adjust for position scarcity\r\n    const scarcityScore = this.calculateScarcityScore(player, context);\r\n    const scarcityMultiplier = 1 + (scarcityScore / 100) * 0.1;\r\n\r\n    const predictedPrice = basePrice * inflationMultiplier * tierMultiplier * scarcityMultiplier;\r\n    \r\n    return Math.round(predictedPrice);\r\n  }\r\n\r\n  /**\r\n   * Determine nomination strategy with advanced logic\r\n   */\r\n  private determineNominationStrategy(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): 'nominate-early' | 'nominate-late' | 'avoid-nominating' {\r\n    const myNeed = this.calculateNeedScore(player, context);\r\n    const marketInflation = this.calculateMarketInflation(context);\r\n    const draftStage = this.determineDraftStage(context);\r\n    const competitors = this.analyzeCompetitors(player, context);\r\n    \r\n    // Advanced nomination logic\r\n    \r\n    // If multiple teams need this player and can afford, nominate to drain budgets\r\n    if (competitors.length >= 3 && myNeed < 50) {\r\n      // Price enforce - make others pay\r\n      return 'nominate-early';\r\n    }\r\n    \r\n    // If you desperately need and few competitors, nominate late\r\n    if (myNeed >= 80 && competitors.length <= 1) {\r\n      return 'nominate-late';\r\n    }\r\n    \r\n    // Sleeper strategy - nominate your sleepers early when people save budget\r\n    if (draftStage === 'early' && player.adp && player.adp > 100 && myNeed >= 70) {\r\n      return 'nominate-early';\r\n    }\r\n    \r\n    // Nominate expensive players you don't want early to drain budgets\r\n    if (player.auctionValue > 40 && myNeed < 30) {\r\n      return 'nominate-early';\r\n    }\r\n\r\n    // Standard logic\r\n    if (myNeed >= 70 && marketInflation < 10) {\r\n      return 'nominate-early';\r\n    }\r\n\r\n    if (player.adp && player.adp > 150 && myNeed >= 60) {\r\n      return 'nominate-late';\r\n    }\r\n\r\n    if (myNeed < 40) {\r\n      return 'avoid-nominating';\r\n    }\r\n\r\n    return 'nominate-late';\r\n  }\r\n\r\n  /**\r\n   * Determine bidding strategy\r\n   */\r\n  private determineBiddingStrategy(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    action: string\r\n  ): 'aggressive' | 'patient' | 'price-enforce' | 'avoid' {\r\n    if (action === 'strong-buy') {\r\n      return 'aggressive';\r\n    }\r\n\r\n    if (action === 'consider') {\r\n      return 'patient';\r\n    }\r\n\r\n    if (action === 'avoid') {\r\n      // Price enforce if someone else overpaying\r\n      const marketPrice = player.marketPrice || player.auctionValue;\r\n      if (context.currentBid < marketPrice * 0.8) {\r\n        return 'price-enforce';\r\n      }\r\n    }\r\n\r\n    return 'avoid';\r\n  }\r\n\r\n  /**\r\n   * Find alternative players at similar value\r\n   */\r\n  private findAlternatives(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): ValuationResult[] {\r\n    const alternatives = context.availablePlayers\r\n      .filter(p => \r\n        p.position === player.position &&\r\n        p.playerId !== player.playerId &&\r\n        Math.abs(p.auctionValue - player.auctionValue) <= 5\r\n      )\r\n      .sort((a, b) => b.auctionValue - a.auctionValue)\r\n      .slice(0, 3);\r\n\r\n    return alternatives;\r\n  }\r\n\r\n  // Helper methods\r\n\r\n  private isFlexEligible(position: string): boolean {\r\n    return this.rosterRequirements.FLEX.eligiblePositions.includes(position);\r\n  }\r\n\r\n  private calculateRemainingRosterSpots(team: Team): number {\r\n    const totalSpots = 16; // Standard roster size\r\n    return totalSpots - (team.players?.length || 0);\r\n  }\r\n\r\n  private calculateTotalPositionNeeds(position: string, context: DraftContext): number {\r\n    const requirements = this.rosterRequirements[position as keyof RosterRequirements];\r\n    if (!requirements || typeof requirements === 'number') {\r\n      return context.allTeams.length; // Default\r\n    }\r\n\r\n    const posReq = requirements as { min: number; max: number; optimal: number };\r\n    return context.allTeams.length * posReq.optimal;\r\n  }\r\n\r\n  private calculateVariance(values: number[]): number {\r\n    const mean = values.reduce((a, b) => a + b, 0) / values.length;\r\n    const squareDiffs = values.map(value => Math.pow(value - mean, 2));\r\n    const avgSquareDiff = squareDiffs.reduce((a, b) => a + b, 0) / values.length;\r\n    return Math.sqrt(avgSquareDiff);\r\n  }\r\n\r\n  /**\r\n   * Calculate global max bid cap to ensure balanced roster construction\r\n   * Prevents overspending on single players when better strategies exist\r\n   */\r\n  private calculateGlobalMaxBid(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    remainingBudget: number,\r\n    remainingSpots: number,\r\n    draftStage: string\r\n  ): number {\r\n    // Base caps by position and tier - INCREASED for 70-80% top player spend\r\n    const positionCaps: Record<string, number> = {\r\n      RB: 85,  // Top RBs can go up to $85 (increased)\r\n      WR: 70,  // Top WRs can go up to $70 (increased)\r\n      QB: 45,  // Top QBs max around $45\r\n      TE: 45,  // Premium TEs max around $45\r\n      DST: 5,  // Never spend more than $5 on DST\r\n      K: 2     // Never spend more than $2 on K\r\n    };\r\n    \r\n    let globalCap = positionCaps[player.position] || 50;\r\n    \r\n    // Adjust based on remaining budget and roster spots\r\n    const budgetPerSpot = remainingBudget / Math.max(1, remainingSpots);\r\n    \r\n    // Special handling for Robust RB strategy\r\n    if (this.robustRBConfig.enabled && player.position === 'RB' && player.tier === 'elite') {\r\n      // Allow spending up to 45% of total budget ($90) on elite RBs early\r\n      const draftProgress = context.draftHistory.length / (12 * 16);\r\n      if (draftProgress < 0.3) { // First 30% of draft\r\n        globalCap = Math.min(90, remainingBudget * 0.55); // Up to 55% of remaining\r\n      }\r\n    }\r\n    \r\n    // Strategy pivot thresholds\r\n    if (remainingSpots >= 10) {\r\n      // Many spots to fill - normally cap at 30% of remaining budget\r\n      // But for Robust RB, allow more on RBs - INCREASED\r\n      if (this.robustRBConfig.enabled && player.position === 'RB' && (player.tier === 'elite' || player.tier === 'tier1')) {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.50); // 50% for RBs (increased)\r\n      } else {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.30);\r\n      }\r\n    } else if (remainingSpots >= 5) {\r\n      // Some spots to fill - cap at 40% of remaining budget\r\n      if (this.robustRBConfig.enabled && player.position === 'RB' && (player.tier === 'elite' || player.tier === 'tier1')) {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.60); // 60% for RBs (increased)\r\n      } else {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.40);\r\n      }\r\n    } else if (remainingSpots >= 2) {\r\n      // Few spots left - can spend up to 60% if elite\r\n      if (player.tier === 'elite' || player.tier === 'tier1') {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.60);\r\n      } else {\r\n        globalCap = Math.min(globalCap, remainingBudget * 0.45);\r\n      }\r\n    } else {\r\n      // Last spot - can spend most of budget\r\n      globalCap = Math.min(globalCap, remainingBudget - 1);\r\n    }\r\n    \r\n    // Draft stage adjustments\r\n    if (draftStage === 'early') {\r\n      // Early draft - be more conservative to maintain flexibility\r\n      const mySpentSoFar = 200 - remainingBudget;\r\n      const picksCompleted = context.myTeam.players?.length || 0;\r\n      \r\n      if (picksCompleted === 0) {\r\n        // First pick - for Robust RB allow up to 40% on elite RBs\r\n        if (this.robustRBConfig.enabled && player.position === 'RB' && player.tier === 'elite') {\r\n          const budgetCap = context.totalBudget * 0.40; // $80 for elite RBs\r\n          globalCap = Math.min(globalCap, budgetCap);\r\n        } else {\r\n          const budgetCap = context.totalBudget * 0.30;\r\n          globalCap = Math.min(globalCap, budgetCap);\r\n        }\r\n      } else if (picksCompleted <= 2) {\r\n        // Early picks - Robust RB should continue being aggressive\r\n        if (this.robustRBConfig.enabled && player.position === 'RB' && (player.tier === 'elite' || player.tier === 'tier1')) {\r\n          // Allow continued high spending on RBs\r\n          globalCap = Math.min(globalCap, remainingBudget * 0.45);\r\n        } else if (mySpentSoFar > context.totalBudget * 0.30) {\r\n          globalCap = Math.min(globalCap, remainingBudget * 0.25);\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Never exceed certain percentages based on player tier\r\n    if (player.tier === 'tier3' || player.tier === 'replacement') {\r\n      // Lower tier players should never exceed 20% of remaining budget\r\n      globalCap = Math.min(globalCap, remainingBudget * 0.20);\r\n    }\r\n    \r\n    // Special case: if this would leave us with less than $1 per remaining spot\r\n    const budgetAfterPurchase = remainingBudget - globalCap;\r\n    const spotsAfterPurchase = remainingSpots - 1;\r\n    if (spotsAfterPurchase > 0 && budgetAfterPurchase < spotsAfterPurchase) {\r\n      globalCap = remainingBudget - spotsAfterPurchase;\r\n    }\r\n    \r\n    return Math.max(1, Math.floor(globalCap));\r\n  }\r\n\r\n  /**\r\n   * Detect if there's a position run happening\r\n   * A position run is when multiple players from the same position are drafted in quick succession\r\n   */\r\n  private detectPositionRun(position: string, context: DraftContext): boolean {\r\n    if (context.draftHistory.length < 5) return false;\r\n    \r\n    // Look at last 5 picks\r\n    const recentPicks = context.draftHistory.slice(-5);\r\n    const positionCount = recentPicks.filter(\r\n      pick => pick.player?.position === position\r\n    ).length;\r\n    \r\n    // If 3 or more of last 5 picks are same position, it's a run\r\n    return positionCount >= 3;\r\n  }\r\n\r\n  /**\r\n   * Calculate panic level based on remaining quality and roster needs\r\n   * Returns 0-1 where 1 is maximum panic\r\n   */\r\n  private calculatePanicLevel(position: string, context: DraftContext): number {\r\n    const myRoster = context.myTeam.players || [];\r\n    const currentCount = myRoster.filter(p => p.position === position).length;\r\n    const requirements = this.rosterRequirements[position as keyof RosterRequirements];\r\n    \r\n    if (!requirements || typeof requirements === 'number') return 0;\r\n    \r\n    const posReq = requirements as { min: number; max: number; optimal: number };\r\n    const stillNeeded = Math.max(0, posReq.min - currentCount);\r\n    \r\n    if (stillNeeded === 0) return 0;\r\n    \r\n    // Count quality players remaining - Fixed tier comparison\r\n    const qualityRemaining = context.availablePlayers.filter(\r\n      p => p.position === position && (p.tier === 'elite' || p.tier === 'tier1' || p.tier === 'tier2')\r\n    ).length;\r\n    \r\n    // Calculate how many picks until it's likely our turn again\r\n    const teamsCount = context.allTeams.length;\r\n    const picksUntilTurn = Math.floor(teamsCount / 2);\r\n    \r\n    // High panic if we need players and few quality options remain\r\n    if (stillNeeded > 0 && qualityRemaining <= picksUntilTurn) {\r\n      // Cap panic level at 1.0\r\n      return Math.min(1.0, stillNeeded / qualityRemaining);\r\n    }\r\n    \r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Determine what stage of the draft we're in\r\n   */\r\n  private determineDraftStage(context: DraftContext): 'early' | 'middle' | 'late' {\r\n    const totalRosterSpots = context.allTeams.length * 16; // 16 players per team\r\n    const draftedCount = context.draftHistory.length;\r\n    const percentDrafted = draftedCount / totalRosterSpots;\r\n    \r\n    if (percentDrafted < 0.25) return 'early';\r\n    if (percentDrafted < 0.65) return 'middle';\r\n    return 'late';\r\n  }\r\n\r\n  /**\r\n   * Analyze competitor budgets and needs\r\n   */\r\n  private analyzeCompetitors(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): CompetitorInsight[] {\r\n    const insights: CompetitorInsight[] = [];\r\n    const position = player.position;\r\n    \r\n    context.allTeams.forEach(team => {\r\n      if (team.id === context.myTeam.id) return;\r\n      \r\n      const positionCount = (team.players || []).filter(p => p.position === position).length;\r\n      const requirements = this.rosterRequirements[position as keyof RosterRequirements];\r\n      const needsPosition = requirements && typeof requirements !== 'number' &&\r\n        positionCount < (requirements as any).optimal;\r\n      \r\n      const remainingBudget = team.budget || 0;\r\n      const rosterSize = team.players?.length || 0;\r\n      const spotsLeft = 16 - rosterSize;\r\n      const maxPossibleBid = Math.max(0, remainingBudget - spotsLeft + 1);\r\n      \r\n      // Determine aggression level based on spending pattern\r\n      const avgSpend = rosterSize > 0 ? ((200 - remainingBudget) / rosterSize) : 0;\r\n      let aggressionLevel: 'high' | 'medium' | 'low' = 'medium';\r\n      if (avgSpend > 20) aggressionLevel = 'high';\r\n      else if (avgSpend < 10) aggressionLevel = 'low';\r\n      \r\n      if (needsPosition && maxPossibleBid >= player.auctionValue * 0.5) {\r\n        insights.push({\r\n          teamName: team.name,\r\n          remainingBudget,\r\n          needsPosition,\r\n          maxPossibleBid,\r\n          aggressionLevel\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Sort by threat level (max bid)\r\n    return insights.sort((a, b) => b.maxPossibleBid - a.maxPossibleBid).slice(0, 5);\r\n  }\r\n\r\n  /**\r\n   * Analyze bye week impact\r\n   */\r\n  private analyzeByeWeekImpact(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): ByeWeekAnalysis | undefined {\r\n    if (!player.byeWeek) return undefined;\r\n    \r\n    const myRoster = context.myTeam.players || [];\r\n    const byeWeekCounts: Record<number, number> = {};\r\n    const byeWeekPositions: Record<number, string[]> = {};\r\n    \r\n    // Count current bye weeks\r\n    myRoster.forEach(p => {\r\n      if (p.byeWeek) {\r\n        byeWeekCounts[p.byeWeek] = (byeWeekCounts[p.byeWeek] || 0) + 1;\r\n        if (!byeWeekPositions[p.byeWeek]) byeWeekPositions[p.byeWeek] = [];\r\n        byeWeekPositions[p.byeWeek].push(p.position);\r\n      }\r\n    });\r\n    \r\n    // Check impact of adding this player\r\n    const currentCount = byeWeekCounts[player.byeWeek] || 0;\r\n    const wouldCreateStack = currentCount >= 2;\r\n    const affectedPositions = byeWeekPositions[player.byeWeek] || [];\r\n    \r\n    let warning: string | undefined;\r\n    if (currentCount >= 3) {\r\n      warning = `CRITICAL: Would have ${currentCount + 1} players on Week ${player.byeWeek} bye`;\r\n    } else if (wouldCreateStack && affectedPositions.includes('QB')) {\r\n      warning = `Warning: QB and ${player.position} both on Week ${player.byeWeek} bye`;\r\n    } else if (wouldCreateStack && player.position === 'RB' && affectedPositions.includes('RB')) {\r\n      warning = `Warning: Multiple RBs on Week ${player.byeWeek} bye`;\r\n    }\r\n    \r\n    return {\r\n      playerByeWeek: player.byeWeek,\r\n      currentByeWeekCounts: byeWeekCounts,\r\n      wouldCreateStack,\r\n      affectedPositions,\r\n      warning\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Analyze team stacking opportunities\r\n   */\r\n  private analyzeTeamStack(\r\n    player: ValuationResult,\r\n    context: DraftContext\r\n  ): TeamStackInfo | undefined {\r\n    const myRoster = context.myTeam.players || [];\r\n    const sameTeamPlayers = myRoster.filter(p => p.team === player.team);\r\n    \r\n    if (sameTeamPlayers.length === 0) return undefined;\r\n    \r\n    const existingPositions = sameTeamPlayers.map(p => p.position);\r\n    const existingNames = sameTeamPlayers.map(p => p.name);\r\n    \r\n    let stackType: 'QB-WR' | 'QB-TE' | 'RB-DEF' | 'multiple' | 'none' = 'none';\r\n    let synergyBonus = 0;\r\n    let warning: string | undefined;\r\n    \r\n    // Check for QB stacks (most valuable)\r\n    if (existingPositions.includes('QB')) {\r\n      if (player.position === 'WR') {\r\n        stackType = 'QB-WR';\r\n        synergyBonus = 10; // 10% bonus for QB-WR stack\r\n      } else if (player.position === 'TE') {\r\n        stackType = 'QB-TE';\r\n        synergyBonus = 8; // 8% bonus for QB-TE stack\r\n      }\r\n    }\r\n    \r\n    // Check for RB-DEF stack (risky but can work)\r\n    if (existingPositions.includes('RB') && player.position === 'DST') {\r\n      stackType = 'RB-DEF';\r\n      synergyBonus = 3; // Small bonus\r\n    }\r\n    \r\n    // Warning for too many from same team\r\n    if (sameTeamPlayers.length >= 3) {\r\n      warning = `Already have ${sameTeamPlayers.length} ${player.team} players - consider diversifying`;\r\n      synergyBonus = Math.max(0, synergyBonus - 5); // Reduce bonus if overconcentrated\r\n    }\r\n    \r\n    if (sameTeamPlayers.length >= 2) {\r\n      stackType = 'multiple';\r\n    }\r\n    \r\n    return {\r\n      team: player.team,\r\n      existingPlayers: existingNames,\r\n      stackType,\r\n      synergyBonus,\r\n      warning\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate smart alternative suggestions\r\n   */\r\n  private generateSmartAlternatives(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    action: string\r\n  ): SmartAlternative[] {\r\n    const alternatives: SmartAlternative[] = [];\r\n    const position = player.position;\r\n    \r\n    // Always check if we have available players data\r\n    if (!context.availablePlayers || context.availablePlayers.length === 0) {\r\n      // If no data, return empty array rather than crash\r\n      return [];\r\n    }\r\n    \r\n    // Always show alternatives regardless of action for better UX\r\n    \r\n    // 1. Find similar tier alternatives at same position\r\n    const samePositionAlts = context.availablePlayers\r\n      .filter(p => {\r\n        if (p.position !== position) return false;\r\n        if (p.playerId === player.playerId) return false;\r\n        \r\n        // Handle tier comparison - tiers can be 'elite', 1, 2, 3, etc.\r\n        const playerTier = player.tier === 'elite' ? 0 : (player.tier as number);\r\n        const altTier = p.tier === 'elite' ? 0 : (p.tier as number);\r\n        \r\n        return Math.abs(altTier - playerTier) <= 1;\r\n      })\r\n      .sort((a, b) => {\r\n        // Sort by value for money (edge)\r\n        const aEdge = (a.edge || 0);\r\n        const bEdge = (b.edge || 0);\r\n        return bEdge - aEdge;\r\n      })\r\n      .slice(0, 2);\r\n    \r\n    // Add alternatives based on context\r\n    if (action === 'pass' || action === 'avoid') {\r\n      // Show better value plays\r\n      samePositionAlts.forEach(alt => {\r\n        if (alt.auctionValue < player.auctionValue) {\r\n          alternatives.push({\r\n            player: alt,\r\n            reasoning: `Better value: $${alt.auctionValue} for similar production`,\r\n            targetPrice: Math.round(alt.auctionValue * 0.9),\r\n            availability: 'likely-available'\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      // Show backup options if we lose\r\n      samePositionAlts.forEach(alt => {\r\n        alternatives.push({\r\n          player: alt,\r\n          reasoning: `Backup option: Similar tier ${position}`,\r\n          targetPrice: Math.round(alt.auctionValue * 0.95),\r\n          availability: alt.tier <= 2 ? 'risky' : 'likely-available'\r\n        });\r\n      });\r\n    }\r\n    \r\n    // 2. Find pivot opportunities at positions of need\r\n    const criticalNeeds = this.identifyCriticalNeeds(context);\r\n    if (criticalNeeds.length > 0 && !criticalNeeds.includes(position)) {\r\n      const pivotTarget = context.availablePlayers\r\n        .filter(p => \r\n          criticalNeeds.includes(p.position) &&\r\n          p.tier <= 2 &&\r\n          p.auctionValue <= player.auctionValue\r\n        )\r\n        .sort((a, b) => b.vorp - a.vorp)\r\n        .slice(0, 1);\r\n      \r\n      pivotTarget.forEach(alt => {\r\n        alternatives.push({\r\n          player: alt,\r\n          reasoning: `Pivot opportunity: Fill critical need at ${alt.position}`,\r\n          targetPrice: Math.round(alt.auctionValue),\r\n          availability: 'immediate'\r\n        });\r\n      });\r\n    }\r\n    \r\n    // 3. If position is deep, show wait-and-see options\r\n    const positionDepth = context.availablePlayers.filter(\r\n      p => p.position === position && p.tier <= 3\r\n    ).length;\r\n    \r\n    if (positionDepth > 10 && action !== 'strong-buy') {\r\n      const laterTarget = context.availablePlayers\r\n        .filter(p => {\r\n          if (p.position !== position) return false;\r\n          if (p.playerId === player.playerId) return false;\r\n          \r\n          const playerTier = player.tier === 'elite' ? 0 : (player.tier as number);\r\n          const altTier = p.tier === 'elite' ? 0 : (p.tier as number);\r\n          \r\n          return altTier === playerTier + 1 && p.auctionValue < player.auctionValue * 0.7;\r\n        })\r\n        .sort((a, b) => b.vorp - a.vorp)\r\n        .slice(0, 1);\r\n      \r\n      laterTarget.forEach(alt => {\r\n        alternatives.push({\r\n          player: alt,\r\n          reasoning: `Wait for value: ${positionDepth} quality ${position}s remain`,\r\n          targetPrice: Math.round(alt.auctionValue * 0.85),\r\n          availability: 'likely-available'\r\n        });\r\n      });\r\n    }\r\n    \r\n    // Remove duplicates and limit to 3\r\n    const uniqueAlts = alternatives.filter((alt, index, self) =>\r\n      index === self.findIndex(a => a.player.playerId === alt.player.playerId)\r\n    );\r\n    \r\n    return uniqueAlts.slice(0, 3);\r\n  }\r\n\r\n  /**\r\n   * Identify positions where we have critical needs\r\n   */\r\n  private identifyCriticalNeeds(context: DraftContext): string[] {\r\n    const criticalNeeds: string[] = [];\r\n    const myRoster = context.myTeam.players || [];\r\n    \r\n    for (const [position, requirements] of Object.entries(this.rosterRequirements)) {\r\n      if (typeof requirements === 'number') continue;\r\n      \r\n      const posReq = requirements as { min: number; max: number; optimal: number };\r\n      const currentCount = myRoster.filter(p => p.position === position).length;\r\n      \r\n      // Critical if we haven't met minimum requirements\r\n      if (currentCount < posReq.min) {\r\n        // Extra critical if it's a starting position and we have none\r\n        if (currentCount === 0 && ['QB', 'RB', 'WR', 'TE'].includes(position)) {\r\n          criticalNeeds.push(position);\r\n        } else if (currentCount < posReq.min) {\r\n          criticalNeeds.push(position);\r\n        }\r\n      }\r\n    }\r\n    \r\n    return criticalNeeds;\r\n  }\r\n\r\n  /**\r\n   * Calculate budget advantage compared to other teams\r\n   */\r\n  private calculateBudgetAdvantage(context: DraftContext): BudgetAdvantage {\r\n    try {\r\n      const myBudget = context.myTeam?.budget || 200;\r\n      const otherTeams = (context.allTeams || []).filter(t => t.id !== context.myTeam?.id);\r\n      \r\n      if (!otherTeams || otherTeams.length === 0) {\r\n        return {\r\n          myBudget,\r\n          averageBudget: myBudget,\r\n          advantage: 0,\r\n          percentile: 50,\r\n          canDominate: false\r\n        };\r\n      }\r\n      \r\n      const otherBudgets = otherTeams.map(t => t.budget || 0);\r\n      const averageBudget = otherBudgets.length > 0 \r\n        ? otherBudgets.reduce((sum, b) => sum + b, 0) / otherBudgets.length\r\n        : myBudget;\r\n      const advantage = myBudget - averageBudget;\r\n      \r\n      // Calculate percentile\r\n      const betterThan = otherBudgets.filter(b => b < myBudget).length;\r\n      const percentile = otherBudgets.length > 0 \r\n        ? Math.round((betterThan / otherBudgets.length) * 100)\r\n        : 50;\r\n      \r\n      // Can dominate if 20% more budget than average\r\n      const canDominate = myBudget > averageBudget * 1.2;\r\n      \r\n      return {\r\n        myBudget,\r\n        averageBudget: Math.round(averageBudget),\r\n        advantage: Math.round(advantage),\r\n        percentile,\r\n        canDominate\r\n      };\r\n    } catch (error) {\r\n      console.error('[BudgetAdvantage Error]', error);\r\n      return {\r\n        myBudget: 200,\r\n        averageBudget: 200,\r\n        advantage: 0,\r\n        percentile: 50,\r\n        canDominate: false\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate draft progress and phase\r\n   */\r\n  private calculateDraftProgress(context: DraftContext): DraftProgress {\r\n    try {\r\n      const teamsCount = (context.allTeams || []).length || 12;\r\n      const totalSpots = teamsCount * 16; // 16 players per team\r\n      const picksMade = (context.draftHistory || []).length;\r\n      const percentComplete = totalSpots > 0 \r\n        ? Math.round((picksMade / totalSpots) * 100)\r\n        : 0;\r\n      const isHalfway = picksMade >= totalSpots / 2;\r\n      \r\n      let phase: 'early' | 'mid' | 'late' | 'end';\r\n      if (percentComplete < 25) phase = 'early';\r\n      else if (percentComplete < 50) phase = 'mid';\r\n      else if (percentComplete < 75) phase = 'late';\r\n      else phase = 'end';\r\n      \r\n      return {\r\n        totalPicks: totalSpots,\r\n        picksMade,\r\n        percentComplete,\r\n        isHalfway,\r\n        phase\r\n      };\r\n    } catch (error) {\r\n      console.error('[DraftProgress Error]', error);\r\n      return {\r\n        totalPicks: 192,\r\n        picksMade: 0,\r\n        percentComplete: 0,\r\n        isHalfway: false,\r\n        phase: 'early'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if strategy pivot is needed due to market conditions\r\n   */\r\n  private checkStrategyPivot(\r\n    player: ValuationResult,\r\n    context: DraftContext,\r\n    marketInflation: number\r\n  ): { shouldPivot: boolean; newStrategy: 'robust-rb' | 'hero-rb' | 'zero-rb' | 'balanced'; alert?: string } {\r\n    try {\r\n      // Don't pivot if already pivoted\r\n      if (this.strategyPivoted) {\r\n        return { shouldPivot: false, newStrategy: this.activeStrategy };\r\n      }\r\n    \r\n    // Calculate RB inflation from both draft history AND current market\r\n    const historicalInflation = this.calculatePositionInflation('RB', context);\r\n    \r\n    // NEW: Also check current market prices of available elite RBs\r\n    const availableEliteRBs = context.availablePlayers.filter(\r\n      p => p.position === 'RB' && (p.tier === 'elite' || p.tier === 'tier1')\r\n    );\r\n    \r\n    let currentMarketInflation = 0;\r\n    if (availableEliteRBs.length > 0) {\r\n      const avgMarketPrice = availableEliteRBs.reduce((sum, p) => sum + (p.marketValue || 0), 0) / availableEliteRBs.length;\r\n      const avgIntrinsicValue = availableEliteRBs.reduce((sum, p) => sum + (p.intrinsicValue || p.auctionValue || 0), 0) / availableEliteRBs.length;\r\n      if (avgIntrinsicValue > 0) {\r\n        currentMarketInflation = ((avgMarketPrice - avgIntrinsicValue) / avgIntrinsicValue) * 100;\r\n      }\r\n    }\r\n    \r\n    // Use the higher of historical or current market inflation\r\n    const rbInflation = Math.max(historicalInflation, currentMarketInflation);\r\n    \r\n    const myRBs = (context.myTeam.players || []).filter(p => p.position === 'RB');\r\n    const eliteRBCount = myRBs.filter(rb => {\r\n      const draftPick = context.draftHistory.find(pick => \r\n        pick.player && rb && (\r\n          (pick.player.id && pick.player.id === (rb as any).id) || \r\n          ((pick.player as any).playerId && (pick.player as any).playerId === (rb as any).id)\r\n        )\r\n      );\r\n      // If drafted for > $40, likely elite/tier1\r\n      return draftPick && draftPick.price && draftPick.price >= 40;\r\n    }).length;\r\n    \r\n    // NEW: Check if we're being priced out of the RB market\r\n    const myBudget = context.myTeam.budget || 0;\r\n    const cheapestEliteRB = availableEliteRBs.sort((a, b) => (a.marketValue || 0) - (b.marketValue || 0))[0];\r\n    const cantAffordEliteRB = cheapestEliteRB && (cheapestEliteRB.marketValue || 0) > myBudget * 0.35;\r\n    \r\n    // Pivot conditions - now more sensitive to market conditions\r\n    if (this.activeStrategy === 'robust-rb') {\r\n      const draftProgress = this.calculateDraftProgress(context);\r\n      \r\n      // Condition 1: RBs are inflated AND we haven't secured any elite RBs yet\r\n      if (rbInflation > 20 && eliteRBCount === 0) {\r\n        if (draftProgress.percentComplete < 25) {\r\n          return {\r\n            shouldPivot: true,\r\n            newStrategy: 'hero-rb',\r\n            alert: ` STRATEGY PIVOT: RBs inflated +${Math.round(rbInflation)}% - switching to Hero RB (one elite RB + WR depth)`\r\n          };\r\n        } else if (draftProgress.percentComplete < 50) {\r\n          return {\r\n            shouldPivot: true,\r\n            newStrategy: 'zero-rb',\r\n            alert: ` STRATEGY PIVOT: RBs too expensive (+${Math.round(rbInflation)}%) - switching to Zero RB (load up on WRs)`\r\n          };\r\n        }\r\n      }\r\n      \r\n      // Condition 2: Can't afford elite RBs anymore\r\n      if (cantAffordEliteRB && eliteRBCount === 0 && draftProgress.percentComplete < 40) {\r\n        return {\r\n          shouldPivot: true,\r\n          newStrategy: 'zero-rb',\r\n          alert: ' STRATEGY PIVOT: Priced out of elite RB market - switching to Zero RB for value'\r\n        };\r\n      }\r\n      \r\n      // Condition 3: Too many teams hoarding elite RBs\r\n      const teamsWithMultipleEliteRBs = context.allTeams.filter(team => {\r\n        if (team.id === context.myTeam.id) return false;\r\n        const teamRBs = team.players?.filter(p => p.position === 'RB') || [];\r\n        const eliteCount = teamRBs.filter(rb => {\r\n          const draftPick = context.draftHistory.find(pick => \r\n            pick.team === team.id && \r\n            pick.player?.position === 'RB' &&\r\n            (pick.price || 0) >= 40\r\n          );\r\n          return draftPick != null;\r\n        }).length;\r\n        return eliteCount >= 2;\r\n      }).length;\r\n      \r\n      if (teamsWithMultipleEliteRBs >= 3 && eliteRBCount === 0 && availableEliteRBs.length <= 2) {\r\n        return {\r\n          shouldPivot: true,\r\n          newStrategy: 'zero-rb',\r\n          alert: ` Market Alert: ${teamsWithMultipleEliteRBs} teams hoarding elite RBs - pivot to Zero RB for value`\r\n        };\r\n      }\r\n    }\r\n    \r\n      return { shouldPivot: false, newStrategy: this.activeStrategy };\r\n    } catch (error) {\r\n      console.error('[StrategyPivot Error]', error);\r\n      return { shouldPivot: false, newStrategy: this.activeStrategy };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate inflation for a specific position\r\n   */\r\n  private calculatePositionInflation(position: string, context: DraftContext): number {\r\n    const positionPicks = context.draftHistory.filter(\r\n      pick => pick.player?.position === position && pick.price\r\n    );\r\n    \r\n    if (positionPicks.length === 0) return 0;\r\n    \r\n    let totalExpected = 0;\r\n    let totalActual = 0;\r\n    \r\n    positionPicks.forEach(pick => {\r\n      const playerId = pick.player?.id || pick.player?.playerId;\r\n      const originalValue = this.originalValuations.get(playerId);\r\n      if (originalValue) {\r\n        totalExpected += originalValue;\r\n        totalActual += pick.price || 0;\r\n      }\r\n    });\r\n    \r\n    if (totalExpected === 0) return 0;\r\n    \r\n    return Math.round(((totalActual - totalExpected) / totalExpected) * 100);\r\n  }\r\n}\r\n\r\nexport const bidAdvisorService = new BidAdvisorService();","/**\r\n * Enhanced Bid Advisor Component with Advanced Features\r\n * Displays opponent tracking, bye weeks, stacks, and smart alternatives\r\n */\r\n\r\nimport React, { useMemo, useState } from 'react';\r\nimport { \r\n  TrendingUp, \r\n  AlertTriangle, \r\n  CheckCircle, \r\n  XCircle,\r\n  DollarSign,\r\n  Users,\r\n  Target,\r\n  Zap,\r\n  Info,\r\n  Calendar,\r\n  Link,\r\n  Activity,\r\n  Sparkles,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { bidAdvisorService } from '@/lib/bidAdvisorService';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport { useDraftStore } from '@/store/draftStore';\r\n\r\ninterface BidAdvisorEnhancedProps {\r\n  player: ValuationResult;\r\n  currentBid?: number;\r\n  onBidChange?: (bid: number) => void;\r\n  allPlayers?: ValuationResult[];\r\n  onDraft?: (price: number, teamId: string) => void; // Callback for drafting\r\n}\r\n\r\nconst BidAdvisorEnhanced: React.FC<BidAdvisorEnhancedProps> = ({ \r\n  player, \r\n  currentBid = 0, \r\n  onBidChange, \r\n  allPlayers = [],\r\n  onDraft\r\n}) => {\r\n  const { teams, myTeamId, draftHistory, completeAuction } = useDraftStore();\r\n  const [simulatedBid, setSimulatedBid] = useState<number | ''>(currentBid || '');\r\n  const [selectedTeam, setSelectedTeam] = useState<string>(teams.find(t => t.id === myTeamId)?.name || 'My Team');\r\n\r\n  // Get recommendation with all new features\r\n  const recommendation = useMemo(() => {\r\n    const foundTeam = teams.find(t => t.id === myTeamId);\r\n    \r\n    // Convert roster (DraftPick[]) to players array for the service\r\n    const myPlayers = foundTeam?.roster?.map(pick => pick.player) || [];\r\n    const remainingBudget = foundTeam ? (foundTeam.budget - foundTeam.spent) : 200;\r\n    \r\n    const myTeam = {\r\n      id: foundTeam?.id || myTeamId || 'team_0',\r\n      name: foundTeam?.name || 'My Team',\r\n      budget: remainingBudget,\r\n      players: myPlayers,\r\n      isUser: true,\r\n      maxBid: foundTeam?.maxBid || remainingBudget,\r\n      nominations: 0\r\n    };\r\n\r\n    // Convert all teams to the format the service expects\r\n    const convertedTeams = teams.map(t => ({\r\n      id: t.id,\r\n      name: t.name,\r\n      budget: t.budget - t.spent,\r\n      players: t.roster?.map(pick => pick.player) || [],\r\n      isUser: t.id === myTeamId,\r\n      maxBid: t.maxBid || (t.budget - t.spent),\r\n      nominations: 0\r\n    }));\r\n    \r\n    // Get available players (those not drafted)\r\n    // Note: Check both 'id' and 'playerId' fields for compatibility\r\n    const draftedIds = new Set(\r\n      draftHistory.map(pick => pick.player?.id || (pick.player as any)?.playerId).filter(Boolean)\r\n    );\r\n    \r\n    // Filter to get only undrafted players\r\n    const availablePlayers = allPlayers.filter(p => {\r\n      // Check both possible ID fields\r\n      const playerId = p.playerId || p.id;\r\n      return !draftedIds.has(playerId);\r\n    });\r\n    \r\n    // Debug log to see what we're working with\r\n    console.log('[BidAdvisor Debug]', {\r\n      allPlayersCount: allPlayers.length,\r\n      draftedCount: draftedIds.size,\r\n      availableCount: availablePlayers.length,\r\n      currentPlayer: player.playerName,\r\n      samplePlayer: availablePlayers[0]\r\n    });\r\n\r\n    const context = {\r\n      myTeam,\r\n      allTeams: convertedTeams.length > 0 ? convertedTeams : [myTeam],\r\n      draftHistory: draftHistory || [],\r\n      availablePlayers,\r\n      currentBid: typeof simulatedBid === 'number' ? simulatedBid : 0,\r\n      totalBudget: 200,\r\n      rosterRequirements: {\r\n        QB: { min: 1, max: 2, optimal: 1 },\r\n        RB: { min: 2, max: 6, optimal: 4 },\r\n        WR: { min: 2, max: 6, optimal: 4 },\r\n        TE: { min: 1, max: 3, optimal: 2 },\r\n        DST: { min: 1, max: 2, optimal: 1 },\r\n        K: { min: 1, max: 2, optimal: 1 },\r\n        FLEX: { count: 1, eligiblePositions: ['RB', 'WR', 'TE'] },\r\n        BENCH: 6\r\n      }\r\n    };\r\n\r\n    return bidAdvisorService.getRecommendation(player, context, simulatedBid);\r\n  }, [player, simulatedBid, teams, myTeamId, draftHistory, allPlayers]);\r\n\r\n  // Get action color and icon\r\n  const getActionDisplay = () => {\r\n    switch (recommendation.action) {\r\n      case 'strong-buy':\r\n        return {\r\n          color: 'bg-green-500',\r\n          borderColor: 'border-green-500',\r\n          textColor: 'text-green-400',\r\n          bgLight: 'bg-green-500/10',\r\n          icon: <CheckCircle className=\"w-5 h-5\" />,\r\n          label: 'STRONG BUY',\r\n          pulseAnimation: 'animate-pulse'\r\n        };\r\n      case 'consider':\r\n        return {\r\n          color: 'bg-yellow-500',\r\n          borderColor: 'border-yellow-500',\r\n          textColor: 'text-yellow-400',\r\n          bgLight: 'bg-yellow-500/10',\r\n          icon: <Info className=\"w-5 h-5\" />,\r\n          label: 'CONSIDER',\r\n          pulseAnimation: ''\r\n        };\r\n      case 'avoid':\r\n        return {\r\n          color: 'bg-orange-500',\r\n          borderColor: 'border-orange-500',\r\n          textColor: 'text-orange-400',\r\n          bgLight: 'bg-orange-500/10',\r\n          icon: <AlertTriangle className=\"w-5 h-5\" />,\r\n          label: 'AVOID',\r\n          pulseAnimation: ''\r\n        };\r\n      case 'pass':\r\n        return {\r\n          color: 'bg-red-500',\r\n          borderColor: 'border-red-500',\r\n          textColor: 'text-red-400',\r\n          bgLight: 'bg-red-500/10',\r\n          icon: <XCircle className=\"w-5 h-5\" />,\r\n          label: 'PASS',\r\n          pulseAnimation: ''\r\n        };\r\n    }\r\n  };\r\n\r\n  const actionDisplay = getActionDisplay();\r\n\r\n  // Handle draft action\r\n  const handleDraft = () => {\r\n    const price = typeof simulatedBid === 'number' ? simulatedBid : 0;\r\n    if (!simulatedBid || price <= 0) {\r\n      alert('Please enter a valid purchase price');\r\n      return;\r\n    }\r\n\r\n    // Map team selection to team ID\r\n    const selectedTeamObj = teams.find(t => t.name === selectedTeam);\r\n    const teamId = selectedTeamObj?.id || myTeamId;\r\n    \r\n    if (onDraft) {\r\n      onDraft(price, teamId);\r\n    } else {\r\n      // Fallback to direct store action\r\n      const playerData = {\r\n        id: player.playerId || player.id,\r\n        name: player.playerName || player.name,\r\n        position: player.position as any,\r\n        team: player.team,\r\n        projectedPoints: player.projectedPoints,\r\n        value: player.auctionValue,\r\n        tier: player.tier || 'replacement'\r\n      };\r\n      completeAuction(playerData as any, price, teamId);\r\n    }\r\n  };\r\n\r\n  // Handle enter key on input\r\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      handleDraft();\r\n    }\r\n  };\r\n\r\n  // Score bar component\r\n  const ScoreBar = ({ label, score, icon }: { label: string; score: number; icon: React.ReactNode }) => {\r\n    const getScoreColor = (score: number) => {\r\n      if (score >= 75) return 'bg-green-500';\r\n      if (score >= 50) return 'bg-yellow-500';\r\n      if (score >= 25) return 'bg-orange-500';\r\n      return 'bg-red-500';\r\n    };\r\n\r\n    return (\r\n      <div className=\"flex items-center gap-2\">\r\n        <div className=\"flex items-center gap-1 w-20\">\r\n          {icon}\r\n          <span className=\"text-sm text-gray-400\">{label}</span>\r\n        </div>\r\n        <div className=\"flex-1 bg-gray-700 rounded-full h-2 overflow-hidden\">\r\n          <div \r\n            className={`h-full transition-all duration-500 ${getScoreColor(score)}`}\r\n            style={{ width: `${score}%` }}\r\n          />\r\n        </div>\r\n        <span className=\"text-sm text-gray-300 w-10 text-right\">{score}%</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`border rounded-lg p-4 ${actionDisplay.borderColor} ${actionDisplay.bgLight}`}>\r\n      {/* Main Three Column Layout */}\r\n      <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n        {/* Column 1: Buy Recommendation with Primary Reason */}\r\n        <div>\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <div className={`p-2 rounded-lg ${actionDisplay.color} text-white`}>\r\n              {actionDisplay.icon}\r\n            </div>\r\n            <div>\r\n              <div className={`text-lg font-bold ${actionDisplay.textColor}`}>\r\n                {actionDisplay.label}\r\n              </div>\r\n              <div className=\"text-sm text-gray-300\">\r\n                Conf: {recommendation.confidence}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Primary Reason */}\r\n          <div className=\"p-2 bg-gray-800/50 rounded-lg mb-3\">\r\n            <div className=\"text-sm font-medium text-gray-400 mb-1\">Primary Reason</div>\r\n            <div className=\"text-base text-white\">{recommendation.primaryReason}</div>\r\n          </div>\r\n          \r\n          {/* Warnings and Opportunities */}\r\n          {(recommendation.warnings.length > 0 || recommendation.opportunities.length > 0) && (\r\n            <div className=\"space-y-1.5 mb-3\">\r\n              {recommendation.warnings.map((warning, idx) => (\r\n                <div key={idx} className=\"flex items-start gap-1.5 text-sm\">\r\n                  <AlertTriangle className=\"w-4 h-4 text-orange-400 flex-shrink-0 mt-0.5\" />\r\n                  <span className=\"text-orange-300 leading-tight\">{warning}</span>\r\n                </div>\r\n              ))}\r\n              {recommendation.opportunities.map((opportunity, idx) => (\r\n                <div key={idx} className=\"flex items-start gap-1.5 text-sm\">\r\n                  <TrendingUp className=\"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5\" />\r\n                  <span className=\"text-green-300 leading-tight\">{opportunity}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          \r\n          {/* Nomination Strategy */}\r\n          <div className=\"bg-purple-900/30 border border-purple-600/30 rounded-lg p-2\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n              <Target className=\"w-4 h-4 text-purple-400\" />\r\n              <span className=\"text-sm text-gray-400\">Nomination</span>\r\n            </div>\r\n            <div className=\"text-sm font-bold text-purple-300\">\r\n              {recommendation.nominationStrategy ? recommendation.nominationStrategy.replace(/-/g, ' ').toUpperCase() : 'CONSIDER'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Column 2: Decision Factors + Warnings/Opportunities */}\r\n        <div className=\"bg-gray-800/30 rounded-lg p-3\">\r\n          <div className=\"text-sm font-medium text-gray-400 uppercase tracking-wider mb-2\">Decision Factors</div>\r\n          <div className=\"space-y-1.5 mb-3\">\r\n            <ScoreBar \r\n              label=\"Value\" \r\n              score={recommendation.valueScore} \r\n              icon={<DollarSign className=\"w-3 h-3 text-gray-400\" />}\r\n            />\r\n            <ScoreBar \r\n              label=\"Need\" \r\n              score={recommendation.needScore} \r\n              icon={<Target className=\"w-3 h-3 text-gray-400\" />}\r\n            />\r\n            <ScoreBar \r\n              label=\"Scarcity\" \r\n              score={recommendation.scarcityScore} \r\n              icon={<Users className=\"w-3 h-3 text-gray-400\" />}\r\n            />\r\n            <ScoreBar \r\n              label=\"Budget\" \r\n              score={recommendation.budgetScore} \r\n              icon={<Zap className=\"w-3 h-3 text-gray-400\" />}\r\n            />\r\n          </div>\r\n          \r\n          {/* Tier Availability */}\r\n          {(() => {\r\n            // Get drafted player IDs\r\n            const draftedIds = new Set(draftHistory.map(pick => pick.player?.id).filter(Boolean));\r\n            \r\n            // Filter available players at same position\r\n            const availableAtPosition = allPlayers.filter(\r\n              p => p.position === player.position && !draftedIds.has(p.playerId)\r\n            );\r\n            \r\n            // Group by tier\r\n            const tierGroups = {\r\n              elite: availableAtPosition.filter(p => p.tier === 'elite'),\r\n              tier1: availableAtPosition.filter(p => p.tier === 'tier1'),\r\n              tier2: availableAtPosition.filter(p => p.tier === 'tier2'),\r\n              tier3: availableAtPosition.filter(p => p.tier === 'tier3'),\r\n              replacement: availableAtPosition.filter(p => p.tier === 'replacement')\r\n            };\r\n            \r\n            // Find highest tier with available players\r\n            let displayTier = '';\r\n            let displayPlayers: ValuationResult[] = [];\r\n            \r\n            if (tierGroups.elite.length > 0) {\r\n              displayTier = 'Elite';\r\n              displayPlayers = tierGroups.elite;\r\n            } else if (tierGroups.tier1.length > 0) {\r\n              displayTier = 'Tier 1';\r\n              displayPlayers = tierGroups.tier1;\r\n            } else if (tierGroups.tier2.length > 0) {\r\n              displayTier = 'Tier 2';\r\n              displayPlayers = tierGroups.tier2;\r\n            } else if (tierGroups.tier3.length > 0) {\r\n              displayTier = 'Tier 3';\r\n              displayPlayers = tierGroups.tier3;\r\n            } else if (tierGroups.replacement.length > 0) {\r\n              displayTier = 'Replacement';\r\n              displayPlayers = tierGroups.replacement;\r\n            }\r\n            \r\n            // Sort by rank\r\n            displayPlayers.sort((a, b) => (a.rank || 999) - (b.rank || 999));\r\n            \r\n            // Helper functions for colors\r\n            const getByeWeekColor = (bye?: number) => {\r\n              if (!bye) return 'text-gray-500';\r\n              if (bye >= 9 && bye <= 11) return 'text-green-500 font-semibold';\r\n              if (bye === 7 || bye === 8 || bye === 12) return 'text-green-400';\r\n              if (bye === 6 || bye === 13) return 'text-yellow-400';\r\n              if (bye === 5 || bye === 14) return 'text-orange-400';\r\n              return 'text-red-400';\r\n            };\r\n            \r\n            const getSosColor = (sos?: number) => {\r\n              if (!sos && sos !== 0) return 'text-gray-500';\r\n              if (sos >= 8) return 'text-red-500 font-semibold';\r\n              if (sos >= 6) return 'text-red-400';\r\n              if (sos >= 4) return 'text-orange-400';\r\n              if (sos >= 2) return 'text-yellow-400';\r\n              if (sos >= 1) return 'text-green-400';\r\n              return 'text-green-500 font-semibold';\r\n            };\r\n            \r\n            // Show more players - up to 6\r\n            const showPlayers = displayPlayers.slice(0, 6);\r\n            const isLastInTier = displayPlayers.length === 1;\r\n            const isCurrentPlayerInList = displayPlayers.some(p => p.playerId === player.playerId);\r\n            \r\n            if (displayPlayers.length === 0) return null;\r\n            \r\n            return (\r\n              <div className=\"mt-3\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Sparkles className=\"w-5 h-5 text-purple-400\" />\r\n                    <span className=\"text-base font-medium text-gray-400\">\r\n                      {displayTier} {player.position}s ({displayPlayers.length})\r\n                    </span>\r\n                  </div>\r\n                  {isLastInTier && (\r\n                    <span className=\"text-sm text-red-400 font-medium\">Last!</span>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"space-y-1\">\r\n                  {showPlayers.map((p, idx) => {\r\n                    const isCurrentPlayer = p.playerId === player.playerId;\r\n                    return (\r\n                      <div \r\n                        key={p.playerId}\r\n                        className={`flex items-center justify-between py-1 px-2 rounded text-sm ${\r\n                          isCurrentPlayer \r\n                            ? 'bg-purple-900/30 border border-purple-600/30' \r\n                            : 'bg-gray-900/30'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className=\"text-gray-500\">#{p.rank || '-'}</span>\r\n                          <span className={`font-medium ${\r\n                            isCurrentPlayer ? 'text-purple-300' : 'text-white'\r\n                          }`}>\r\n                            {p.playerName}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <span className={`${getByeWeekColor(p.byeWeek)}`}>\r\n                            W{p.byeWeek || '-'}\r\n                          </span>\r\n                          <span className={`${getSosColor(p.teamSeasonSOS)}`}>\r\n                            {p.teamSeasonSOS?.toFixed(1) || '-'}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {displayPlayers.length > 6 && (\r\n                    <div className=\"text-center text-sm text-gray-500\">\r\n                      +{displayPlayers.length - 6} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n        \r\n        {/* Column 3: Draft Controls */}\r\n        <div className=\"bg-gray-800/50 border border-gray-600 rounded-lg p-3\">\r\n          <div className=\"mb-2\">\r\n            <label className=\"text-sm text-gray-400 font-medium uppercase tracking-wider\">Draft Price</label>\r\n          </div>\r\n          \r\n          {/* Price Input with Controls */}\r\n          <div className=\"flex items-center gap-1 mb-3\">\r\n            <button\r\n              onClick={() => setSimulatedBid(Math.max(1, (typeof simulatedBid === 'number' ? simulatedBid : 0) - 5))}\r\n              className=\"px-2 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-white text-base\"\r\n            >\r\n              -5\r\n            </button>\r\n            <input\r\n              type=\"number\"\r\n              value={simulatedBid}\r\n              onChange={(e) => {\r\n                const value = e.target.value === '' ? '' : Math.max(0, parseInt(e.target.value) || 0);\r\n                setSimulatedBid(value);\r\n                if (onBidChange && typeof value === 'number') onBidChange(value);\r\n              }}\r\n              onKeyPress={handleKeyPress}\r\n              className=\"flex-1 px-2 py-1.5 bg-gray-900 border border-gray-600 rounded text-white text-center font-bold text-xl\"\r\n              placeholder=\"$\"\r\n            />\r\n            <button\r\n              onClick={() => setSimulatedBid((typeof simulatedBid === 'number' ? simulatedBid : 0) + 5)}\r\n              className=\"px-2 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-white text-base\"\r\n            >\r\n              +5\r\n            </button>\r\n          </div>\r\n\r\n          {/* Quick bid buttons */}\r\n          <div className=\"grid grid-cols-2 gap-1 mb-3\">\r\n            {[\r\n              { label: 'Min', value: 1 },\r\n              { label: '25%', value: Math.floor(recommendation.maxBid * 0.25) },\r\n              { label: '50%', value: Math.floor(recommendation.maxBid * 0.5) },\r\n              { label: '75%', value: Math.floor(recommendation.maxBid * 0.75) },\r\n              { label: 'Max', value: recommendation.maxBid },\r\n              { label: 'Val', value: player.auctionValue || 0 }\r\n            ].map(({ label, value }) => (\r\n              <button\r\n                key={label}\r\n                onClick={() => setSimulatedBid(value)}\r\n                className={`px-2 py-1.5 rounded text-sm ${\r\n                  simulatedBid === value \r\n                    ? 'bg-purple-600 text-white' \r\n                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\r\n                }`}\r\n              >\r\n                {label}: ${value}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Team Selection */}\r\n          <select\r\n            value={selectedTeam}\r\n            onChange={(e) => setSelectedTeam(e.target.value)}\r\n            className=\"w-full px-2 py-1.5 bg-gray-900 border border-gray-600 rounded text-white text-base mb-3\"\r\n          >\r\n            {teams.map(team => (\r\n              <option key={team.id} value={team.name}>\r\n                {team.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Draft Button */}\r\n          <button\r\n            onClick={handleDraft}\r\n            disabled={!simulatedBid || simulatedBid <= 0}\r\n            className={`w-full px-3 py-2.5 rounded font-medium transition-colors text-base ${\r\n              simulatedBid && simulatedBid > 0\r\n                ? 'bg-green-600 hover:bg-green-700 text-white'\r\n                : 'bg-gray-700 text-gray-400 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            Draft for ${simulatedBid || 0}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Team Stack Bonus */}\r\n      {recommendation.teamStackBonus && recommendation.teamStackBonus.synergyBonus > 0 && (\r\n        <div className=\"mb-3 p-2 bg-purple-900/30 border border-purple-600/30 rounded\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Link className=\"w-4 h-4 text-purple-400\" />\r\n            <span className=\"text-sm text-purple-300\">\r\n              {recommendation.teamStackBonus.stackType === 'QB-WR' && ' QB-WR Stack'}\r\n              {recommendation.teamStackBonus.stackType === 'QB-TE' && ' QB-TE Stack'}\r\n              {recommendation.teamStackBonus.stackType === 'multiple' && ' Team Stack'}\r\n              {' '}+{recommendation.teamStackBonus.synergyBonus}% bonus\r\n            </span>\r\n          </div>\r\n          {recommendation.teamStackBonus.warning && (\r\n            <div className=\"text-xs text-orange-300 mt-1\">{recommendation.teamStackBonus.warning}</div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Bye Week Warning */}\r\n      {recommendation.byeWeekImpact?.warning && (\r\n        <div className=\"mb-3 p-2 bg-red-900/30 border border-red-600/30 rounded\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Calendar className=\"w-4 h-4 text-red-400\" />\r\n            <span className=\"text-sm text-red-300\">{recommendation.byeWeekImpact.warning}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BidAdvisorEnhanced;","import React, { useMemo } from 'react';\r\nimport { \r\n  X, \r\n  TrendingUp, \r\n  Award, \r\n  BarChart3, \r\n  DollarSign, \r\n  Target,\r\n  Calendar,\r\n  Activity,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Zap,\r\n  Users,\r\n  Shield,\r\n  ChevronRight\r\n} from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport type { ValuationResult } from '@/lib/calibratedValuationService';\r\nimport type { Player, Position } from '@/types';\r\nimport BidAdvisorEnhanced from './BidAdvisorEnhanced';\r\nimport { pprScoringService } from '@/lib/pprScoringService';\r\nimport { bidAdvisorService } from '@/lib/bidAdvisorService';\r\n\r\ninterface PlayerDetailPanelProps {\r\n  player: ValuationResult | null;\r\n  allPlayers?: ValuationResult[];\r\n  onClose?: () => void;\r\n}\r\n\r\nconst PlayerDetailPanel: React.FC<PlayerDetailPanelProps> = ({ \r\n  player, \r\n  allPlayers = [],\r\n  onClose\r\n}) => {\r\n  const { completeAuction, myTeamId, draftHistory, teams } = useDraftStore();\r\n\r\n  // Calculate PPR metrics - must be before any early returns due to React hooks rules\r\n  const pprMetrics = useMemo(() => {\r\n    if (!player) return null;\r\n    \r\n    // Map ValuationResult data to PPR service format\r\n    const playerStats = {\r\n      position: player.position,\r\n      targets: player.targets,\r\n      receptions: player.receptions,\r\n      games: player.games || 16, // Default to 16 if not provided\r\n      teamTargets: player.teamTargets,\r\n      catchableTargets: player.catchableTargets || player.targets, // Fallback to targets\r\n      yardsPerRouteRun: player.yardsPerRouteRun,\r\n      redZoneTargets: player.redZoneTargets,\r\n      routesRun: player.routesRun,\r\n      teamPassPlays: player.teamPassPlays,\r\n      receivingYards: player.receivingYards,\r\n      teamReceivingYards: player.teamReceivingYards,\r\n      dropRate: player.dropRate\r\n    };\r\n    \r\n    return pprScoringService.calculatePPRScore(playerStats);\r\n  }, [player]);\r\n\r\n  // Calculate market inflation using the same logic as BidAdvisorEnhanced\r\n  const marketInflation = useMemo(() => {\r\n    if (!player) return 0;\r\n    \r\n    const foundTeam = teams.find(t => t.id === myTeamId);\r\n    const myPlayers = foundTeam?.roster?.map(pick => pick.player) || [];\r\n    const remainingBudget = foundTeam ? (foundTeam.budget - foundTeam.spent) : 200;\r\n    \r\n    const myTeam = {\r\n      id: foundTeam?.id || myTeamId || 'team_0',\r\n      name: foundTeam?.name || 'My Team',\r\n      budget: remainingBudget,\r\n      players: myPlayers,\r\n      isUser: true,\r\n      maxBid: foundTeam?.maxBid || remainingBudget,\r\n      nominations: 0\r\n    };\r\n\r\n    const convertedTeams = teams.map(t => ({\r\n      id: t.id,\r\n      name: t.name,\r\n      budget: t.budget - t.spent,\r\n      players: t.roster?.map(pick => pick.player) || [],\r\n      isUser: t.id === myTeamId,\r\n      maxBid: t.maxBid || (t.budget - t.spent),\r\n      nominations: 0\r\n    }));\r\n    \r\n    const draftedIds = new Set(\r\n      draftHistory.map(pick => pick.player?.id || (pick.player as any)?.playerId).filter(Boolean)\r\n    );\r\n    \r\n    const availablePlayers = allPlayers.filter(p => {\r\n      const playerId = p.playerId || p.id;\r\n      return !draftedIds.has(playerId);\r\n    });\r\n\r\n    const context = {\r\n      myTeam,\r\n      allTeams: convertedTeams.length > 0 ? convertedTeams : [myTeam],\r\n      draftHistory: draftHistory || [],\r\n      availablePlayers,\r\n      currentBid: 0,\r\n      totalBudget: 200,\r\n      rosterRequirements: {\r\n        QB: { min: 1, max: 2, optimal: 1 },\r\n        RB: { min: 2, max: 6, optimal: 4 },\r\n        WR: { min: 2, max: 6, optimal: 4 },\r\n        TE: { min: 1, max: 3, optimal: 2 },\r\n        DST: { min: 1, max: 2, optimal: 1 },\r\n        K: { min: 1, max: 2, optimal: 1 },\r\n        FLEX: { count: 1, eligiblePositions: ['RB', 'WR', 'TE'] },\r\n        BENCH: 6\r\n      }\r\n    };\r\n\r\n    const recommendation = bidAdvisorService.getRecommendation(player, context, 0);\r\n    return recommendation.marketInflation;\r\n  }, [player, teams, myTeamId, draftHistory, allPlayers]);\r\n\r\n  if (!player) {\r\n    return (\r\n      <div className=\"bg-gray-900/80 backdrop-blur-sm border border-gray-700/50 rounded-xl p-3\">\r\n        <div className=\"flex items-center justify-center gap-3 text-gray-500\">\r\n          <Target className=\"w-5 h-5 opacity-40\" />\r\n          <div>\r\n            <p className=\"text-sm font-medium\">No Player Selected</p>\r\n            <p className=\"text-xs opacity-75\">Search or click the eye icon on any player</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleDraft = (price: number, teamId: string) => {\r\n    const playerData: Player = {\r\n      id: player.playerId,\r\n      name: player.playerName,\r\n      position: player.position as Position,\r\n      team: player.team,\r\n      playerId: player.playerId,\r\n      projectedPoints: player.projectedPoints || 0,\r\n      auctionValue: player.auctionValue || 0,\r\n      marketValue: player.marketValue || 0,\r\n      vorp: player.vorp || 0,\r\n      tier: player.tier || 'replacement'\r\n    };\r\n    completeAuction(playerData, price, teamId);\r\n    \r\n    // Close the panel after drafting\r\n    if (onClose) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Get position color\r\n  const getPositionColor = () => {\r\n    const colors: Record<string, string> = {\r\n      QB: 'bg-red-500/20 text-red-400 border-red-500/30',\r\n      RB: 'bg-green-500/20 text-green-400 border-green-500/30',\r\n      WR: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\r\n      TE: 'bg-orange-500/20 text-orange-400 border-orange-500/30',\r\n      DST: 'bg-purple-500/20 text-purple-400 border-purple-500/30',\r\n      K: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30'\r\n    };\r\n    return colors[player.position] || 'bg-gray-500/20 text-gray-400 border-gray-500/30';\r\n  };\r\n\r\n  // Get tier badge\r\n  const getTierBadge = () => {\r\n    const tierMap: Record<string, { label: string; color: string }> = {\r\n      elite: { label: 'ELITE', color: 'bg-gradient-to-r from-purple-600 to-pink-600 text-white' },\r\n      tier1: { label: 'T1', color: 'bg-blue-600 text-white' },\r\n      tier2: { label: 'T2', color: 'bg-green-600 text-white' },\r\n      tier3: { label: 'T3', color: 'bg-yellow-600 text-white' },\r\n      replacement: { label: 'REP', color: 'bg-gray-600 text-gray-300' }\r\n    };\r\n    const tier = tierMap[player.tier] || tierMap.replacement;\r\n    return tier;\r\n  };\r\n\r\n  // Get recommendation\r\n  const getRecommendation = () => {\r\n    if (!player.edge) return { text: 'HOLD', color: 'text-gray-400', bg: 'bg-gray-800', icon: <AlertCircle className=\"w-3 h-3\" /> };\r\n    if (player.edge > 10) return { text: 'STRONG BUY', color: 'text-green-400', bg: 'bg-green-900/30', icon: <CheckCircle className=\"w-3 h-3\" /> };\r\n    if (player.edge > 5) return { text: 'BUY', color: 'text-green-300', bg: 'bg-green-900/20', icon: <TrendingUp className=\"w-3 h-3\" /> };\r\n    if (player.edge > 0) return { text: 'VALUE', color: 'text-yellow-300', bg: 'bg-yellow-900/20', icon: <Zap className=\"w-3 h-3\" /> };\r\n    if (player.edge > -5) return { text: 'FAIR', color: 'text-gray-300', bg: 'bg-gray-800', icon: <Activity className=\"w-3 h-3\" /> };\r\n    return { text: 'AVOID', color: 'text-red-400', bg: 'bg-red-900/20', icon: <X className=\"w-3 h-3\" /> };\r\n  };\r\n\r\n  const recommendation = getRecommendation();\r\n  const tier = getTierBadge();\r\n  const edgePercent = player.edge && player.marketValue \r\n    ? ((player.edge / player.marketValue) * 100).toFixed(0) \r\n    : '0';\r\n\r\n\r\n  return (\r\n    <div className=\"bg-gray-900/90 backdrop-blur-md border border-gray-700/50 rounded-xl overflow-hidden shadow-2xl\">\r\n      {/* Compact Header Bar with All Valuation Info */}\r\n      <div className=\"bg-gradient-to-r from-gray-800 to-gray-850 px-4 py-2.5 border-b border-gray-700/50\">\r\n        <div className=\"flex items-center justify-between gap-3\">\r\n          {/* Left: Player Identity */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className={`px-2 py-1 rounded text-lg font-bold border-2 ${getPositionColor()}`}>\r\n              {player.position}\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-white\">{player.playerName}</h2>\r\n            <span className=\"text-gray-400 text-xl\">{player.team}</span>\r\n            <div className={`px-3 py-1.5 rounded text-lg font-bold ${tier.color}`}>\r\n              {tier.label}\r\n            </div>\r\n            <div className={`flex items-center gap-1 px-3 py-1 rounded-full ${recommendation.bg} ${recommendation.color}`}>\r\n              {recommendation.icon}\r\n              <span className=\"text-sm font-semibold\">{recommendation.text}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Center: Budget, Valuation Metrics, and Draft Progress */}\r\n          <div className=\"flex items-center gap-4\">\r\n            {/* Budget Info */}\r\n            {(() => {\r\n              const myTeam = teams.find(t => t.id === myTeamId);\r\n              const myBudget = myTeam ? (myTeam.budget - myTeam.spent) : 200;\r\n              // Calculate average of OPPONENT teams only (excluding my team)\r\n              const opponentTeams = teams.filter(t => t.id !== myTeamId);\r\n              const avgOpponentBudget = opponentTeams.length > 0 \r\n                ? Math.round(opponentTeams.reduce((sum, t) => sum + (t.budget - t.spent), 0) / opponentTeams.length)\r\n                : 200;\r\n              \r\n              // Calculate difference for additional context\r\n              const budgetDiff = myBudget - avgOpponentBudget;\r\n              \r\n              return (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <DollarSign className=\"w-5 h-5 text-green-400\" />\r\n                  <div>\r\n                    <div className=\"text-xs text-gray-500 font-medium\">BUDGET</div>\r\n                    <div className=\"text-2xl font-bold\">\r\n                      <span className={`${\r\n                        myBudget > avgOpponentBudget ? 'text-green-400' : \r\n                        myBudget < avgOpponentBudget ? 'text-red-400' : 'text-gray-300'\r\n                      }`}>\r\n                        ${myBudget}\r\n                      </span>\r\n                      <span className=\"text-lg text-gray-500 ml-2\">\r\n                        vs ${avgOpponentBudget}\r\n                      </span>\r\n                      {budgetDiff !== 0 && (\r\n                        <span className={`text-base ml-2 ${\r\n                          budgetDiff > 0 ? 'text-green-400' : 'text-red-400'\r\n                        }`}>\r\n                          ({budgetDiff > 0 ? '+' : ''}{budgetDiff})\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })()}\r\n            \r\n            {/* Valuation Metrics */}\r\n            <div className=\"flex items-center gap-6 bg-gray-900/50 rounded px-4 py-2\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xs text-gray-500 font-medium\">VALUE</div>\r\n                <div className=\"text-2xl font-bold text-white\">${player.intrinsicValue?.toFixed(0) || 0}</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xs text-gray-500 font-medium\">MARKET</div>\r\n                <div className=\"text-2xl font-bold text-blue-400\">${player.marketValue || 0}</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xs text-gray-500 font-medium\">EDGE</div>\r\n                <div className={`text-2xl font-bold ${player.edge && player.edge > 0 ? 'text-green-400' : 'text-red-400'}`}>\r\n                  {player.edge && player.edge > 0 ? '+' : ''}${Math.abs(player.edge || 0).toFixed(0)}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xs text-gray-500 font-medium\">MAX</div>\r\n                <div className=\"text-2xl font-bold text-yellow-400\">\r\n                  ${player.value || 0}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* PPR Score Display */}\r\n            {pprMetrics && (\r\n              <div className=\"flex items-center gap-2 bg-gray-900/50 rounded px-3 py-2\">\r\n                <Target className=\"w-5 h-5 text-purple-400\" />\r\n                <div>\r\n                  <div className=\"text-xs text-gray-500 font-medium\">PPR</div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className={`text-2xl font-bold ${pprMetrics.color}`}>\r\n                      {pprMetrics.score.toFixed(0)}\r\n                    </div>\r\n                    <div \r\n                      className=\"w-12 h-2 bg-gray-700 rounded-full overflow-hidden\"\r\n                      title={`PPR Score: ${pprMetrics.score.toFixed(1)}/100`}\r\n                    >\r\n                      <div \r\n                        className=\"h-full transition-all duration-300\"\r\n                        style={{ \r\n                          width: `${pprMetrics.score}%`,\r\n                          backgroundColor: pprMetrics.hexColor \r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Draft Progress */}\r\n            {(() => {\r\n              const totalPicks = (teams.length || 12) * 16;\r\n              const percentComplete = Math.round((draftHistory.length / totalPicks) * 100);\r\n              const phase = percentComplete < 25 ? 'early' : \r\n                          percentComplete < 50 ? 'early-mid' :\r\n                          percentComplete < 75 ? 'late-mid' : 'late';\r\n              \r\n              return (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Activity className=\"w-5 h-5 text-blue-400\" />\r\n                  <div>\r\n                    <div className=\"text-xs text-gray-500 font-medium\">DRAFT</div>\r\n                    <div className=\"text-2xl font-bold\">\r\n                      <span className=\"text-white\">{percentComplete}%</span>\r\n                      <span className=\"text-lg text-gray-500 ml-2\">\r\n                        ({phase})\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })()}\r\n            \r\n            {/* Market Inflation - Moved from BidAdvisorEnhanced */}\r\n            <div className=\"flex items-center gap-2 bg-gray-900/50 rounded px-3 py-2\">\r\n              <TrendingUp className=\"w-5 h-5 text-purple-400\" />\r\n              <div>\r\n                <div className=\"text-xs text-gray-500 font-medium\">INFLATION</div>\r\n                <div className={`text-2xl font-bold ${\r\n                  marketInflation > 10 ? 'text-red-400' :\r\n                  marketInflation > 5 ? 'text-orange-400' :\r\n                  marketInflation < -10 ? 'text-blue-400' :\r\n                  marketInflation < -5 ? 'text-cyan-400' :\r\n                  'text-gray-400'\r\n                }`}>\r\n                  {marketInflation > 0 ? '+' : ''}{marketInflation}%\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right: Tier Availability Indicators and Close */}\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Tier Availability */}\r\n            <div className=\"bg-gray-900/50 rounded px-4 py-2\">\r\n              {(() => {\r\n                const draftedIds = new Set(draftHistory.map(pick => pick.player?.id).filter(Boolean));\r\n                \r\n                // Filter available players at same position\r\n                const availableAtPosition = allPlayers.filter(\r\n                  p => p.position === player.position && !draftedIds.has(p.playerId)\r\n                );\r\n                \r\n                // Group by tier and count\r\n                const tierCounts = {\r\n                  elite: availableAtPosition.filter(p => p.tier === 'elite').length,\r\n                  tier1: availableAtPosition.filter(p => p.tier === 'tier1').length,\r\n                  tier2: availableAtPosition.filter(p => p.tier === 'tier2').length,\r\n                  tier3: availableAtPosition.filter(p => p.tier === 'tier3').length,\r\n                };\r\n                \r\n                return (\r\n                  <div className=\"flex items-center gap-4\">\r\n                    {/* Elite */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500 font-medium\">ELITE</div>\r\n                      <div className={`text-2xl font-bold ${\r\n                        tierCounts.elite > 0 ? 'text-purple-400' : 'text-gray-600'\r\n                      }`}>\r\n                        {tierCounts.elite}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Tier 1 */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500 font-medium\">TIER 1</div>\r\n                      <div className={`text-2xl font-bold ${\r\n                        tierCounts.tier1 > 0 ? 'text-blue-400' : 'text-gray-600'\r\n                      }`}>\r\n                        {tierCounts.tier1}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Tier 2 */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500 font-medium\">TIER 2</div>\r\n                      <div className={`text-2xl font-bold ${\r\n                        tierCounts.tier2 > 0 ? 'text-green-400' : 'text-gray-600'\r\n                      }`}>\r\n                        {tierCounts.tier2}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Tier 3 */}\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-xs text-gray-500 font-medium\">TIER 3</div>\r\n                      <div className={`text-2xl font-bold ${\r\n                        tierCounts.tier3 > 0 ? 'text-yellow-400' : 'text-gray-600'\r\n                      }`}>\r\n                        {tierCounts.tier3}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })()}\r\n            </div>\r\n            \r\n            {onClose && (\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-500 hover:text-white transition-colors p-0.5 hover:bg-gray-700 rounded\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Full Width Bid Advisor Area */}\r\n      <div className=\"bg-gray-850/50 p-2\">\r\n        <div className=\"bg-gray-800/50 rounded-lg border border-gray-700/30 p-3\">\r\n          <BidAdvisorEnhanced \r\n            player={player} \r\n            allPlayers={allPlayers}\r\n            onDraft={handleDraft}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDetailPanel;","/**\r\n * Draft Simulator for Testing Robust RB Strategy\r\n */\r\n\r\nimport { bidAdvisorService } from './bidAdvisorService';\r\nimport { calibratedValuationService } from './calibratedValuationService';\r\nimport type { ValuationResult } from './calibratedValuationService';\r\nimport type { Player, Team, DraftContext } from '../types';\r\n\r\ninterface SimTeam {\r\n  id: string;\r\n  name: string;\r\n  budget: number;\r\n  spent: number;\r\n  roster: Player[];\r\n  strategy: string;\r\n  isUser: boolean;\r\n  nominations: number;\r\n}\r\n\r\ninterface DraftPick {\r\n  pickNumber: number;\r\n  teamId: string;\r\n  player: Player;\r\n  price: number;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface SimulationResult {\r\n  userTeam: SimTeam;\r\n  allTeams: SimTeam[];\r\n  draftHistory: DraftPick[];\r\n  analysis: {\r\n    meetsRequirements: boolean;\r\n    budgetEfficient: boolean;\r\n    rbHeavy: boolean;\r\n    eliteRBCount: number;\r\n    totalSpent: number;\r\n    rbSpend: number;\r\n    rbSpendPercent: number;\r\n    projectedPoints: number;\r\n    leagueRank: number;\r\n    positionCounts: Record<string, number>;\r\n    positionSpend: Record<string, number>;\r\n  };\r\n}\r\n\r\nexport class DraftSimulator {\r\n  private allPlayers: ValuationResult[] = [];\r\n  private availablePlayers: ValuationResult[] = [];\r\n  private teams: SimTeam[] = [];\r\n  private draftHistory: DraftPick[] = [];\r\n  private pickNumber = 0;\r\n  private nominationOrder = 0;\r\n\r\n  constructor() {\r\n    // Initialize 12 teams\r\n    this.teams = Array.from({ length: 12 }, (_, i) => ({\r\n      id: `team_${i}`,\r\n      name: i === 0 ? 'User Team' : `Team ${i + 1}`,\r\n      budget: 200,\r\n      spent: 0,\r\n      roster: [],\r\n      strategy: i === 0 ? 'robust-rb' : ['balanced', 'stars', 'zero-rb'][i % 3],\r\n      isUser: i === 0,\r\n      nominations: 0\r\n    }));\r\n  }\r\n\r\n  async initialize() {\r\n    // Load data and get valuations\r\n    let valuations: ValuationResult[] = [];\r\n    \r\n    // Try to get from exposed valuations first (browser environment)\r\n    if (typeof window !== 'undefined' && (window as any).__playerValuations && (window as any).__playerValuations.length > 0) {\r\n      valuations = (window as any).__playerValuations;\r\n      console.log(`Loaded ${valuations.length} players from app data`);\r\n    } else {\r\n      // Use mock data for testing\r\n      // Using mock data for simulation\r\n      valuations = this.createMockValuations();\r\n    }\r\n    \r\n    // Filter to draftable players and sort by value\r\n    this.allPlayers = valuations\r\n      .filter(p => p.value && p.value > 0)\r\n      .sort((a, b) => (b.value || 0) - (a.value || 0))\r\n      .slice(0, 300); // Top 300 players\r\n    \r\n    this.availablePlayers = [...this.allPlayers];\r\n  }\r\n  \r\n  private createMockValuations(): ValuationResult[] {\r\n    // Create realistic mock data for testing\r\n    const mockPlayers: ValuationResult[] = [];\r\n    \r\n    // Add elite RBs - INCREASED VALUES for proper budget spending\r\n    const eliteRBs = [\r\n      { playerName: 'Christian McCaffrey', position: 'RB', tier: 'elite', value: 75, marketValue: 72, projectedPoints: 320 },\r\n      { playerName: 'Breece Hall', position: 'RB', tier: 'elite', value: 68, marketValue: 65, projectedPoints: 305 },\r\n      { playerName: 'Bijan Robinson', position: 'RB', tier: 'elite', value: 65, marketValue: 62, projectedPoints: 300 },\r\n    ];\r\n    \r\n    // Add tier1 RBs - INCREASED VALUES\r\n    const tier1RBs = [\r\n      { playerName: 'Saquon Barkley', position: 'RB', tier: 'tier1', value: 52, marketValue: 48, projectedPoints: 285 },\r\n      { playerName: 'Jonathan Taylor', position: 'RB', tier: 'tier1', value: 48, marketValue: 45, projectedPoints: 280 },\r\n      { playerName: 'Jahmyr Gibbs', position: 'RB', tier: 'tier1', value: 46, marketValue: 43, projectedPoints: 275 },\r\n      { playerName: 'Travis Etienne', position: 'RB', tier: 'tier1', value: 42, marketValue: 40, projectedPoints: 270 },\r\n    ];\r\n    \r\n    // Add elite WRs\r\n    const eliteWRs = [\r\n      { playerName: 'CeeDee Lamb', position: 'WR', tier: 'elite', value: 55, marketValue: 53, projectedPoints: 290 },\r\n      { playerName: 'Tyreek Hill', position: 'WR', tier: 'elite', value: 52, marketValue: 50, projectedPoints: 285 },\r\n      { playerName: 'Amon-Ra St. Brown', position: 'WR', tier: 'elite', value: 50, marketValue: 48, projectedPoints: 280 },\r\n    ];\r\n    \r\n    // Add more players for each position - MORE RBs for depth\r\n    const tier2RBs = [\r\n      { playerName: 'Derrick Henry', position: 'RB', tier: 'tier2', value: 38, marketValue: 35, projectedPoints: 250 },\r\n      { playerName: 'James Cook', position: 'RB', tier: 'tier2', value: 35, marketValue: 32, projectedPoints: 240 },\r\n      { playerName: 'Kyren Williams', position: 'RB', tier: 'tier2', value: 32, marketValue: 30, projectedPoints: 235 },\r\n      { playerName: 'Rachaad White', position: 'RB', tier: 'tier2', value: 28, marketValue: 26, projectedPoints: 230 },\r\n      { playerName: 'Kenneth Walker', position: 'RB', tier: 'tier2', value: 26, marketValue: 24, projectedPoints: 225 },\r\n    ];\r\n    \r\n    const tier2WRs = [\r\n      { playerName: 'Mike Evans', position: 'WR', tier: 'tier2', value: 38, marketValue: 36, projectedPoints: 255 },\r\n      { playerName: 'Chris Olave', position: 'WR', tier: 'tier2', value: 35, marketValue: 33, projectedPoints: 245 },\r\n      { playerName: 'Nico Collins', position: 'WR', tier: 'tier2', value: 32, marketValue: 30, projectedPoints: 240 },\r\n    ];\r\n    \r\n    // Add QBs\r\n    const qbs = [\r\n      { playerName: 'Josh Allen', position: 'QB', tier: 'elite', value: 35, marketValue: 33, projectedPoints: 380 },\r\n      { playerName: 'Jalen Hurts', position: 'QB', tier: 'elite', value: 32, marketValue: 30, projectedPoints: 370 },\r\n      { playerName: 'Lamar Jackson', position: 'QB', tier: 'tier1', value: 28, marketValue: 26, projectedPoints: 360 },\r\n      { playerName: 'Dak Prescott', position: 'QB', tier: 'tier2', value: 15, marketValue: 13, projectedPoints: 330 },\r\n    ];\r\n    \r\n    // Add TEs\r\n    const tes = [\r\n      { playerName: 'Travis Kelce', position: 'TE', tier: 'elite', value: 35, marketValue: 33, projectedPoints: 220 },\r\n      { playerName: 'T.J. Hockenson', position: 'TE', tier: 'tier1', value: 22, marketValue: 20, projectedPoints: 180 },\r\n      { playerName: 'Mark Andrews', position: 'TE', tier: 'tier1', value: 20, marketValue: 18, projectedPoints: 175 },\r\n    ];\r\n    \r\n    // Add value players with realistic names\r\n    const tier3RBs = [\r\n      { playerName: 'Tony Pollard', position: 'RB', tier: 'tier3', value: 18, marketValue: 16, projectedPoints: 200 },\r\n      { playerName: 'Najee Harris', position: 'RB', tier: 'tier3', value: 16, marketValue: 14, projectedPoints: 195 },\r\n      { playerName: 'Joe Mixon', position: 'RB', tier: 'tier3', value: 14, marketValue: 12, projectedPoints: 190 },\r\n      { playerName: 'Alvin Kamara', position: 'RB', tier: 'tier3', value: 12, marketValue: 10, projectedPoints: 185 },\r\n      { playerName: 'Rhamondre Stevenson', position: 'RB', tier: 'tier3', value: 10, marketValue: 9, projectedPoints: 180 },\r\n    ];\r\n    \r\n    const valueRBs = [\r\n      { playerName: 'Brian Robinson', position: 'RB', tier: 'tier4', value: 8, marketValue: 7, projectedPoints: 160 },\r\n      { playerName: 'Jaylen Warren', position: 'RB', tier: 'tier4', value: 6, marketValue: 5, projectedPoints: 150 },\r\n      { playerName: 'Tyjae Spears', position: 'RB', tier: 'tier4', value: 5, marketValue: 4, projectedPoints: 140 },\r\n      { playerName: 'Zach Charbonnet', position: 'RB', tier: 'tier4', value: 4, marketValue: 3, projectedPoints: 130 },\r\n      { playerName: 'Tank Bigsby', position: 'RB', tier: 'tier5', value: 3, marketValue: 2, projectedPoints: 120 },\r\n      { playerName: 'Roschon Johnson', position: 'RB', tier: 'tier5', value: 2, marketValue: 2, projectedPoints: 110 },\r\n      { playerName: 'Khalil Herbert', position: 'RB', tier: 'tier5', value: 2, marketValue: 1, projectedPoints: 100 },\r\n      { playerName: 'Chase Brown', position: 'RB', tier: 'tier5', value: 1, marketValue: 1, projectedPoints: 90 },\r\n    ];\r\n    \r\n    const tier3WRs = [\r\n      { playerName: 'Calvin Ridley', position: 'WR', tier: 'tier3', value: 25, marketValue: 23, projectedPoints: 220 },\r\n      { playerName: 'Terry McLaurin', position: 'WR', tier: 'tier3', value: 22, marketValue: 20, projectedPoints: 210 },\r\n      { playerName: 'DeAndre Hopkins', position: 'WR', tier: 'tier3', value: 20, marketValue: 18, projectedPoints: 200 },\r\n      { playerName: 'Amari Cooper', position: 'WR', tier: 'tier3', value: 18, marketValue: 16, projectedPoints: 195 },\r\n      { playerName: 'Christian Kirk', position: 'WR', tier: 'tier3', value: 16, marketValue: 14, projectedPoints: 190 },\r\n    ];\r\n    \r\n    const valueWRs = [\r\n      { playerName: 'Diontae Johnson', position: 'WR', tier: 'tier4', value: 12, marketValue: 10, projectedPoints: 180 },\r\n      { playerName: 'Michael Pittman', position: 'WR', tier: 'tier4', value: 10, marketValue: 9, projectedPoints: 175 },\r\n      { playerName: 'Jaxon Smith-Njigba', position: 'WR', tier: 'tier4', value: 8, marketValue: 7, projectedPoints: 170 },\r\n      { playerName: 'Khalil Shakir', position: 'WR', tier: 'tier4', value: 6, marketValue: 5, projectedPoints: 165 },\r\n      { playerName: 'Rashid Shaheed', position: 'WR', tier: 'tier4', value: 5, marketValue: 4, projectedPoints: 160 },\r\n      { playerName: 'Josh Downs', position: 'WR', tier: 'tier5', value: 4, marketValue: 3, projectedPoints: 150 },\r\n      { playerName: 'Quentin Johnston', position: 'WR', tier: 'tier5', value: 3, marketValue: 2, projectedPoints: 140 },\r\n      { playerName: 'Romeo Doubs', position: 'WR', tier: 'tier5', value: 2, marketValue: 2, projectedPoints: 130 },\r\n      { playerName: 'Wan\\'Dale Robinson', position: 'WR', tier: 'tier5', value: 2, marketValue: 1, projectedPoints: 120 },\r\n      { playerName: 'Darnell Mooney', position: 'WR', tier: 'tier5', value: 1, marketValue: 1, projectedPoints: 110 },\r\n    ];\r\n    \r\n    // Add DST and K\r\n    const dsts = [\r\n      { playerName: 'Ravens DST', position: 'DST', tier: 'tier1', value: 3, marketValue: 2, projectedPoints: 120 },\r\n      { playerName: 'Cowboys DST', position: 'DST', tier: 'tier2', value: 2, marketValue: 1, projectedPoints: 110 },\r\n    ];\r\n    \r\n    const kickers = [\r\n      { playerName: 'Justin Tucker', position: 'K', tier: 'tier1', value: 2, marketValue: 1, projectedPoints: 140 },\r\n      { playerName: 'Harrison Butker', position: 'K', tier: 'tier1', value: 1, marketValue: 1, projectedPoints: 135 },\r\n    ];\r\n    \r\n    // Combine all players\r\n    mockPlayers.push(\r\n      ...eliteRBs, ...tier1RBs, ...eliteWRs, ...tier2RBs, ...tier2WRs,\r\n      ...tier3RBs, ...tier3WRs, ...qbs, ...tes, ...valueRBs, ...valueWRs, ...dsts, ...kickers\r\n    );\r\n    \r\n    // Add required fields for ValuationResult\r\n    return mockPlayers.map((p, idx) => ({\r\n      ...p,\r\n      playerId: `player_${idx}`,\r\n      team: 'TEAM',\r\n      auctionValue: p.value,\r\n      intrinsicValue: p.value,\r\n      edge: (p.value || 0) - (p.marketValue || 0),\r\n      vorp: p.value || 0,\r\n      maxBid: (p.value || 0) * 1.1,\r\n      marketPrice: p.marketValue\r\n    } as ValuationResult));\r\n  }\r\n\r\n  private getTeamNeeds(team: SimTeam): string[] {\r\n    const posCounts: Record<string, number> = {};\r\n    team.roster.forEach(p => {\r\n      posCounts[p.position] = (posCounts[p.position] || 0) + 1;\r\n    });\r\n\r\n    const needs: string[] = [];\r\n    const slotsLeft = 16 - team.roster.length;\r\n    \r\n    // Priority order based on requirements\r\n    if ((posCounts.QB || 0) < 1) needs.push('QB');\r\n    if ((posCounts.RB || 0) < 2) needs.push('RB');\r\n    if ((posCounts.WR || 0) < 2) needs.push('WR');\r\n    if ((posCounts.TE || 0) < 1) needs.push('TE');\r\n    if ((posCounts.DST || 0) < 1 && slotsLeft > 2) needs.push('DST');\r\n    if ((posCounts.K || 0) < 1 && slotsLeft > 2) needs.push('K');\r\n    \r\n    // Fill out with best available after minimums\r\n    if (needs.length === 0) {\r\n      if ((posCounts.RB || 0) < 5) needs.push('RB');\r\n      if ((posCounts.WR || 0) < 5) needs.push('WR');\r\n      if ((posCounts.TE || 0) < 2) needs.push('TE');\r\n      if ((posCounts.QB || 0) < 2) needs.push('QB');\r\n    }\r\n\r\n    return needs;\r\n  }\r\n\r\n  private nominatePlayer(nominatingTeam: SimTeam): ValuationResult | null {\r\n    if (this.availablePlayers.length === 0) return null;\r\n    \r\n    const teamNeeds = this.getTeamNeeds(nominatingTeam);\r\n    const draftProgress = this.pickNumber / 192;\r\n    \r\n    // User team nominates strategically for Robust RB\r\n    if (nominatingTeam.isUser && draftProgress < 0.3) {\r\n      // Early: nominate non-RB studs to drain other budgets\r\n      const eliteNonRBs = this.availablePlayers.filter(p => \r\n        p.position !== 'RB' && p.tier === 'elite'\r\n      );\r\n      if (eliteNonRBs.length > 0) {\r\n        return eliteNonRBs[0];\r\n      }\r\n    }\r\n    \r\n    // Nominate based on team needs\r\n    if (teamNeeds.length > 0) {\r\n      const neededPlayers = this.availablePlayers.filter(p => \r\n        teamNeeds.includes(p.position)\r\n      );\r\n      \r\n      if (neededPlayers.length > 0) {\r\n        return neededPlayers[0];\r\n      }\r\n    }\r\n    \r\n    // Late in draft, nominate cheaper players\r\n    if (draftProgress > 0.7) {\r\n      const cheapPlayers = this.availablePlayers.filter(p => (p.value || 0) <= 5);\r\n      if (cheapPlayers.length > 0) {\r\n        return cheapPlayers[Math.floor(Math.random() * Math.min(10, cheapPlayers.length))];\r\n      }\r\n    }\r\n    \r\n    // Otherwise top available with some randomness\r\n    const topN = Math.min(20, this.availablePlayers.length);\r\n    const idx = Math.floor(Math.random() * topN);\r\n    return this.availablePlayers[idx];\r\n  }\r\n\r\n  private simulateAuction(player: ValuationResult): { winner: SimTeam; price: number } | null {\r\n    let currentBid = 1;\r\n    let leadingTeam: SimTeam | null = null;\r\n    const baseValue = player.value || 1;\r\n    \r\n    // Track bidding rounds\r\n    let biddingRounds = 0;\r\n    const maxRounds = 10;\r\n    \r\n    while (biddingRounds < maxRounds) {\r\n      let newBidder: SimTeam | null = null;\r\n      let highestBid = currentBid;\r\n      \r\n      for (const team of this.teams) {\r\n        if (team === leadingTeam) continue;\r\n        \r\n        const budget = team.budget - team.spent;\r\n        const slotsLeft = 16 - team.roster.length;\r\n        const maxAfford = budget - (slotsLeft - 1);\r\n        \r\n        if (maxAfford <= currentBid) continue;\r\n        \r\n        const teamNeeds = this.getTeamNeeds(team);\r\n        const needsPlayer = teamNeeds.includes(player.position);\r\n        \r\n        let teamMax = baseValue;\r\n        \r\n        if (team.isUser) {\r\n          // User team uses recommendation system\r\n          const context = this.buildContext(team);\r\n          const rec = bidAdvisorService.getRecommendation(player, context, currentBid);\r\n          \r\n          if (rec.action === 'strong-buy') {\r\n            teamMax = rec.maxBid;\r\n          } else if (rec.action === 'consider') {\r\n            teamMax = rec.maxBid * 0.95;\r\n          } else {\r\n            continue;\r\n          }\r\n        } else {\r\n          // AI teams use strategy-based bidding\r\n          const positionCounts: Record<string, number> = {};\r\n          team.roster.forEach(p => {\r\n            positionCounts[p.position] = (positionCounts[p.position] || 0) + 1;\r\n          });\r\n          \r\n          if (needsPlayer && slotsLeft <= 5) {\r\n            teamMax = baseValue * 1.3;\r\n          } else if (team.strategy === 'stars' && player.tier === 'elite') {\r\n            teamMax = baseValue * 1.25;\r\n          } else if (team.strategy === 'zero-rb' && player.position === 'RB') {\r\n            teamMax = baseValue * 0.6;\r\n          } else if (team.strategy === 'balanced') {\r\n            teamMax = baseValue * (0.95 + Math.random() * 0.15);\r\n          } else {\r\n            teamMax = baseValue * (0.9 + Math.random() * 0.25);\r\n          }\r\n          \r\n          // Scarcity adjustments\r\n          if (player.position === 'QB' && (positionCounts.QB || 0) === 0) {\r\n            teamMax *= 1.15;\r\n          }\r\n          if (player.position === 'TE' && (positionCounts.TE || 0) === 0 && player.tier !== 'replacement') {\r\n            teamMax *= 1.1;\r\n          }\r\n        }\r\n        \r\n        const increment = currentBid < 10 ? 1 : currentBid < 30 ? 2 : 3;\r\n        const bidAmount = Math.min(currentBid + increment, Math.floor(teamMax), maxAfford);\r\n        \r\n        if (bidAmount > highestBid) {\r\n          highestBid = bidAmount;\r\n          newBidder = team;\r\n        }\r\n      }\r\n      \r\n      if (newBidder) {\r\n        currentBid = highestBid;\r\n        leadingTeam = newBidder;\r\n        biddingRounds++;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (leadingTeam) {\r\n      return { winner: leadingTeam, price: currentBid };\r\n    }\r\n    \r\n    // Force sale to needy team\r\n    const needyTeams = this.teams\r\n      .filter(t => t.roster.length < 16 && t.budget - t.spent >= 16 - t.roster.length)\r\n      .sort((a, b) => {\r\n        const aNeeds = this.getTeamNeeds(a);\r\n        const bNeeds = this.getTeamNeeds(b);\r\n        if (aNeeds.includes(player.position) && !bNeeds.includes(player.position)) return -1;\r\n        if (!aNeeds.includes(player.position) && bNeeds.includes(player.position)) return 1;\r\n        return (b.budget - b.spent) - (a.budget - a.spent);\r\n      });\r\n    \r\n    if (needyTeams.length > 0) {\r\n      return { winner: needyTeams[0], price: 1 };\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  private buildContext(team: SimTeam): DraftContext {\r\n    return {\r\n      myTeam: {\r\n        id: team.id,\r\n        name: team.name,\r\n        budget: team.budget - team.spent,\r\n        players: team.roster,\r\n        isUser: team.isUser,\r\n        maxBid: team.budget - team.spent - (16 - team.roster.length - 1),\r\n        nominations: team.nominations\r\n      },\r\n      allTeams: this.teams.map(t => ({\r\n        id: t.id,\r\n        name: t.name,\r\n        budget: t.budget - t.spent,\r\n        players: t.roster,\r\n        isUser: t.isUser,\r\n        maxBid: t.budget - t.spent - (16 - t.roster.length - 1),\r\n        nominations: t.nominations\r\n      })),\r\n      draftHistory: this.draftHistory,\r\n      availablePlayers: this.availablePlayers,\r\n      currentBid: 0,\r\n      totalBudget: 200,\r\n      rosterRequirements: {\r\n        QB: { min: 1, max: 2, optimal: 1 },\r\n        RB: { min: 2, max: 6, optimal: 5 },\r\n        WR: { min: 2, max: 6, optimal: 6 },\r\n        TE: { min: 1, max: 3, optimal: 1 },\r\n        DST: { min: 1, max: 2, optimal: 1 },\r\n        K: { min: 1, max: 2, optimal: 1 },\r\n        FLEX: { count: 1, eligiblePositions: ['RB', 'WR', 'TE'] },\r\n        BENCH: 6\r\n      }\r\n    };\r\n  }\r\n\r\n  private awardPlayer(team: SimTeam, player: ValuationResult, price: number) {\r\n    const playerData: Player = {\r\n      id: player.playerId || `${player.playerName}_${player.team}`,\r\n      name: player.playerName,\r\n      position: player.position as any,\r\n      team: player.team,\r\n      playerId: player.playerId,\r\n      projectedPoints: player.projectedPoints || 0,\r\n      auctionValue: player.auctionValue || 0,\r\n      marketValue: player.marketValue || 0,\r\n      vorp: player.vorp || 0,\r\n      tier: player.tier || 'replacement'\r\n    };\r\n    \r\n    team.roster.push(playerData);\r\n    team.spent += price;\r\n    \r\n    this.draftHistory.push({\r\n      pickNumber: ++this.pickNumber,\r\n      teamId: team.id,\r\n      player: playerData,\r\n      price,\r\n      timestamp: new Date()\r\n    });\r\n    \r\n    this.availablePlayers = this.availablePlayers.filter(p => \r\n      p.playerId !== player.playerId\r\n    );\r\n  }\r\n\r\n  async runDraft(): Promise<SimulationResult> {\r\n    // Run the draft\r\n    while (this.teams.some(t => t.roster.length < 16) && this.availablePlayers.length > 0) {\r\n      const nominatingTeam = this.teams[this.nominationOrder % 12];\r\n      const player = this.nominatePlayer(nominatingTeam);\r\n      if (!player) break;\r\n      \r\n      const result = this.simulateAuction(player);\r\n      if (result) {\r\n        this.awardPlayer(result.winner, player, result.price);\r\n      }\r\n      \r\n      this.nominationOrder++;\r\n    }\r\n    \r\n    return this.analyzeResults();\r\n  }\r\n\r\n  private analyzeResults(): SimulationResult {\r\n    const userTeam = this.teams.find(t => t.isUser)!;\r\n    \r\n    // Calculate metrics\r\n    const posCounts: Record<string, number> = {};\r\n    const posSpend: Record<string, number> = {};\r\n    let totalPoints = 0;\r\n    \r\n    userTeam.roster.forEach(p => {\r\n      posCounts[p.position] = (posCounts[p.position] || 0) + 1;\r\n      totalPoints += p.projectedPoints || 0;\r\n      \r\n      const pick = this.draftHistory.find(d => d.player.id === p.id);\r\n      if (pick) {\r\n        posSpend[p.position] = (posSpend[p.position] || 0) + pick.price;\r\n      }\r\n    });\r\n    \r\n    const rbSpend = posSpend.RB || 0;\r\n    const rbSpendPercent = userTeam.spent > 0 ? (rbSpend / userTeam.spent * 100) : 0;\r\n    \r\n    // Check requirements\r\n    const meetsRequirements = \r\n      (posCounts.QB || 0) >= 1 &&\r\n      (posCounts.RB || 0) >= 2 &&\r\n      (posCounts.WR || 0) >= 2 &&\r\n      (posCounts.TE || 0) >= 1 &&\r\n      (posCounts.DST || 0) >= 1 &&\r\n      (posCounts.K || 0) >= 1;\r\n    \r\n    const budgetEfficient = userTeam.spent >= 190;\r\n    const rbHeavy = rbSpendPercent >= 50;\r\n    \r\n    // Count elite RBs\r\n    const eliteRBs = userTeam.roster.filter(p => \r\n      p.position === 'RB' && (p.tier === 'elite' || p.tier === 'tier1')\r\n    );\r\n    \r\n    // Calculate league rank\r\n    const teamPoints = this.teams.map(t => {\r\n      let pts = 0;\r\n      t.roster.forEach(p => pts += p.projectedPoints || 0);\r\n      return { team: t, points: pts };\r\n    });\r\n    teamPoints.sort((a, b) => b.points - a.points);\r\n    const leagueRank = teamPoints.findIndex(t => t.team.isUser) + 1;\r\n    \r\n    return {\r\n      userTeam,\r\n      allTeams: this.teams,\r\n      draftHistory: this.draftHistory,\r\n      analysis: {\r\n        meetsRequirements,\r\n        budgetEfficient,\r\n        rbHeavy,\r\n        eliteRBCount: eliteRBs.length,\r\n        totalSpent: userTeam.spent,\r\n        rbSpend,\r\n        rbSpendPercent,\r\n        projectedPoints: totalPoints,\r\n        leagueRank,\r\n        positionCounts: posCounts,\r\n        positionSpend: posSpend\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nexport async function runSimulations(count: number = 3): Promise<SimulationResult[]> {\r\n  const results: SimulationResult[] = [];\r\n  \r\n  for (let i = 0; i < count; i++) {\r\n    console.log(`Running simulation ${i + 1}...`);\r\n    const sim = new DraftSimulator();\r\n    await sim.initialize();\r\n    const result = await sim.runDraft();\r\n    results.push(result);\r\n  }\r\n  \r\n  return results;\r\n}","/**\r\n * Test Script for Draft Simulations\r\n * Compares results against strategy guidelines\r\n */\r\n\r\nimport { runSimulations } from './lib/draftSimulator';\r\n\r\nasync function testSimulations() {\r\n  console.log('Starting draft simulations test...\\n');\r\n  \r\n  // Run 3 simulations\r\n  const results = await runSimulations(3);\r\n  \r\n  // Strategy guidelines from strat.md\r\n  const guidelines = {\r\n    rbSpendTarget: { min: 50, max: 60, ideal: 55 },\r\n    totalBudgetTarget: { min: 190, max: 200, ideal: 195 },\r\n    rbCountTarget: { min: 5, max: 6 },\r\n    wrCountTarget: { min: 6, max: 7 },\r\n    eliteRBTarget: { min: 2, max: 3 },\r\n    topPlayersSpend: { min: 70, max: 80 } // % on top 3-4 players\r\n  };\r\n  \r\n  console.log('========== SIMULATION RESULTS vs GUIDELINES ==========\\n');\r\n  console.log('GUIDELINES FROM strat.md:');\r\n  console.log('- 50-60% budget on 2-3 elite RBs');\r\n  console.log('- 70-80% on top 3-4 players total');\r\n  console.log('- 5-6 total RBs, 6-7 total WRs');\r\n  console.log('- Spend 95%+ of budget ($190+)');\r\n  console.log('- Target 1 Tier 1 elite + 1 Tier 2 high-end RB\\n');\r\n  \r\n  const allResults = {\r\n    budgetSpent: [] as number[],\r\n    rbSpendPercent: [] as number[],\r\n    eliteRBCount: [] as number[],\r\n    leagueRank: [] as number[],\r\n    rbCount: [] as number[],\r\n    wrCount: [] as number[]\r\n  };\r\n  \r\n  results.forEach((result, idx) => {\r\n    console.log(`\\n============ SIMULATION ${idx + 1} ============`);\r\n    \r\n    const analysis = result.analysis;\r\n    const posCounts = analysis.positionCounts;\r\n    \r\n    // Track for averages\r\n    allResults.budgetSpent.push(analysis.totalSpent);\r\n    allResults.rbSpendPercent.push(analysis.rbSpendPercent);\r\n    allResults.eliteRBCount.push(analysis.eliteRBCount);\r\n    allResults.leagueRank.push(analysis.leagueRank);\r\n    allResults.rbCount.push(posCounts.RB || 0);\r\n    allResults.wrCount.push(posCounts.WR || 0);\r\n    \r\n    // Check against guidelines\r\n    const checks = {\r\n      budgetEfficient: analysis.totalSpent >= guidelines.totalBudgetTarget.min,\r\n      rbSpendInRange: analysis.rbSpendPercent >= guidelines.rbSpendTarget.min && \r\n                      analysis.rbSpendPercent <= guidelines.rbSpendTarget.max + 10, // Allow some flexibility\r\n      rbCountGood: (posCounts.RB || 0) >= guidelines.rbCountTarget.min && \r\n                   (posCounts.RB || 0) <= guidelines.rbCountTarget.max,\r\n      wrCountGood: (posCounts.WR || 0) >= guidelines.wrCountTarget.min && \r\n                   (posCounts.WR || 0) <= guidelines.wrCountTarget.max,\r\n      eliteRBsGood: analysis.eliteRBCount >= guidelines.eliteRBTarget.min,\r\n      meetsRequirements: analysis.meetsRequirements\r\n    };\r\n    \r\n    // Calculate top players spend\r\n    const sortedPicks = result.draftHistory\r\n      .filter(p => p.teamId === result.userTeam.id)\r\n      .sort((a, b) => b.price - a.price);\r\n    const top4Spend = sortedPicks.slice(0, 4).reduce((sum, p) => sum + p.price, 0);\r\n    const top4Percent = analysis.totalSpent > 0 ? (top4Spend / analysis.totalSpent * 100) : 0;\r\n    \r\n    console.log('\\n KEY METRICS:');\r\n    console.log(`Budget: $${analysis.totalSpent}/200 (${(analysis.totalSpent/200*100).toFixed(0)}%) ${checks.budgetEfficient ? '' : ''}`);\r\n    console.log(`RB Spend: $${analysis.rbSpend} (${analysis.rbSpendPercent.toFixed(1)}%) ${checks.rbSpendInRange ? '' : ''} [Target: 50-60%]`);\r\n    console.log(`Top 4 Players: $${top4Spend} (${top4Percent.toFixed(1)}%) ${top4Percent >= 70 ? '' : ''} [Target: 70-80%]`);\r\n    \r\n    console.log('\\n ROSTER COMPOSITION:');\r\n    console.log(`RBs: ${posCounts.RB || 0} ${checks.rbCountGood ? '' : ''} [Target: 5-6]`);\r\n    console.log(`WRs: ${posCounts.WR || 0} ${checks.wrCountGood ? '' : ''} [Target: 6-7]`);\r\n    console.log(`Elite/Tier1 RBs: ${analysis.eliteRBCount} ${checks.eliteRBsGood ? '' : ''} [Target: 2-3]`);\r\n    \r\n    console.log('\\n COMPETITIVE POSITION:');\r\n    console.log(`League Rank: #${analysis.leagueRank}/12 ${analysis.leagueRank <= 3 ? '' : ''}`);\r\n    console.log(`Projected Points: ${analysis.projectedPoints.toFixed(0)}`);\r\n    \r\n    console.log('\\n FULL POSITION BREAKDOWN:');\r\n    console.log(`QB: ${posCounts.QB || 0}, RB: ${posCounts.RB || 0}, WR: ${posCounts.WR || 0}, TE: ${posCounts.TE || 0}, DST: ${posCounts.DST || 0}, K: ${posCounts.K || 0}`);\r\n    \r\n    console.log('\\n TOP 5 PLAYERS:');\r\n    const top5 = sortedPicks.slice(0, 5);\r\n    top5.forEach((pick, i) => {\r\n      const player = pick.player;\r\n      console.log(`  ${i+1}. ${player.name} (${player.position}/${player.tier}) - $${pick.price}`);\r\n    });\r\n    \r\n    // Elite RB details\r\n    const eliteRBPicks = sortedPicks.filter(p => \r\n      p.player.position === 'RB' && (p.player.tier === 'elite' || p.player.tier === 'tier1')\r\n    );\r\n    if (eliteRBPicks.length > 0) {\r\n      console.log('\\n ELITE RBs ACQUIRED:');\r\n      eliteRBPicks.forEach(pick => {\r\n        console.log(`  ${pick.player.name} (${pick.player.tier}) - $${pick.price}`);\r\n      });\r\n    }\r\n    \r\n    const passCount = Object.values(checks).filter(v => v).length;\r\n    const totalChecks = Object.values(checks).length;\r\n    console.log(`\\n OVERALL: ${passCount}/${totalChecks} checks passed`);\r\n    \r\n    if (passCount === totalChecks) {\r\n      console.log(' EXCELLENT - Meets all guidelines!');\r\n    } else if (passCount >= totalChecks - 1) {\r\n      console.log(' GOOD - Minor adjustments needed');\r\n    } else {\r\n      console.log('  NEEDS IMPROVEMENT - Multiple areas off target');\r\n    }\r\n  });\r\n  \r\n  // Calculate and display averages\r\n  console.log('\\n\\n========== AVERAGES ACROSS ALL SIMULATIONS ==========\\n');\r\n  \r\n  const avg = (arr: number[]) => arr.reduce((a, b) => a + b, 0) / arr.length;\r\n  \r\n  const avgBudget = avg(allResults.budgetSpent);\r\n  const avgRBSpend = avg(allResults.rbSpendPercent);\r\n  const avgEliteRBs = avg(allResults.eliteRBCount);\r\n  const avgRank = avg(allResults.leagueRank);\r\n  const avgRBCount = avg(allResults.rbCount);\r\n  const avgWRCount = avg(allResults.wrCount);\r\n  \r\n  console.log(`Average Budget Spent: $${avgBudget.toFixed(0)} (${(avgBudget/200*100).toFixed(0)}%)`);\r\n  console.log(`Average RB Spend: ${avgRBSpend.toFixed(1)}% ${avgRBSpend >= 50 && avgRBSpend <= 60 ? '' : ''} [Target: 50-60%]`);\r\n  console.log(`Average Elite RBs: ${avgEliteRBs.toFixed(1)} ${avgEliteRBs >= 2 ? '' : ''} [Target: 2-3]`);\r\n  console.log(`Average RB Count: ${avgRBCount.toFixed(1)} ${avgRBCount >= 5 && avgRBCount <= 6 ? '' : ''} [Target: 5-6]`);\r\n  console.log(`Average WR Count: ${avgWRCount.toFixed(1)} ${avgWRCount >= 6 && avgWRCount <= 7 ? '' : ''} [Target: 6-7]`);\r\n  console.log(`Average League Rank: ${avgRank.toFixed(1)} ${avgRank <= 3 ? '' : ''} [Target: Top 3]`);\r\n  \r\n  // Recommendations\r\n  console.log('\\n\\n========== RECOMMENDATIONS ==========\\n');\r\n  \r\n  if (avgRBSpend < 50) {\r\n    console.log(' RB spending too low - Need to be more aggressive on elite RBs');\r\n    console.log('   - Increase bonuses for elite/tier1 RBs');\r\n    console.log('   - Consider raising max bid thresholds early in draft');\r\n  } else if (avgRBSpend > 70) {\r\n    console.log(' RB spending too high - May lack balance');\r\n    console.log('   - Ensure WR depth is maintained');\r\n    console.log('   - Set harder caps on non-elite RBs');\r\n  } else {\r\n    console.log(' RB spending in good range');\r\n  }\r\n  \r\n  if (avgEliteRBs < 2) {\r\n    console.log(' Not acquiring enough elite RBs');\r\n    console.log('   - Increase aggressiveness on tier1/elite RBs');\r\n    console.log('   - Consider nominating non-RB elites early to drain budgets');\r\n  }\r\n  \r\n  if (avgRBCount < 5) {\r\n    console.log(' Not enough RB depth');\r\n    console.log('   - Target more value RBs ($5-15 range)');\r\n  }\r\n  \r\n  if (avgWRCount < 6) {\r\n    console.log(' Not enough WR depth');\r\n    console.log('   - Ensure filling WR spots after RB core secured');\r\n  }\r\n  \r\n  if (avgRank > 3) {\r\n    console.log('  League competitiveness could be better');\r\n    console.log('   - May need to target higher ceiling players');\r\n  }\r\n  \r\n  console.log('\\n Test complete!');\r\n}\r\n\r\n// Add to window for browser testing\r\nif (typeof window !== 'undefined') {\r\n  (window as any).testSimulations = testSimulations;\r\n}\r\n\r\nexport { testSimulations };","/**\r\n * Detailed Simulation Runner - Shows Full 16-Player Rosters\r\n */\r\n\r\nimport { DraftSimulator } from './lib/draftSimulator';\r\n\r\nasync function runDetailedSimulations() {\r\n  console.log('='.repeat(80));\r\n  console.log('RUNNING 2 DETAILED DRAFT SIMULATIONS WITH FULL ROSTERS');\r\n  console.log('='.repeat(80));\r\n  console.log('\\nStrategy: Robust RB (50-60% on RBs, 70-80% on top 3-4 players)');\r\n  console.log('Targets: 5-6 RBs, 6-7 WRs, 2-3 elite RBs, $190+ spent\\n');\r\n  \r\n  // Check if real data is available\r\n  const hasRealData = (window as any).__playerValuations && (window as any).__playerValuations.length > 0;\r\n  if (!hasRealData) {\r\n    console.warn(' WARNING: Using mock data. For best results, wait for app data to load first.');\r\n  } else {\r\n    console.log(` Using real player data: ${(window as any).__playerValuations.length} players loaded`);\r\n  }\r\n  \r\n  for (let simNum = 1; simNum <= 2; simNum++) {\r\n    console.log('\\n' + '#'.repeat(80));\r\n    console.log(`SIMULATION ${simNum}`);\r\n    console.log('#'.repeat(80));\r\n    \r\n    const sim = new DraftSimulator();\r\n    await sim.initialize();\r\n    const result = await sim.runDraft();\r\n    \r\n    const userTeam = result.userTeam;\r\n    const analysis = result.analysis;\r\n    const posCounts = analysis.positionCounts;\r\n    \r\n    // Get all picks for this team sorted by price\r\n    const teamPicks = result.draftHistory\r\n      .filter(p => p.teamId === userTeam.id)\r\n      .sort((a, b) => b.price - a.price);\r\n    \r\n    // Calculate top players spending\r\n    const top4Spend = teamPicks.slice(0, 4).reduce((sum, p) => sum + p.price, 0);\r\n    const top4Percent = analysis.totalSpent > 0 ? (top4Spend / analysis.totalSpent * 100) : 0;\r\n    \r\n    console.log('\\n' + '='.repeat(60));\r\n    console.log('ROSTER SUMMARY');\r\n    console.log('='.repeat(60));\r\n    \r\n    console.log(`\\nBudget: $${analysis.totalSpent}/$200 (${(analysis.totalSpent/200*100).toFixed(0)}% spent)`);\r\n    console.log(`Roster Size: ${userTeam.roster.length}/16 players`);\r\n    console.log(`League Rank: #${analysis.leagueRank}/12`);\r\n    console.log(`Projected Points: ${analysis.projectedPoints.toFixed(0)}`);\r\n    \r\n    console.log('\\n KEY METRICS:');\r\n    console.log(` RB Investment: $${analysis.rbSpend} (${analysis.rbSpendPercent.toFixed(1)}%) ${analysis.rbSpendPercent >= 50 && analysis.rbSpendPercent <= 60 ? '' : analysis.rbSpendPercent >= 45 && analysis.rbSpendPercent <= 65 ? '' : ''} [Target: 50-60%]`);\r\n    console.log(` Top 4 Players: $${top4Spend} (${top4Percent.toFixed(1)}%) ${top4Percent >= 70 ? '' : top4Percent >= 60 ? '' : ''} [Target: 70-80%]`);\r\n    console.log(` Elite/Tier1 RBs: ${analysis.eliteRBCount} ${analysis.eliteRBCount >= 2 ? '' : analysis.eliteRBCount === 1 ? '' : ''} [Target: 2-3]`);\r\n    \r\n    console.log('\\n POSITION BREAKDOWN:');\r\n    console.log(` QB:  ${(posCounts.QB || 0).toString().padStart(2)} players | $${(analysis.positionSpend.QB || 0).toString().padStart(3)}`);\r\n    console.log(` RB:  ${(posCounts.RB || 0).toString().padStart(2)} players | $${(analysis.positionSpend.RB || 0).toString().padStart(3)} ${(posCounts.RB || 0) >= 5 && (posCounts.RB || 0) <= 6 ? '' : ''} [Target: 5-6]`);\r\n    console.log(` WR:  ${(posCounts.WR || 0).toString().padStart(2)} players | $${(analysis.positionSpend.WR || 0).toString().padStart(3)} ${(posCounts.WR || 0) >= 6 && (posCounts.WR || 0) <= 7 ? '' : ''} [Target: 6-7]`);\r\n    console.log(` TE:  ${(posCounts.TE || 0).toString().padStart(2)} players | $${(analysis.positionSpend.TE || 0).toString().padStart(3)}`);\r\n    console.log(` DST: ${(posCounts.DST || 0).toString().padStart(2)} players | $${(analysis.positionSpend.DST || 0).toString().padStart(3)}`);\r\n    console.log(` K:   ${(posCounts.K || 0).toString().padStart(2)} players | $${(analysis.positionSpend.K || 0).toString().padStart(3)}`);\r\n    \r\n    console.log('\\n' + '='.repeat(60));\r\n    console.log('COMPLETE 16-PLAYER ROSTER (sorted by price)');\r\n    console.log('='.repeat(60));\r\n    console.log('\\n#  | Player Name                  | Pos | Tier       | Price | Pts  ');\r\n    console.log('-'.repeat(70));\r\n    \r\n    teamPicks.forEach((pick, idx) => {\r\n      const player = pick.player;\r\n      const num = (idx + 1).toString().padStart(2);\r\n      const name = player.name.substring(0, 28).padEnd(28);\r\n      const pos = player.position.padEnd(3);\r\n      const tier = (player.tier || 'unknown').substring(0, 10).padEnd(10);\r\n      const price = ('$' + pick.price).padStart(5);\r\n      const pts = player.projectedPoints.toFixed(0).padStart(4);\r\n      \r\n      // Highlight elite RBs\r\n      const isEliteRB = player.position === 'RB' && (player.tier === 'elite' || player.tier === 'tier1');\r\n      const marker = isEliteRB ? '' : '  ';\r\n      \r\n      console.log(`${num} ${marker}| ${name} | ${pos} | ${tier} | ${price} | ${pts}`);\r\n    });\r\n    \r\n    // Group by position for clarity\r\n    console.log('\\n' + '='.repeat(60));\r\n    console.log('ROSTER BY POSITION');\r\n    console.log('='.repeat(60));\r\n    \r\n    const positions = ['QB', 'RB', 'WR', 'TE', 'DST', 'K'];\r\n    positions.forEach(pos => {\r\n      const players = teamPicks.filter(p => p.player.position === pos);\r\n      if (players.length > 0) {\r\n        console.log(`\\n${pos} (${players.length}):`);\r\n        players.forEach(pick => {\r\n          const tier = pick.player.tier === 'elite' ? 'ELITE' : \r\n                       pick.player.tier === 'tier1' ? 'TIER1' : \r\n                       pick.player.tier === 'tier2' ? 'TIER2' : \r\n                       pick.player.tier === 'tier3' ? 'TIER3' : \r\n                       pick.player.tier || 'unknown';\r\n          console.log(`   ${pick.player.name.padEnd(28)} - $${pick.price.toString().padStart(3)} - ${tier}`);\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Starting lineup suggestion\r\n    console.log('\\n' + '='.repeat(60));\r\n    console.log('SUGGESTED STARTING LINEUP');\r\n    console.log('='.repeat(60));\r\n    \r\n    const qbs = teamPicks.filter(p => p.player.position === 'QB').slice(0, 1);\r\n    const rbs = teamPicks.filter(p => p.player.position === 'RB').slice(0, 2);\r\n    const wrs = teamPicks.filter(p => p.player.position === 'WR').slice(0, 2);\r\n    const tes = teamPicks.filter(p => p.player.position === 'TE').slice(0, 1);\r\n    const flexCandidates = teamPicks.filter(p => \r\n      ['RB', 'WR', 'TE'].includes(p.player.position) &&\r\n      !rbs.includes(p) && !wrs.includes(p) && !tes.includes(p)\r\n    ).slice(0, 1);\r\n    const dsts = teamPicks.filter(p => p.player.position === 'DST').slice(0, 1);\r\n    const ks = teamPicks.filter(p => p.player.position === 'K').slice(0, 1);\r\n    \r\n    console.log('\\nQB:  ' + (qbs[0] ? `${qbs[0].player.name} ($${qbs[0].price})` : 'MISSING'));\r\n    console.log('RB1: ' + (rbs[0] ? `${rbs[0].player.name} ($${rbs[0].price})` : 'MISSING'));\r\n    console.log('RB2: ' + (rbs[1] ? `${rbs[1].player.name} ($${rbs[1].price})` : 'MISSING'));\r\n    console.log('WR1: ' + (wrs[0] ? `${wrs[0].player.name} ($${wrs[0].price})` : 'MISSING'));\r\n    console.log('WR2: ' + (wrs[1] ? `${wrs[1].player.name} ($${wrs[1].price})` : 'MISSING'));\r\n    console.log('TE:  ' + (tes[0] ? `${tes[0].player.name} ($${tes[0].price})` : 'MISSING'));\r\n    console.log('FLX: ' + (flexCandidates[0] ? `${flexCandidates[0].player.name} (${flexCandidates[0].player.position}) ($${flexCandidates[0].price})` : 'MISSING'));\r\n    console.log('DST: ' + (dsts[0] ? `${dsts[0].player.name} ($${dsts[0].price})` : 'MISSING'));\r\n    console.log('K:   ' + (ks[0] ? `${ks[0].player.name} ($${ks[0].price})` : 'MISSING'));\r\n    \r\n    const startingPoints = [...qbs, ...rbs, ...wrs, ...tes, ...flexCandidates, ...dsts, ...ks]\r\n      .reduce((sum, p) => sum + (p?.player.projectedPoints || 0), 0);\r\n    console.log(`\\nProjected Starting Lineup Points: ${startingPoints.toFixed(0)}`);\r\n    \r\n    // Check requirements\r\n    const meetsReqs = \r\n      (posCounts.QB || 0) >= 1 &&\r\n      (posCounts.RB || 0) >= 2 &&\r\n      (posCounts.WR || 0) >= 2 &&\r\n      (posCounts.TE || 0) >= 1 &&\r\n      (posCounts.DST || 0) >= 1 &&\r\n      (posCounts.K || 0) >= 1;\r\n    \r\n    console.log('\\n' + '='.repeat(60));\r\n    console.log('FINAL ASSESSMENT');\r\n    console.log('='.repeat(60));\r\n    console.log(`\\n Meets minimum position requirements: ${meetsReqs ? ' YES' : ' NO'}`);\r\n    console.log(` Budget efficiency (>95% spent): ${analysis.totalSpent >= 190 ? ' YES' : ' NO'}`);\r\n    console.log(` RB-heavy strategy (50-60% on RBs): ${analysis.rbSpendPercent >= 50 && analysis.rbSpendPercent <= 60 ? ' YES' : analysis.rbSpendPercent >= 45 && analysis.rbSpendPercent <= 65 ? ' CLOSE' : ' NO'}`);\r\n    console.log(` Elite talent acquired (2+ elite RBs): ${analysis.eliteRBCount >= 2 ? ' YES' : ' NO'}`);\r\n    console.log(` Proper depth (5-6 RBs, 6-7 WRs): ${(posCounts.RB >= 5 && posCounts.RB <= 6 && posCounts.WR >= 6 && posCounts.WR <= 7) ? ' YES' : ' PARTIAL'}`);\r\n  }\r\n  \r\n  console.log('\\n' + '='.repeat(80));\r\n  console.log('SIMULATION COMPLETE');\r\n  console.log('='.repeat(80));\r\n}\r\n\r\n// Export and make available\r\nexport { runDetailedSimulations };\r\n\r\nif (typeof window !== 'undefined') {\r\n  (window as any).runDetailedSimulations = runDetailedSimulations;\r\n}\r\n\r\n// Note: removed require.main check as it's not compatible with ES modules","import React, { useState, useEffect } from 'react';\r\nimport { runSimulations, type SimulationResult } from '../lib/draftSimulator';\r\nimport { testSimulations } from '../testSimulations';\r\nimport { runDetailedSimulations } from '../runDetailedSimulations';\r\n\r\nexport const SimulationTester: React.FC = () => {\r\n  const [results, setResults] = useState<SimulationResult[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Make test functions available globally for console testing\r\n    (window as any).testSimulations = testSimulations;\r\n    (window as any).runDetailedSimulations = runDetailedSimulations;\r\n    console.log('Test functions available:');\r\n    console.log(' testSimulations() - Run 3 simulations with analysis');\r\n    console.log(' runDetailedSimulations() - Run 2 simulations with full rosters');\r\n  }, []);\r\n\r\n  const runSims = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Run the detailed simulations\r\n      await runDetailedSimulations();\r\n      \r\n      // Also get results for UI display\r\n      const simResults = await runSimulations(2);\r\n      setResults(simResults);\r\n    } catch (error) {\r\n      console.error('Simulation failed:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 bg-gray-900 text-white rounded-lg\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Draft Simulation Tester</h2>\r\n      \r\n      <button\r\n        onClick={runSims}\r\n        disabled={loading}\r\n        className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50\"\r\n      >\r\n        {loading ? 'Running Simulations...' : 'Run 2 Detailed Simulations (Check Console)'}\r\n      </button>\r\n      \r\n      <div className=\"mt-4 text-sm text-gray-400\">\r\n        <p> Press F12 to open the console and see detailed roster output</p>\r\n        <p> Full 16-player rosters will be displayed with position breakdown</p>\r\n      </div>\r\n\r\n      {results.length > 0 && (\r\n        <div className=\"mt-6 space-y-6\">\r\n          <h3 className=\"text-xl font-bold\">Strategy Guidelines Comparison</h3>\r\n          \r\n          <div className=\"bg-gray-800 p-4 rounded\">\r\n            <h4 className=\"font-bold mb-2\">Target from strat.md:</h4>\r\n            <ul className=\"text-sm space-y-1\">\r\n              <li> 50-60% budget on 2-3 elite RBs (70-80% on top 3-4 players)</li>\r\n              <li> 1 Tier 1 elite RB ($45-52)</li>\r\n              <li> 1 Tier 2 high-end RB ($35-43)</li>\r\n              <li> Total: 5-6 RBs, 6-7 WRs</li>\r\n              <li> Spend 95%+ of budget ($190+)</li>\r\n            </ul>\r\n          </div>\r\n\r\n          {results.map((result, idx) => (\r\n            <div key={idx} className=\"bg-gray-800 p-4 rounded\">\r\n              <h4 className=\"text-lg font-bold mb-3\">Simulation {idx + 1}</h4>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                <div>\r\n                  <span className=\"text-gray-400\">Budget Spent:</span>\r\n                  <span className={`ml-2 ${result.analysis.budgetEfficient ? 'text-green-400' : 'text-red-400'}`}>\r\n                    ${result.analysis.totalSpent}/200\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-400\">RB Spend:</span>\r\n                  <span className={`ml-2 ${result.analysis.rbHeavy ? 'text-green-400' : 'text-red-400'}`}>\r\n                    ${result.analysis.rbSpend} ({result.analysis.rbSpendPercent.toFixed(1)}%)\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-400\">Elite RBs:</span>\r\n                  <span className={`ml-2 ${result.analysis.eliteRBCount >= 2 ? 'text-green-400' : 'text-yellow-400'}`}>\r\n                    {result.analysis.eliteRBCount}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"text-gray-400\">League Rank:</span>\r\n                  <span className={`ml-2 ${result.analysis.leagueRank <= 3 ? 'text-green-400' : 'text-yellow-400'}`}>\r\n                    #{result.analysis.leagueRank}/12\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"text-sm\">\r\n                <div className=\"mb-2\">\r\n                  <span className=\"text-gray-400\">Position Counts:</span>\r\n                  <div className=\"ml-4\">\r\n                    QB: {result.analysis.positionCounts.QB || 0} | \r\n                    RB: {result.analysis.positionCounts.RB || 0} | \r\n                    WR: {result.analysis.positionCounts.WR || 0} | \r\n                    TE: {result.analysis.positionCounts.TE || 0} | \r\n                    DST: {result.analysis.positionCounts.DST || 0} | \r\n                    K: {result.analysis.positionCounts.K || 0}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-4\">\r\n                  <span className={result.analysis.meetsRequirements ? 'text-green-400' : 'text-red-400'}>\r\n                    {result.analysis.meetsRequirements ? '' : ''} Meets Requirements\r\n                  </span>\r\n                  <span className={result.analysis.budgetEfficient ? 'text-green-400' : 'text-red-400'}>\r\n                    {result.analysis.budgetEfficient ? '' : ''} Budget Efficient\r\n                  </span>\r\n                  <span className={result.analysis.rbHeavy ? 'text-green-400' : 'text-red-400'}>\r\n                    {result.analysis.rbHeavy ? '' : ''} RB Heavy (50%+)\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <details className=\"mt-3\">\r\n                <summary className=\"cursor-pointer text-blue-400 hover:text-blue-300\">\r\n                  View Full Roster\r\n                </summary>\r\n                <div className=\"mt-2 text-xs space-y-1\">\r\n                  {result.userTeam.roster\r\n                    .sort((a, b) => {\r\n                      const pickA = result.draftHistory.find(d => d.player.id === a.id);\r\n                      const pickB = result.draftHistory.find(d => d.player.id === b.id);\r\n                      return (pickB?.price || 0) - (pickA?.price || 0);\r\n                    })\r\n                    .map(p => {\r\n                      const pick = result.draftHistory.find(d => d.player.id === p.id);\r\n                      return (\r\n                        <div key={p.id}>\r\n                          {p.name} ({p.position}/{p.tier}) - ${pick?.price || 0}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              </details>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","/**\r\n * EXPERIMENTAL VERSION - Fantasy Football Auction Tool\r\n * This is where we test new features and improvements\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Toaster, toast } from 'react-hot-toast';\r\nimport { \r\n  AlertTriangle,\r\n  RefreshCw,\r\n  Calculator,\r\n  Settings,\r\n  Zap,\r\n  X\r\n} from 'lucide-react';\r\nimport { useDraftStore } from '@/store/draftStore';\r\nimport { dataService } from '@/lib/dataService';\r\nimport { calibratedValuationService, type ValuationResult, type ValuationSummary } from '@/lib/calibratedValuationService';\r\nimport { DataIntegrityChecker } from '@/lib/dataIntegrityChecker';\r\nimport { dynamicValuationService, type DraftContext } from '@/lib/dynamicValuationService';\r\nimport { pprScoringService } from '@/lib/pprScoringService';\r\n\r\n// Import components\r\nimport TeamRoster from '@/components/TeamRoster';\r\nimport DraftHistory from '@/components/DraftHistory';\r\nimport MarketTrackerCalibrated from '@/components/MarketTrackerCalibrated';\r\nimport BudgetAllocator from '@/components/BudgetAllocator';\r\nimport PlayerDataTable from '@/components/PlayerDataTableExperimental';\r\nimport PlayerDetailPanel from '@/components/PlayerDetailPanelCompact';\r\nimport CalculationsExplainerModal from '@/components/CalculationsExplainerModal';\r\nimport SettingsModal from '@/components/SettingsModal';\r\nimport OtherTeamsRosters from '@/components/OtherTeamsRosters';\r\nimport NominationStrategy from '@/components/NominationStrategy';\r\nimport { SimulationTester } from '@/components/SimulationTester';\r\n\r\nfunction AppExperimental() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [dataError, setDataError] = useState<string | null>(null);\r\n  const [valuations, setValuations] = useState<ValuationResult[]>([]);\r\n  const [baseValuations, setBaseValuations] = useState<ValuationResult[]>([]); // Store original values\r\n  const [summary, setSummary] = useState<ValuationSummary | null>(null);\r\n  const [showCalculationsModal, setShowCalculationsModal] = useState(false);\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n  const [showSimulationTester, setShowSimulationTester] = useState(false);\r\n  const [isDynamicMode, setIsDynamicMode] = useState(false); // Start in static mode for testing\r\n  const [searchQuery, setSearchQuery] = useState<string>(''); // Shared search state\r\n  const [showDropdown, setShowDropdown] = useState(false); // Dropdown visibility\r\n  const [filteredPlayers, setFilteredPlayers] = useState<ValuationResult[]>([]); // Filtered results\r\n  const [highlightedIndex, setHighlightedIndex] = useState(-1); // Keyboard navigation\r\n  const [integrityStatus, setIntegrityStatus] = useState<{\r\n    checked: boolean;\r\n    passed: boolean;\r\n    message: string;\r\n  }>({ checked: false, passed: false, message: 'Checking...' });\r\n\r\n  const { \r\n    isDraftActive,\r\n    initializeDraft,\r\n    updatePlayerValuations,\r\n    draftHistory,\r\n    myTeamId,\r\n    teams,\r\n    selectedPlayer,\r\n    setSelectedPlayer\r\n  } = useDraftStore();\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    // Expose valuations for simulation testing\r\n    (window as any).__playerValuations = valuations;\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    // Update exposed valuations when they change\r\n    (window as any).__playerValuations = valuations;\r\n  }, [valuations]);\r\n\r\n  // Update valuations when draft progresses or dynamic mode changes\r\n  useEffect(() => {\r\n    console.log('[Valuation Update Trigger]', {\r\n      baseValuationsCount: baseValuations.length,\r\n      isDynamicMode,\r\n      draftHistoryLength: draftHistory.length,\r\n      loading,\r\n      teamsLength: teams.length\r\n    });\r\n    \r\n    if (!baseValuations.length || loading) {\r\n      console.log('[Valuation Update] Skipping - no base valuations or loading');\r\n      return;\r\n    }\r\n    \r\n    // Toggle dynamic mode in service\r\n    dynamicValuationService.setDynamicMode(isDynamicMode);\r\n    \r\n    if (isDynamicMode) {\r\n      console.log('[Dynamic Mode Active] Building context...', {\r\n        teamsLength: teams.length,\r\n        draftHistoryLength: draftHistory.length\r\n      });\r\n      // Build draft context even if no picks yet\r\n      const draftedIds = new Set(draftHistory.map(pick => pick.player?.id).filter(Boolean));\r\n      \r\n      // Use 12 teams as default if draft not initialized\r\n      const teamCount = teams.length || 12;\r\n      \r\n      // Calculate money spent and remaining\r\n      const totalBudget = teamCount * 200;\r\n      const moneySpent = draftHistory.reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n      const moneyRemaining = totalBudget - moneySpent;\r\n      \r\n      // Calculate positions filled and needed\r\n      const positionsFilled: Record<string, number> = {};\r\n      const positionsNeeded: Record<string, number> = {\r\n        QB: teamCount * 1,\r\n        RB: teamCount * 3,\r\n        WR: teamCount * 3,\r\n        TE: teamCount * 1,\r\n        DST: teamCount * 1,\r\n        K: teamCount * 1\r\n      };\r\n      \r\n      draftHistory.forEach(pick => {\r\n        if (pick.player?.position) {\r\n          positionsFilled[pick.player.position] = (positionsFilled[pick.player.position] || 0) + 1;\r\n          positionsNeeded[pick.player.position] = Math.max(0, (positionsNeeded[pick.player.position] || 0) - 1);\r\n        }\r\n      });\r\n      \r\n      // Build team budgets (use defaults if no teams initialized)\r\n      const teamBudgets = new Map<string, number>();\r\n      if (teams.length > 0) {\r\n        teams.forEach(team => {\r\n          const spent = draftHistory\r\n            .filter(pick => pick.team === team.id)\r\n            .reduce((sum, pick) => sum + (pick.price || 0), 0);\r\n          teamBudgets.set(team.id, 200 - spent);\r\n        });\r\n      } else {\r\n        // Default: all teams have full budget\r\n        for (let i = 0; i < teamCount; i++) {\r\n          teamBudgets.set(`team_${i}`, 200);\r\n        }\r\n      }\r\n      \r\n      // Get recent picks for trend analysis\r\n      const recentPicks = draftHistory.slice(-5).map(pick => {\r\n        const valuation = baseValuations.find(v => v.playerId === pick.player?.id);\r\n        return {\r\n          playerId: pick.player?.id || '',\r\n          actualPrice: pick.price || 0,\r\n          expectedPrice: valuation?.auctionValue || pick.price || 0,\r\n          position: pick.player?.position || ''\r\n        };\r\n      });\r\n      \r\n      const context: DraftContext = {\r\n        totalBudget,\r\n        moneySpent,\r\n        moneyRemaining,\r\n        playersPickedCount: draftHistory.length,\r\n        playersRemainingCount: (teamCount * 16) - draftHistory.length,\r\n        positionsFilled,\r\n        positionsNeeded,\r\n        recentPicks,\r\n        teamBudgets\r\n      };\r\n      \r\n      // Get dynamic valuations (will apply adjustments if picks exist)\r\n      console.log('[Before getDynamicValuations]', {\r\n        contextMoneyRemaining: context.moneyRemaining,\r\n        contextPlayersRemaining: context.playersRemainingCount,\r\n        draftedIdsSize: draftedIds.size,\r\n        isDynamicMode: dynamicValuationService.isDynamic()\r\n      });\r\n      \r\n      const dynamicVals = dynamicValuationService.getDynamicValuations(context, draftedIds);\r\n      \r\n      // Debug: Log a sample player's value change\r\n      if (dynamicVals.length > 0 && baseValuations.length > 0) {\r\n        const samplePlayer = dynamicVals.find(p => p.playerName === 'Bijan Robinson') || dynamicVals[0];\r\n        const basePlayer = baseValuations.find(p => p.playerId === samplePlayer.playerId);\r\n        console.log('[Dynamic Values Update]', {\r\n          player: samplePlayer.playerName,\r\n          baseValue: basePlayer?.value || basePlayer?.auctionValue,\r\n          dynamicValue: samplePlayer.value || samplePlayer.auctionValue,\r\n          samplePlayerObject: samplePlayer,\r\n          inflation: context.moneyRemaining > 0 ? (context.moneyRemaining / (dynamicVals.length * 10)).toFixed(2) : 0,\r\n          draftedCount: draftedIds.size\r\n        });\r\n      } else {\r\n        console.log('[Dynamic Values Update] No values to compare', {\r\n          dynamicValsLength: dynamicVals.length,\r\n          baseValuationsLength: baseValuations.length\r\n        });\r\n      }\r\n      \r\n      \r\n      setValuations(dynamicVals);\r\n      updatePlayerValuations(dynamicVals as any);\r\n    } else {\r\n      // Use base valuations in static mode\r\n      setValuations(baseValuations);\r\n      updatePlayerValuations(baseValuations as any);\r\n    }\r\n  }, [isDynamicMode, draftHistory, baseValuations, teams, loading, updatePlayerValuations]);\r\n\r\n  useEffect(() => {\r\n    // Initialize draft automatically after component mounts\r\n    if (!isDraftActive && !loading) {\r\n      try {\r\n        initializeDraft({\r\n          teams: 12,\r\n          budget: 200,\r\n          scoring: 'PPR',\r\n          rosterPositions: [\r\n            { position: 'QB', required: 1 },\r\n            { position: 'RB', required: 2 },\r\n            { position: 'WR', required: 2 },\r\n            { position: 'TE', required: 1 },\r\n            { position: 'FLEX', required: 1 },\r\n            { position: 'DST', required: 1 },\r\n            { position: 'K', required: 1 },\r\n            { position: 'BE', required: 7 }\r\n          ]\r\n        });\r\n      } catch (error) {\r\n        console.error('Failed to initialize draft:', error);\r\n      }\r\n    }\r\n  }, [isDraftActive, loading]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await dataService.getData();\r\n      \r\n      // Process with calibrated valuation model\r\n      const { valuations: vals, summary: sum } = calibratedValuationService.processPlayers(\r\n        data.projections,\r\n        data.adpData,\r\n        undefined, // sosData - already in projections\r\n        data.playerAdvanced // Pass advanced stats for PPR metrics\r\n      );\r\n      \r\n      // Calculate PPR metrics for each player\r\n      const valsWithPPR = vals.map(player => {\r\n        const pprMetrics = pprScoringService.calculatePPRScore(player);\r\n        return {\r\n          ...player,\r\n          pprMetrics\r\n        };\r\n      });\r\n      \r\n      setValuations(valsWithPPR);\r\n      setBaseValuations(valsWithPPR); // Store base valuations\r\n      setSummary(sum);\r\n      updatePlayerValuations(valsWithPPR as any);\r\n      \r\n      // Initialize dynamic valuation service\r\n      dynamicValuationService.setBaseValuations(vals);\r\n      \r\n      // Run data integrity check\r\n      const integrityResult = DataIntegrityChecker.verifyDataIntegrity(\r\n        data.projections,\r\n        vals\r\n      );\r\n      \r\n      // Integrity check completed - no forced failures\r\n      \r\n      setIntegrityStatus({\r\n        checked: true,\r\n        passed: integrityResult.passed,\r\n        message: integrityResult.passed \r\n          ? ``\r\n          : ``\r\n      });\r\n      \r\n      toast.success('Calibrated valuations loaded successfully!');\r\n    } catch (error) {\r\n      console.error('[AppCalibrated] Error loading data:', error);\r\n      setDataError(error instanceof Error ? error.message : 'Failed to load data');\r\n      toast.error('Failed to load data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const handleSettingsApply = async () => {\r\n    // Reload data with new configuration\r\n    await loadData();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-400 mx-auto mb-4\"></div>\r\n          <h2 className=\"text-2xl font-bold text-white\">Loading</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (dataError) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-red-900 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"bg-red-900/50 border border-red-500 rounded-lg p-6 max-w-md\">\r\n          <AlertTriangle className=\"w-12 h-12 text-red-400 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Error Loading Data</h2>\r\n          <p className=\"text-red-200 mb-4\">{dataError}</p>\r\n          <button\r\n            onClick={loadData}\r\n            className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 mx-auto\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900\">\r\n      <Toaster position=\"top-right\" />\r\n      \r\n      {/* Experimental Banner */}\r\n      <div className=\"bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-b border-purple-600/30 py-2\">\r\n        <div className=\"flex items-center justify-center gap-3 text-purple-300 text-sm font-medium animate-pulse\">\r\n          <span></span>\r\n          <span>EXPERIMENTAL BUILD</span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Header */}\r\n      <header className=\"bg-black/50 backdrop-blur-lg border-b border-purple-500/30 z-50 flex-shrink-0\">\r\n        <div className=\"px-6 lg:px-8 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\r\n                FFTool\r\n              </h1>\r\n              \r\n              {/* Search Bar */}\r\n              <div className=\"relative w-64\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => {\r\n                    const query = e.target.value;\r\n                    setSearchQuery(query);\r\n                    setHighlightedIndex(-1);\r\n                    \r\n                    if (query.trim()) {\r\n                      const filtered = valuations.filter(player => \r\n                        player.playerName?.toLowerCase().includes(query.toLowerCase()) ||\r\n                        player.team?.toLowerCase().includes(query.toLowerCase())\r\n                      ).slice(0, 10);\r\n                      setFilteredPlayers(filtered);\r\n                      setShowDropdown(filtered.length > 0);\r\n                    } else {\r\n                      setShowDropdown(false);\r\n                      setFilteredPlayers([]);\r\n                    }\r\n                  }}\r\n                  onKeyDown={(e) => {\r\n                    if (!showDropdown) return;\r\n                    \r\n                    if (e.key === 'ArrowDown') {\r\n                      e.preventDefault();\r\n                      setHighlightedIndex(prev => \r\n                        prev < filteredPlayers.length - 1 ? prev + 1 : prev\r\n                      );\r\n                    } else if (e.key === 'ArrowUp') {\r\n                      e.preventDefault();\r\n                      setHighlightedIndex(prev => prev > 0 ? prev - 1 : -1);\r\n                    } else if (e.key === 'Enter' && highlightedIndex >= 0) {\r\n                      e.preventDefault();\r\n                      const player = filteredPlayers[highlightedIndex];\r\n                      setSelectedPlayer(player);\r\n                      setSearchQuery('');\r\n                      setShowDropdown(false);\r\n                      setFilteredPlayers([]);\r\n                      setHighlightedIndex(-1);\r\n                    } else if (e.key === 'Escape') {\r\n                      setShowDropdown(false);\r\n                      setHighlightedIndex(-1);\r\n                    }\r\n                  }}\r\n                  onFocus={() => {\r\n                    if (searchQuery.trim() && filteredPlayers.length > 0) {\r\n                      setShowDropdown(true);\r\n                    }\r\n                  }}\r\n                  onBlur={() => {\r\n                    setTimeout(() => setShowDropdown(false), 200);\r\n                  }}\r\n                  placeholder=\"Search players...\"\r\n                  className=\"w-full px-3 py-1.5 pr-8 text-sm bg-gray-800 border border-gray-700 rounded-lg text-gray-200 placeholder-gray-400 focus:outline-none focus:border-blue-400\"\r\n                />\r\n                {searchQuery && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setSearchQuery('');\r\n                      setShowDropdown(false);\r\n                      setFilteredPlayers([]);\r\n                      setHighlightedIndex(-1);\r\n                    }}\r\n                    className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white z-10\"\r\n                  >\r\n                    <X className=\"w-3 h-3\" />\r\n                  </button>\r\n                )}\r\n                \r\n                {/* Dropdown */}\r\n                {showDropdown && (\r\n                  <div className=\"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-80 overflow-y-auto z-50\">\r\n                    {filteredPlayers.map((player, index) => {\r\n                      const getPositionColor = () => {\r\n                        const colors: Record<string, string> = {\r\n                          QB: 'text-red-400',\r\n                          RB: 'text-green-400',\r\n                          WR: 'text-blue-400',\r\n                          TE: 'text-orange-400',\r\n                          DST: 'text-purple-400',\r\n                          K: 'text-yellow-400'\r\n                        };\r\n                        return colors[player.position] || 'text-gray-400';\r\n                      };\r\n                      \r\n                      return (\r\n                        <div\r\n                          key={player.playerId}\r\n                          onClick={() => {\r\n                            setSelectedPlayer(player);\r\n                            setSearchQuery('');\r\n                            setShowDropdown(false);\r\n                            setFilteredPlayers([]);\r\n                            setHighlightedIndex(-1);\r\n                          }}\r\n                          className={`px-3 py-2 cursor-pointer transition-colors flex items-center justify-between ${\r\n                            index === highlightedIndex\r\n                              ? 'bg-gray-700'\r\n                              : 'hover:bg-gray-700/50'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <span className={`text-xs font-bold ${getPositionColor()}`}>\r\n                              {player.position}\r\n                            </span>\r\n                            <span className=\"text-sm font-medium text-white\">\r\n                              {player.playerName}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-400\">\r\n                              {player.team}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-3 text-xs\">\r\n                            <span className=\"text-green-400 font-semibold\">\r\n                              ${player.auctionValue}\r\n                            </span>\r\n                            <span className=\"text-gray-500\">\r\n                              Rank #{player.rank || '-'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Draft Status */}\r\n            <div className=\"flex items-center gap-4\">\r\n              {/* Dynamic Mode Toggle */}\r\n              <button\r\n                onClick={() => setIsDynamicMode(!isDynamicMode)}\r\n                className={`px-3 py-1 rounded-lg text-sm flex items-center gap-2 transition-colors ${\r\n                  isDynamicMode \r\n                    ? 'bg-purple-600 hover:bg-purple-700 text-white' \r\n                    : 'bg-gray-700 hover:bg-gray-600 text-white'\r\n                }`}\r\n                title={isDynamicMode ? 'Dynamic valuations active' : 'Using static valuations'}\r\n              >\r\n                <Zap className=\"w-4 h-4\" />\r\n                {isDynamicMode ? 'Dynamic' : 'Static'}\r\n                {isDynamicMode && draftHistory.length > 0 && (\r\n                  <span className=\"text-xs bg-purple-800 px-1 rounded\">\r\n                    {draftHistory.length} picks\r\n                  </span>\r\n                )}\r\n              </button>\r\n              \r\n              {/* Settings Button */}\r\n              <button\r\n                onClick={() => setShowSettingsModal(true)}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2\"\r\n                title=\"Adjust valuation settings\"\r\n              >\r\n                <Settings className=\"w-4 h-4\" />\r\n                Settings\r\n              </button>\r\n              \r\n              {/* Simulation Tester Button */}\r\n              <button\r\n                onClick={() => setShowSimulationTester(true)}\r\n                className=\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2\"\r\n                title=\"Run draft simulations\"\r\n              >\r\n                <Zap className=\"w-4 h-4\" />\r\n                Test Simulations\r\n              </button>\r\n              \r\n              {/* Calculations Explainer Button */}\r\n              <button\r\n                onClick={() => setShowCalculationsModal(true)}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2\"\r\n                title=\"Learn how values are calculated\"\r\n              >\r\n                <Calculator className=\"w-4 h-4\" />\r\n                Methodology\r\n              </button>\r\n              \r\n              {integrityStatus.checked && (\r\n                <div \r\n                  className={`px-3 py-1 rounded-lg border ${\r\n                    integrityStatus.passed \r\n                      ? 'bg-green-900/50 border-green-500' \r\n                      : 'bg-red-900/50 border-red-500'\r\n                  }`}\r\n                  title={integrityStatus.passed \r\n                    ? 'Data integrity verified - All teams present' \r\n                    : 'Data integrity check failed - Some teams missing'}\r\n                >\r\n                  <span className={`text-sm font-medium ${\r\n                    integrityStatus.passed ? 'text-green-400' : 'text-red-400'\r\n                  }`}>\r\n                    {integrityStatus.message}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"px-2 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6 max-w-full overflow-x-hidden\">\r\n        {summary && (\r\n          <div className=\"flex flex-col gap-4\">\r\n            \r\n            {/* Full Width Player Detail Panel */}\r\n            <PlayerDetailPanel \r\n              player={selectedPlayer}\r\n              allPlayers={valuations}\r\n              onClose={() => setSelectedPlayer(null)}\r\n            />\r\n            \r\n            {/* Three Column Layout - Below Panel */}\r\n            <div className=\"grid grid-cols-12 gap-2 lg:gap-4\">\r\n              {/* Left Column - Team & Budget */}\r\n              <div className=\"col-span-12 xl:col-span-2 lg:col-span-3 md:col-span-4 space-y-4\">\r\n                <TeamRoster teamId={myTeamId} />\r\n                <BudgetAllocator\r\n                  remainingBudget={200 - draftHistory.reduce((sum: number, pick: any) => \r\n                    pick.team === myTeamId ? sum + (pick.price || 0) : sum, 0)}\r\n                  spotsLeft={16 - draftHistory.filter((pick: any) => pick.team === myTeamId).length}\r\n                  myRoster={draftHistory\r\n                    .filter((pick: any) => pick.team === myTeamId)\r\n                    .map((p: any) => p.player)}\r\n                  valuations={valuations}\r\n                  draftHistory={draftHistory}\r\n                />\r\n              </div>\r\n              \r\n              {/* Middle Column - Player Data Table */}\r\n              <div className=\"col-span-12 xl:col-span-8 lg:col-span-9 md:col-span-8\">\r\n                <div className=\"w-full overflow-hidden\">\r\n                  <PlayerDataTable\r\n                    players={valuations}\r\n                    searchQuery={searchQuery}\r\n                    onSearchChange={setSearchQuery}\r\n                    onPlayerSelect={(player) => {\r\n                      console.log('Player selected:', player);\r\n                      setSelectedPlayer(player);\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Right Column - Nomination Strategy, Market Tracker, Draft History & Other Teams */}\r\n              <div className=\"col-span-12 xl:col-span-2 lg:col-span-12 space-y-4\">\r\n                <NominationStrategy valuations={valuations} />\r\n                <MarketTrackerCalibrated \r\n                  valuations={valuations}\r\n                  draftHistory={draftHistory}\r\n                  onPriceUpdate={(playerId, actualPrice) => {\r\n                    // Update market prices in valuation service\r\n                    calibratedValuationService.updateMarketPrice(playerId, actualPrice);\r\n                  }}\r\n                />\r\n                <DraftHistory />\r\n                <OtherTeamsRosters />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n\r\n      {/* Calculations Explainer Modal */}\r\n      <CalculationsExplainerModal \r\n        isOpen={showCalculationsModal}\r\n        onClose={() => setShowCalculationsModal(false)}\r\n      />\r\n      \r\n      {/* Settings Modal */}\r\n      <SettingsModal\r\n        isOpen={showSettingsModal}\r\n        onClose={() => setShowSettingsModal(false)}\r\n        onApply={handleSettingsApply}\r\n      />\r\n      \r\n      {/* Simulation Tester Modal */}\r\n      {showSimulationTester && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-gray-900 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative\">\r\n            <button\r\n              onClick={() => setShowSimulationTester(false)}\r\n              className=\"absolute top-4 right-4 text-gray-400 hover:text-white\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n            <SimulationTester />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Player Detail Modal - Temporarily removed until fixed */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppExperimental;\r\n","import { useState } from 'react';\r\nimport { Beaker, Home } from 'lucide-react';\r\nimport AppCalibrated from './AppCalibrated';\r\nimport AppExperimental from './AppExperimental';\r\n\r\nfunction AppWithVersionToggle() {\r\n  const [isExperimental, setIsExperimental] = useState(true); // Default to experimental\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-950\">\r\n      {/* Version Toggle Button */}\r\n      <div className=\"fixed top-4 right-4 z-50\">\r\n        <button\r\n          onClick={() => setIsExperimental(!isExperimental)}\r\n          className={`\r\n            flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300\r\n            ${isExperimental \r\n              ? 'bg-purple-600 text-white hover:bg-purple-700 shadow-lg shadow-purple-600/20' \r\n              : 'bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700'\r\n            }\r\n          `}\r\n        >\r\n          {isExperimental ? (\r\n            <>\r\n              <Beaker className=\"w-4 h-4\" />\r\n              <span>Experimental</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Home className=\"w-4 h-4\" />\r\n              <span>Stable</span>\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Version Indicator Badge */}\r\n      {isExperimental && (\r\n        <div className=\"fixed top-4 left-4 z-50\">\r\n          <div className=\"bg-purple-600/10 border border-purple-600/30 text-purple-400 px-3 py-1 rounded-full text-sm font-medium\">\r\n             Experimental Mode\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* App Content */}\r\n      <div className=\"transition-opacity duration-300\">\r\n        {isExperimental ? <AppExperimental /> : <AppCalibrated />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppWithVersionToggle;","/**\r\n * Quick test to verify all CSV data is being parsed correctly\r\n */\r\n\r\nimport { strictParser } from './utils/strictCsvParser';\r\nimport { CSVSchema, ColumnType, ParseConfig } from './utils/csvSchema';\r\nimport { logger } from './utils/logger';\r\n\r\nexport async function quickDataTest(): Promise<void> {\r\n  logger.info('=' .repeat(60));\r\n  logger.info('QUICK DATA PARSING TEST - KEY FILES');\r\n  logger.info('=' .repeat(60));\r\n\r\n  const testFiles = [\r\n    {\r\n      path: '/canonical_data/adp/adp0_2025.csv',\r\n      name: 'ADP Data',\r\n      expectedColumns: ['Overall Rank', 'Full Name', 'Position', 'ADP'],\r\n      sampleCheck: (row: any) => row['Full Name'] && row['ADP']\r\n    },\r\n    {\r\n      path: '/canonical_data/projections/projections_2025.csv',\r\n      name: 'Projections 2025',\r\n      expectedColumns: ['playerName', 'position', 'fantasyPoints'],\r\n      sampleCheck: (row: any) => row['playerName'] && row['fantasyPoints']\r\n    },\r\n    {\r\n      path: '/canonical_data/advanced_data/2024-2025/passing_summary.csv',\r\n      name: 'Passing Summary',\r\n      expectedColumns: ['player', 'team_name', 'yards'],\r\n      sampleCheck: (row: any) => row['player'] && row['yards']\r\n    },\r\n    {\r\n      path: '/canonical_data/advanced_data/team_data/team_points_per_game.txt',\r\n      name: 'Team Points Per Game',\r\n      delimiter: '\\t',\r\n      expectedColumns: ['Rank', 'Team', '2024'],\r\n      sampleCheck: (row: any) => row['Team'] && row['2024']\r\n    },\r\n    {\r\n      path: '/canonical_data/historical_stats/fantasy-stats-passing_2024.csv',\r\n      name: 'Historical Passing Stats',\r\n      expectedColumns: ['player', 'team', 'fantasyPts'],\r\n      sampleCheck: (row: any) => row['player'] && row['fantasyPts']\r\n    }\r\n  ];\r\n\r\n  let allSuccess = true;\r\n\r\n  for (const test of testFiles) {\r\n    try {\r\n      logger.info(`\\n Testing: ${test.name}`);\r\n      logger.info('-' .repeat(40));\r\n      \r\n      const response = await fetch(test.path);\r\n      const content = await response.text();\r\n      \r\n      // Create a flexible schema for testing\r\n      const schema: CSVSchema = {\r\n        name: test.name.toLowerCase().replace(/\\s+/g, '_'),\r\n        columns: [], // Allow all columns\r\n        uniqueKeys: [],\r\n        allowExtraColumns: true,\r\n        encoding: 'UTF-8',\r\n        delimiter: test.delimiter || ',',\r\n        quoteChar: '\"',\r\n        escapeChar: '\\\\',\r\n        hasHeader: true,\r\n        skipRows: 0,\r\n        naValues: ['', 'N/A', '--', 'null', 'NA'],\r\n        thousandsSeparator: ',',\r\n        decimalSeparator: '.',\r\n        duplicatePolicy: 'last',\r\n        validationMode: 'warning'\r\n      };\r\n\r\n      const config: ParseConfig = {\r\n        schema,\r\n        bomHandling: 'remove',\r\n        trimWhitespace: true,\r\n        skipEmptyLines: true,\r\n        maxErrors: 10\r\n      };\r\n\r\n      const result = strictParser.parseWithSchema(content, config);\r\n      \r\n      if (result.success && result.data.length > 0) {\r\n        logger.info(` SUCCESS: Parsed ${result.data.length} rows`);\r\n        \r\n        // Check first row structure\r\n        const firstRow = result.data[0];\r\n        const columns = Object.keys(firstRow);\r\n        logger.info(`  Columns found: ${columns.slice(0, 5).join(', ')}${columns.length > 5 ? '...' : ''}`);\r\n        \r\n        // Verify sample data\r\n        if (test.sampleCheck && test.sampleCheck(firstRow)) {\r\n          logger.info(`   Sample data validated`);\r\n        } else {\r\n          logger.warn(`   Sample check failed`);\r\n        }\r\n        \r\n        // Show sample row\r\n        const sampleData = Object.entries(firstRow)\r\n          .slice(0, 3)\r\n          .map(([k, v]) => `${k}: ${v}`)\r\n          .join(' | ');\r\n        logger.info(`  Sample: ${sampleData}`);\r\n        \r\n      } else {\r\n        logger.error(` FAILED: ${result.errors.slice(0, 2).map(e => e.message).join('; ')}`);\r\n        allSuccess = false;\r\n      }\r\n      \r\n    } catch (error) {\r\n      logger.error(` ERROR: ${error instanceof Error ? error.message : String(error)}`);\r\n      allSuccess = false;\r\n    }\r\n  }\r\n\r\n  // Summary\r\n  logger.info('\\n' + '=' .repeat(60));\r\n  if (allSuccess) {\r\n    logger.info(' ALL KEY FILES PARSED SUCCESSFULLY');\r\n  } else {\r\n    logger.error(' SOME FILES FAILED TO PARSE');\r\n  }\r\n  logger.info('=' .repeat(60));\r\n\r\n  // Test specific parsing features\r\n  logger.info('\\n TESTING SPECIFIC FEATURES:');\r\n  \r\n  // Test 1: BOM Handling\r\n  const bomTest = '\\uFEFFname,value\\ntest,123';\r\n  const bomResult = strictParser.parseWithSchema(bomTest, {\r\n    schema: {\r\n      name: 'bom_test',\r\n      columns: [\r\n        { name: 'name', type: ColumnType.STRING, required: true },\r\n        { name: 'value', type: ColumnType.INTEGER, required: true }\r\n      ],\r\n      uniqueKeys: [['name']],\r\n      allowExtraColumns: false,\r\n      encoding: 'UTF-8',\r\n      delimiter: ',',\r\n      quoteChar: '\"',\r\n      escapeChar: '\\\\',\r\n      hasHeader: true,\r\n      skipRows: 0,\r\n      naValues: [],\r\n      thousandsSeparator: ',',\r\n      decimalSeparator: '.',\r\n      duplicatePolicy: 'fail',\r\n      validationMode: 'strict'\r\n    },\r\n    bomHandling: 'remove',\r\n    trimWhitespace: true,\r\n    skipEmptyLines: true,\r\n    maxErrors: 10\r\n  });\r\n  logger.info(`  BOM Handling: ${bomResult.success ? ' PASS' : ' FAIL'}`);\r\n\r\n  // Test 2: Number parsing with separators\r\n  const numberTest = 'name,value,percent,currency\\ntest,\"1,234.56\",\"45.5%\",\"$199\"';\r\n  const numberResult = strictParser.parseWithSchema(numberTest, {\r\n    schema: {\r\n      name: 'number_test',\r\n      columns: [\r\n        { name: 'name', type: ColumnType.STRING, required: true },\r\n        { name: 'value', type: ColumnType.FLOAT, required: true },\r\n        { name: 'percent', type: ColumnType.PERCENTAGE, required: true },\r\n        { name: 'currency', type: ColumnType.CURRENCY, required: true }\r\n      ],\r\n      uniqueKeys: [],\r\n      allowExtraColumns: false,\r\n      encoding: 'UTF-8',\r\n      delimiter: ',',\r\n      quoteChar: '\"',\r\n      escapeChar: '\\\\',\r\n      hasHeader: true,\r\n      skipRows: 0,\r\n      naValues: [],\r\n      thousandsSeparator: ',',\r\n      decimalSeparator: '.',\r\n      duplicatePolicy: 'fail',\r\n      validationMode: 'strict'\r\n    },\r\n    bomHandling: 'remove',\r\n    trimWhitespace: true,\r\n    skipEmptyLines: true,\r\n    maxErrors: 10\r\n  });\r\n  \r\n  if (numberResult.success && numberResult.data.length > 0) {\r\n    const row = numberResult.data[0];\r\n    logger.info(`  Number Parsing:  PASS`);\r\n    logger.info(`    - Float: ${row.value} (expected: 1234.56)`);\r\n    logger.info(`    - Percent: ${row.percent} (expected: 0.455)`);\r\n    logger.info(`    - Currency: ${row.currency} (expected: 199)`);\r\n  } else {\r\n    logger.error(`  Number Parsing:  FAIL`);\r\n  }\r\n\r\n  // Test 3: Duplicate handling\r\n  const dupTest = 'name,value\\nJohn,100\\nJohn,200\\nJane,300';\r\n  const dupResult = strictParser.parseWithSchema(dupTest, {\r\n    schema: {\r\n      name: 'dup_test',\r\n      columns: [\r\n        { name: 'name', type: ColumnType.STRING, required: true },\r\n        { name: 'value', type: ColumnType.INTEGER, required: true }\r\n      ],\r\n      uniqueKeys: [['name']],\r\n      allowExtraColumns: false,\r\n      encoding: 'UTF-8',\r\n      delimiter: ',',\r\n      quoteChar: '\"',\r\n      escapeChar: '\\\\',\r\n      hasHeader: true,\r\n      skipRows: 0,\r\n      naValues: [],\r\n      thousandsSeparator: ',',\r\n      decimalSeparator: '.',\r\n      duplicatePolicy: 'last',\r\n      validationMode: 'strict'\r\n    },\r\n    bomHandling: 'remove',\r\n    trimWhitespace: true,\r\n    skipEmptyLines: true,\r\n    maxErrors: 10\r\n  });\r\n  \r\n  logger.info(`  Duplicate Handling: ${dupResult.data.length === 2 ? ' PASS' : ' FAIL'}`);\r\n  if (dupResult.success) {\r\n    const john = dupResult.data.find((r: any) => r.name === 'John');\r\n    logger.info(`    - John's value: ${john?.value} (expected: 200 with 'last' policy)`);\r\n  }\r\n\r\n  logger.info('\\n Test complete! All CSV parsing features verified.');\r\n}\r\n\r\n// Make available in browser\r\nif (typeof window !== 'undefined') {\r\n  (window as any).quickDataTest = quickDataTest;\r\n  logger.info('Quick data test loaded. Run window.quickDataTest() to test parsing.');\r\n}","/**\r\n * Test and demonstration of strict CSV parsing with schema enforcement\r\n */\r\n\r\nimport { strictParser } from './utils/strictCsvParser';\r\nimport { CSV_SCHEMAS, REFERENTIAL_INTEGRITY_RULES, ParseConfig } from './utils/csvSchema';\r\nimport { logger } from './utils/logger';\r\n\r\nexport async function testStrictCSVParsing(): Promise<void> {\r\n  logger.info('=' .repeat(60));\r\n  logger.info('STRICT CSV PARSING TEST - WITH SCHEMA ENFORCEMENT');\r\n  logger.info('=' .repeat(60));\r\n\r\n  try {\r\n    // Test 1: Parse ADP data with strict schema\r\n    logger.info('\\n TEST 1: ADP Data with Strict Schema');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const adpResponse = await fetch('/canonical_data/adp/adp0_2025.csv');\r\n    const adpContent = await adpResponse.text();\r\n    \r\n    const adpConfig: ParseConfig = {\r\n      schema: CSV_SCHEMAS.ADP_DATA,\r\n      bomHandling: 'remove',\r\n      trimWhitespace: true,\r\n      skipEmptyLines: true,\r\n      maxErrors: 10,\r\n      quarantinePath: '/tmp/quarantine/adp_errors.csv'\r\n    };\r\n    \r\n    const adpResult = strictParser.parseWithSchema(adpContent, adpConfig);\r\n    \r\n    logger.info(` ADP Parse Result:`);\r\n    logger.info(`  - Success: ${adpResult.success}`);\r\n    logger.info(`  - Total rows parsed: ${adpResult.data.length}`);\r\n    logger.info(`  - Errors: ${adpResult.errors.length}`);\r\n    logger.info(`  - Warnings: ${adpResult.warnings.length}`);\r\n    \r\n    if (adpResult.errors.length > 0) {\r\n      logger.error('ADP Parsing Errors (first 5):');\r\n      adpResult.errors.slice(0, 5).forEach(e => {\r\n        logger.error(`  Row ${e.row}: ${e.message}`);\r\n      });\r\n    }\r\n    \r\n    // Display lineage information\r\n    const lineage = adpResult.lineage;\r\n    logger.info('\\n Data Lineage:');\r\n    logger.info(`  Original rows: ${lineage.rowCountOriginal}`);\r\n    logger.info(`  After headers: ${lineage.rowCountAfterHeaders}`);\r\n    logger.info(`  After empty removal: ${lineage.rowCountAfterEmpty}`);\r\n    logger.info(`  After validation: ${lineage.rowCountAfterValidation}`);\r\n    logger.info(`  After deduplication: ${lineage.rowCountAfterDuplicates}`);\r\n    logger.info(`  Final count: ${lineage.rowCountFinal}`);\r\n    logger.info(`  Coercions: ${lineage.coercions.length}`);\r\n    logger.info(`  Quarantined: ${lineage.quarantinedRows.length}`);\r\n    \r\n    // Show sample coercions\r\n    if (lineage.coercions.length > 0) {\r\n      logger.info('\\n Sample Coercions (first 5):');\r\n      lineage.coercions.slice(0, 5).forEach(c => {\r\n        logger.info(`  Row ${c.row}, Column \"${c.column}\": \"${c.originalValue}\"  ${c.coercedValue} (${c.reason})`);\r\n      });\r\n    }\r\n    \r\n    // Test 2: Parse Projections data\r\n    logger.info('\\n TEST 2: Projections Data');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const projResponse = await fetch('/canonical_data/projections/projections_2025.csv');\r\n    const projContent = await projResponse.text();\r\n    \r\n    const projConfig: ParseConfig = {\r\n      schema: CSV_SCHEMAS.PROJECTIONS,\r\n      bomHandling: 'remove',\r\n      trimWhitespace: true,\r\n      skipEmptyLines: true,\r\n      maxErrors: 10\r\n    };\r\n    \r\n    const projResult = strictParser.parseWithSchema(projContent, projConfig);\r\n    \r\n    logger.info(` Projections Parse Result:`);\r\n    logger.info(`  - Success: ${projResult.success}`);\r\n    logger.info(`  - Total rows parsed: ${projResult.data.length}`);\r\n    logger.info(`  - Errors: ${projResult.errors.length}`);\r\n    logger.info(`  - Warnings: ${projResult.warnings.length}`);\r\n    \r\n    // Test 3: Parse Team Metrics (tab-delimited)\r\n    logger.info('\\n TEST 3: Team Metrics (Tab-Delimited)');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const teamResponse = await fetch('/canonical_data/advanced_data/team_data/team_points_per_game.txt');\r\n    const teamContent = await teamResponse.text();\r\n    \r\n    const teamConfig: ParseConfig = {\r\n      schema: CSV_SCHEMAS.TEAM_METRICS,\r\n      bomHandling: 'remove',\r\n      trimWhitespace: true,\r\n      skipEmptyLines: true,\r\n      maxErrors: 10\r\n    };\r\n    \r\n    const teamResult = strictParser.parseWithSchema(teamContent, teamConfig);\r\n    \r\n    logger.info(` Team Metrics Parse Result:`);\r\n    logger.info(`  - Success: ${teamResult.success}`);\r\n    logger.info(`  - Total rows parsed: ${teamResult.data.length}`);\r\n    logger.info(`  - Errors: ${teamResult.errors.length}`);\r\n    logger.info(`  - Warnings: ${teamResult.warnings.length}`);\r\n    \r\n    // Test 4: Referential Integrity Check\r\n    logger.info('\\n TEST 4: Referential Integrity Check');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const integrityResult = strictParser.checkReferentialIntegrity(REFERENTIAL_INTEGRITY_RULES);\r\n    \r\n    logger.info(` Referential Integrity Result:`);\r\n    logger.info(`  - Valid: ${integrityResult.valid}`);\r\n    logger.info(`  - Violations: ${integrityResult.violations.length}`);\r\n    \r\n    if (integrityResult.violations.length > 0) {\r\n      logger.warn('Referential Integrity Violations:');\r\n      integrityResult.violations.forEach(v => {\r\n        logger.warn(`  ${v.rule.sourceTable}.${v.rule.sourceColumn}  ${v.rule.targetTable}.${v.rule.targetColumn}`);\r\n        logger.warn(`    Missing values (${v.count} total): ${v.missingValues.slice(0, 5).join(', ')}${v.count > 5 ? '...' : ''}`);\r\n      });\r\n    }\r\n    \r\n    // Test 5: Test duplicate handling\r\n    logger.info('\\n TEST 5: Duplicate Handling Test');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const duplicateCSV = `\"Full Name\",\"Position\",\"Team Abbreviation\",\"ADP\"\r\n\"Justin Jefferson\",\"WR\",\"MIN\",\"4.5\"\r\n\"Justin Jefferson\",\"WR\",\"MIN\",\"4.8\"\r\n\"CeeDee Lamb\",\"WR\",\"DAL\",\"6.2\"`;\r\n    \r\n    const dupConfig: ParseConfig = {\r\n      schema: {\r\n        ...CSV_SCHEMAS.ADP_DATA,\r\n        duplicatePolicy: 'last', // Keep the last occurrence\r\n        columns: [\r\n          { name: 'Full Name', type: 'string' as any, required: true },\r\n          { name: 'Position', type: 'enum' as any, required: true, allowedValues: ['WR', 'RB', 'QB', 'TE'] },\r\n          { name: 'Team Abbreviation', type: 'string' as any, required: true },\r\n          { name: 'ADP', type: 'float' as any, required: true }\r\n        ]\r\n      },\r\n      bomHandling: 'remove',\r\n      trimWhitespace: true,\r\n      skipEmptyLines: true,\r\n      maxErrors: 10\r\n    };\r\n    \r\n    const dupResult = strictParser.parseWithSchema(duplicateCSV, dupConfig);\r\n    \r\n    logger.info(` Duplicate Handling Result:`);\r\n    logger.info(`  - Original rows: 3`);\r\n    logger.info(`  - After deduplication: ${dupResult.data.length}`);\r\n    logger.info(`  - Duplicates removed: ${dupResult.lineage.duplicatesRemoved}`);\r\n    logger.info(`  - Final data:`);\r\n    dupResult.data.forEach(row => {\r\n      logger.info(`    ${row['Full Name']} (${row['Position']}) - ADP: ${row['ADP']}`);\r\n    });\r\n    \r\n    // Test 6: Test strict validation failure\r\n    logger.info('\\n TEST 6: Strict Validation Failure');\r\n    logger.info('-' .repeat(40));\r\n    \r\n    const invalidCSV = `\"Full Name\",\"Position\",\"Team Abbreviation\",\"ADP\"\r\n\"Invalid Player\",\"XYZ\",\"ZZZ\",\"999\"\r\n\"Valid Player\",\"WR\",\"MIN\",\"4.5\"`;\r\n    \r\n    const strictConfig: ParseConfig = {\r\n      schema: {\r\n        ...CSV_SCHEMAS.ADP_DATA,\r\n        validationMode: 'strict',\r\n        columns: [\r\n          { name: 'Full Name', type: 'string' as any, required: true },\r\n          { name: 'Position', type: 'enum' as any, required: true, allowedValues: ['WR', 'RB', 'QB', 'TE'] },\r\n          { name: 'Team Abbreviation', type: 'string' as any, required: true, pattern: /^[A-Z]{2,3}$/ },\r\n          { name: 'ADP', type: 'float' as any, required: true, min: 1, max: 300 }\r\n        ]\r\n      },\r\n      bomHandling: 'remove',\r\n      trimWhitespace: true,\r\n      skipEmptyLines: true,\r\n      maxErrors: 10\r\n    };\r\n    \r\n    const invalidResult = strictParser.parseWithSchema(invalidCSV, strictConfig);\r\n    \r\n    logger.info(` Strict Validation Result:`);\r\n    logger.info(`  - Success: ${invalidResult.success}`);\r\n    logger.info(`  - Valid rows: ${invalidResult.data.length}`);\r\n    logger.info(`  - Quarantined rows: ${invalidResult.lineage.quarantinedRows.length}`);\r\n    logger.info(`  - Errors: ${invalidResult.errors.length}`);\r\n    \r\n    if (invalidResult.errors.length > 0) {\r\n      logger.error('Validation Errors:');\r\n      invalidResult.errors.forEach(e => {\r\n        logger.error(`  Row ${e.row}, Column \"${e.column}\": ${e.message}`);\r\n      });\r\n    }\r\n    \r\n    // Export lineage report\r\n    logger.info('\\n FINAL LINEAGE REPORT');\r\n    logger.info('-' .repeat(40));\r\n    const report = strictParser.exportLineageReport();\r\n    logger.info(report);\r\n    \r\n    // Summary\r\n    logger.info('\\n' + '=' .repeat(60));\r\n    logger.info(' ALL STRICT PARSING TESTS COMPLETE');\r\n    logger.info('=' .repeat(60));\r\n    logger.info('\\nKey Features Demonstrated:');\r\n    logger.info('   Explicit dtype enforcement per column');\r\n    logger.info('   NA value handling with configurable patterns');\r\n    logger.info('   Thousands/decimal separator support');\r\n    logger.info('   BOM detection and removal');\r\n    logger.info('   Strict schema enforcement (fail on unexpected)');\r\n    logger.info('   Duplicate handling with configurable policy');\r\n    logger.info('   Referential integrity checking across CSVs');\r\n    logger.info('   Comprehensive row count logging at each stage');\r\n    logger.info('   Coercion tracking and quarantine support');\r\n    \r\n  } catch (error) {\r\n    logger.error('Test failed:', error);\r\n  }\r\n}\r\n\r\n// Make available in browser console\r\nif (typeof window !== 'undefined') {\r\n  (window as any).testStrictCSVParsing = testStrictCSVParsing;\r\n  logger.info('Strict CSV parsing test loaded. Run window.testStrictCSVParsing() to execute.');\r\n}","/**\r\n * Full validation runner for all CSV data files\r\n * Executes comprehensive validation and generates report\r\n */\r\n\r\nimport { strictParser } from './utils/strictCsvParser';\r\nimport { CSVSchema, ColumnType, ParseConfig } from './utils/csvSchema';\r\nimport { logger } from './utils/logger';\r\n\r\ninterface ValidationResult {\r\n  file: string;\r\n  success: boolean;\r\n  rowsParsed: number;\r\n  errors: number;\r\n  warnings: number;\r\n  samples: any[];\r\n  message?: string;\r\n}\r\n\r\nexport async function runFullValidation(): Promise<void> {\r\n  logger.info('=' .repeat(80));\r\n  logger.info(' FULL DATA VALIDATION - ALL CSV FILES');\r\n  logger.info('=' .repeat(80));\r\n\r\n  const results: ValidationResult[] = [];\r\n  \r\n  // Define all data files to validate\r\n  const dataFiles = [\r\n    // ADP Data\r\n    { path: '/canonical_data/adp/adp0_2025.csv', name: 'ADP Rankings' },\r\n    { path: '/canonical_data/adp/adp_tier_data_2025.csv', name: 'ADP Tiers' },\r\n    { path: '/canonical_data/adp/cbs_trade_values_week0_2025.csv', name: 'CBS Trade Values' },\r\n    { path: '/canonical_data/adp/fpros_trade_values_dynasty_week0_2025.csv', name: 'Dynasty Trade Values' },\r\n    { path: '/canonical_data/adp/fpros_trade_values_redraft_week0_2025.csv', name: 'Redraft Trade Values' },\r\n    { path: '/canonical_data/adp/pff_redraft_rankings_week0_2025.csv', name: 'PFF Rankings' },\r\n    \r\n    // Projections\r\n    { path: '/canonical_data/projections/projections_2025.csv', name: 'Season Projections' },\r\n    { path: '/canonical_data/projections/projections_vorp_2025.csv', name: 'VORP Projections' },\r\n    { path: '/canonical_data/projections/weekly_projections_w1_2025.csv', name: 'Week 1 Projections' },\r\n    \r\n    // Historical Stats\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-kicking_2024.csv', name: 'Kicking Stats 2024' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-passing_2024.csv', name: 'Passing Stats 2024' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-receiving_2024.csv', name: 'Receiving Stats 2024' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-rushing_2024.csv', name: 'Rushing Stats 2024' },\r\n    \r\n    // Advanced Data - Passing\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_accuracy.csv', name: 'Passing Accuracy' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_air_yards.csv', name: 'Passing Air Yards' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_danger_plays.csv', name: 'Passing Danger Plays' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_deep_ball.csv', name: 'Passing Deep Ball' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_play_action.csv', name: 'Play Action' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_pressure.csv', name: 'Passing Pressure' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_red_zone.csv', name: 'Red Zone Passing' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_summary.csv', name: 'Passing Summary' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_time_to_throw.csv', name: 'Time to Throw' },\r\n    \r\n    // Advanced Data - Rushing\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_expected_yards.csv', name: 'Expected Rushing Yards' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_gap.csv', name: 'Gap Rushing' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_quarterback.csv', name: 'QB Rushing' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_summary.csv', name: 'Rushing Summary' },\r\n    \r\n    // Advanced Data - Receiving\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_deep_ball.csv', name: 'Deep Ball Receiving' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_red_zone.csv', name: 'Red Zone Receiving' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_summary.csv', name: 'Receiving Summary' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_usage.csv', name: 'Receiving Usage' },\r\n    \r\n    // Team Data (Tab-delimited)\r\n    { path: '/canonical_data/advanced_data/team_data/defensive_elo.txt', name: 'Defensive ELO', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/offensive_elo.txt', name: 'Offensive ELO', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/passing_defense_rankings.txt', name: 'Pass Defense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/passing_offense_rankings.txt', name: 'Pass Offense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/rushing_defense_rankings.txt', name: 'Rush Defense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/rushing_offense_rankings.txt', name: 'Rush Offense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_defensive_dvoa.txt', name: 'Defensive DVOA', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_offensive_dvoa.txt', name: 'Offensive DVOA', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_pace_data.txt', name: 'Team Pace', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_passing_yards_allowed.txt', name: 'Pass Yards Allowed', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_points_allowed.txt', name: 'Points Allowed', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_points_per_game.txt', name: 'Points Per Game', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_red_zone_efficiency.txt', name: 'Red Zone Efficiency', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_rushing_yards_allowed.txt', name: 'Rush Yards Allowed', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_sacks_allowed.txt', name: 'Sacks Allowed', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_takeaways_per_game.txt', name: 'Takeaways', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_third_down_conversion.txt', name: 'Third Down', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_time_of_possession.txt', name: 'Time of Possession', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_total_defense.txt', name: 'Total Defense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_total_offense.txt', name: 'Total Offense', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_turnover_differential.txt', name: 'Turnover Differential', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_yards_per_play.txt', name: 'Yards Per Play', delimiter: '\\t' }\r\n  ];\r\n\r\n  let totalSuccess = 0;\r\n  let totalFailure = 0;\r\n  let totalRows = 0;\r\n\r\n  for (const file of dataFiles) {\r\n    try {\r\n      logger.info(`\\n Validating: ${file.name}`);\r\n      \r\n      const response = await fetch(file.path);\r\n      if (!response.ok) {\r\n        results.push({\r\n          file: file.name,\r\n          success: false,\r\n          rowsParsed: 0,\r\n          errors: 1,\r\n          warnings: 0,\r\n          samples: [],\r\n          message: `HTTP ${response.status}`\r\n        });\r\n        totalFailure++;\r\n        continue;\r\n      }\r\n\r\n      const content = await response.text();\r\n      \r\n      // Create flexible schema for validation\r\n      const schema: CSVSchema = {\r\n        name: file.name.toLowerCase().replace(/\\s+/g, '_'),\r\n        columns: [], // Allow any columns\r\n        uniqueKeys: [],\r\n        allowExtraColumns: true,\r\n        encoding: 'UTF-8',\r\n        delimiter: file.delimiter || ',',\r\n        quoteChar: '\"',\r\n        escapeChar: '\\\\',\r\n        hasHeader: true,\r\n        skipRows: 0,\r\n        naValues: ['', 'N/A', '--', 'null', 'NA', 'n/a'],\r\n        thousandsSeparator: ',',\r\n        decimalSeparator: '.',\r\n        duplicatePolicy: 'last',\r\n        validationMode: 'warning'\r\n      };\r\n\r\n      const config: ParseConfig = {\r\n        schema,\r\n        bomHandling: 'remove',\r\n        trimWhitespace: true,\r\n        skipEmptyLines: true,\r\n        maxErrors: 10\r\n      };\r\n\r\n      const result = strictParser.parseWithSchema(content, config);\r\n      \r\n      if (result.success && result.data.length > 0) {\r\n        logger.info(`   Success: ${result.data.length} rows parsed`);\r\n        results.push({\r\n          file: file.name,\r\n          success: true,\r\n          rowsParsed: result.data.length,\r\n          errors: result.errors.length,\r\n          warnings: result.warnings.length,\r\n          samples: result.data.slice(0, 3)\r\n        });\r\n        totalSuccess++;\r\n        totalRows += result.data.length;\r\n      } else {\r\n        logger.error(`   Failed: ${result.errors[0]?.message || 'Unknown error'}`);\r\n        results.push({\r\n          file: file.name,\r\n          success: false,\r\n          rowsParsed: 0,\r\n          errors: result.errors.length,\r\n          warnings: result.warnings.length,\r\n          samples: [],\r\n          message: result.errors[0]?.message\r\n        });\r\n        totalFailure++;\r\n      }\r\n      \r\n    } catch (error) {\r\n      logger.error(`   Error: ${error instanceof Error ? error.message : String(error)}`);\r\n      results.push({\r\n        file: file.name,\r\n        success: false,\r\n        rowsParsed: 0,\r\n        errors: 1,\r\n        warnings: 0,\r\n        samples: [],\r\n        message: error instanceof Error ? error.message : String(error)\r\n      });\r\n      totalFailure++;\r\n    }\r\n  }\r\n\r\n  // Generate summary report\r\n  logger.info('\\n' + '=' .repeat(80));\r\n  logger.info(' VALIDATION SUMMARY');\r\n  logger.info('=' .repeat(80));\r\n  \r\n  logger.info(`\\n Successful: ${totalSuccess}/${dataFiles.length} files`);\r\n  logger.info(` Failed: ${totalFailure}/${dataFiles.length} files`);\r\n  logger.info(` Total Rows Parsed: ${totalRows.toLocaleString()}`);\r\n  \r\n  // Show failures if any\r\n  const failures = results.filter(r => !r.success);\r\n  if (failures.length > 0) {\r\n    logger.error('\\n FAILED FILES:');\r\n    failures.forEach(f => {\r\n      logger.error(`  - ${f.file}: ${f.message || 'Parse error'}`);\r\n    });\r\n  }\r\n\r\n  // Show successes with sample data\r\n  logger.info('\\n SUCCESSFULLY PARSED FILES:');\r\n  const successes = results.filter(r => r.success);\r\n  successes.forEach(s => {\r\n    logger.info(`  - ${s.file}: ${s.rowsParsed} rows`);\r\n    if (s.samples.length > 0) {\r\n      const sample = s.samples[0];\r\n      const keys = Object.keys(sample).slice(0, 3);\r\n      const preview = keys.map(k => `${k}=\"${sample[k]}\"`).join(', ');\r\n      logger.info(`    Sample: ${preview}`);\r\n    }\r\n  });\r\n\r\n  // Data integrity checks\r\n  logger.info('\\n DATA INTEGRITY CHECKS:');\r\n  \r\n  // Check key relationships\r\n  const adpData = results.find(r => r.file === 'ADP Rankings');\r\n  const projections = results.find(r => r.file === 'Season Projections');\r\n  \r\n  if (adpData?.success && projections?.success) {\r\n    logger.info('   Core data files (ADP + Projections) parsed successfully');\r\n  } else {\r\n    logger.error('   Missing core data files');\r\n  }\r\n\r\n  // Check team data consistency\r\n  const teamFiles = results.filter(r => r.file.includes('Team') || r.file.includes('Defense') || r.file.includes('Offense'));\r\n  const teamSuccess = teamFiles.filter(r => r.success).length;\r\n  logger.info(`   Team Data: ${teamSuccess}/${teamFiles.length} files parsed`);\r\n\r\n  // Check historical data\r\n  const historicalFiles = results.filter(r => r.file.includes('2024'));\r\n  const histSuccess = historicalFiles.filter(r => r.success).length;\r\n  logger.info(`   Historical Data: ${histSuccess}/${historicalFiles.length} files parsed`);\r\n\r\n  // Final verdict\r\n  logger.info('\\n' + '=' .repeat(80));\r\n  if (totalFailure === 0) {\r\n    logger.info(' ALL DATA VALIDATED SUCCESSFULLY!');\r\n    logger.info(' 100% of CSV files are being parsed correctly');\r\n  } else {\r\n    const successRate = ((totalSuccess / dataFiles.length) * 100).toFixed(1);\r\n    logger.warn(` VALIDATION INCOMPLETE: ${successRate}% success rate`);\r\n    logger.warn(`   ${totalFailure} files need attention`);\r\n  }\r\n  logger.info('=' .repeat(80));\r\n\r\n  // Export detailed report\r\n  const report = {\r\n    summary: {\r\n      totalFiles: dataFiles.length,\r\n      successful: totalSuccess,\r\n      failed: totalFailure,\r\n      totalRowsParsed: totalRows,\r\n      successRate: ((totalSuccess / dataFiles.length) * 100).toFixed(1) + '%'\r\n    },\r\n    results,\r\n    timestamp: new Date().toISOString()\r\n  };\r\n\r\n  // Make report available globally\r\n  if (typeof window !== 'undefined') {\r\n    (window as any).validationReport = report;\r\n    logger.info('\\n Full report available at: window.validationReport');\r\n  }\r\n\r\n  return;\r\n}\r\n\r\n// Make available in browser\r\nif (typeof window !== 'undefined') {\r\n  (window as any).runFullValidation = runFullValidation;\r\n  logger.info('Full validation loaded. Run window.runFullValidation() to validate all CSV files.');\r\n}","/**\r\n * Main entry point for data validation\r\n * Runs all validation tests and generates comprehensive report\r\n */\r\n\r\nimport { quickDataTest } from './quickDataTest';\r\nimport { testStrictCSVParsing } from './testStrictParsing';\r\nimport { runFullValidation } from './runFullValidation';\r\nimport { logger } from './utils/logger';\r\n\r\nexport async function validateAllData(): Promise<void> {\r\n  logger.info(' Starting comprehensive data validation...\\n');\r\n  \r\n  try {\r\n    // Step 1: Quick test of key files\r\n    logger.info('Step 1: Quick parsing test of key files');\r\n    await quickDataTest();\r\n    \r\n    // Step 2: Test strict parsing features\r\n    logger.info('\\nStep 2: Testing strict parsing features');\r\n    await testStrictCSVParsing();\r\n    \r\n    // Step 3: Full validation of all files\r\n    logger.info('\\nStep 3: Full validation of all CSV files');\r\n    await runFullValidation();\r\n    \r\n    logger.info('\\n All validation tests complete!');\r\n    logger.info('Check window.validationReport for detailed results');\r\n    \r\n  } catch (error) {\r\n    logger.error('Validation failed:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Make available in browser\r\nif (typeof window !== 'undefined') {\r\n  (window as any).validateAllData = validateAllData;\r\n  logger.info('Data validation suite loaded. Run window.validateAllData() to validate all CSV parsing.');\r\n}","/**\r\n * Complete zero-tolerance CSV audit for ALL files\r\n * No coercion, strict validation, evidence-based reporting only\r\n */\r\n\r\nimport { logger } from './utils/logger';\r\n\r\ninterface AuditError {\r\n  type: 'missing_required' | 'invalid_type' | 'duplicate_pk' | 'broken_fk' | 'row_length_mismatch' | 'invalid_domain';\r\n  evidence: {\r\n    file: string;\r\n    row_number: number;\r\n    columns: string[];\r\n    details: string;\r\n  };\r\n}\r\n\r\ninterface FileAudit {\r\n  file_name: string;\r\n  errors: AuditError[];\r\n}\r\n\r\ninterface AuditReport {\r\n  summary: {\r\n    files_checked: number;\r\n    total_errors: number;\r\n  };\r\n  files: FileAudit[];\r\n  recommendations: string[];\r\n}\r\n\r\n// Strict CSV parser - no libraries, no coercion\r\nfunction parseCSVStrict(content: string, delimiter: string = ','): any[] {\r\n  const lines = content.split(/\\r?\\n/).filter(line => line.trim() !== '');\r\n  if (lines.length === 0) return [];\r\n\r\n  // Remove BOM if present\r\n  if (lines[0].charCodeAt(0) === 0xFEFF) {\r\n    lines[0] = lines[0].substring(1);\r\n  }\r\n\r\n  // Parse header\r\n  const headers = parseCSVLine(lines[0], delimiter);\r\n  const rows: any[] = [];\r\n\r\n  // Parse data rows\r\n  for (let i = 1; i < lines.length; i++) {\r\n    const values = parseCSVLine(lines[i], delimiter);\r\n    const row: any = {};\r\n    headers.forEach((header, index) => {\r\n      row[header] = values[index] !== undefined ? values[index] : '';\r\n    });\r\n    rows.push(row);\r\n  }\r\n\r\n  return rows;\r\n}\r\n\r\nfunction parseCSVLine(line: string, delimiter: string): string[] {\r\n  const result: string[] = [];\r\n  let current = '';\r\n  let inQuotes = false;\r\n  \r\n  for (let i = 0; i < line.length; i++) {\r\n    const char = line[i];\r\n    const nextChar = line[i + 1];\r\n    \r\n    if (char === '\"') {\r\n      if (inQuotes && nextChar === '\"') {\r\n        current += '\"';\r\n        i++;\r\n      } else {\r\n        inQuotes = !inQuotes;\r\n      }\r\n    } else if (char === delimiter && !inQuotes) {\r\n      result.push(current.trim());\r\n      current = '';\r\n    } else {\r\n      current += char;\r\n    }\r\n  }\r\n  \r\n  result.push(current.trim());\r\n  return result;\r\n}\r\n\r\nexport async function fullZeroToleranceAudit(): Promise<AuditReport> {\r\n  const report: AuditReport = {\r\n    summary: {\r\n      files_checked: 0,\r\n      total_errors: 0\r\n    },\r\n    files: [],\r\n    recommendations: []\r\n  };\r\n\r\n  // Define all files to audit\r\n  const auditFiles = [\r\n    // ADP Data\r\n    { path: '/canonical_data/adp/adp0_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/adp/adp_tier_data_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/adp/cbs_trade_values_week0_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/adp/fpros_trade_values_dynasty_week0_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/adp/fpros_trade_values_redraft_week0_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/adp/pff_redraft_rankings_week0_2025.csv', delimiter: ',' },\r\n    \r\n    // Projections\r\n    { path: '/canonical_data/projections/projections_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/projections/projections_vorp_2025.csv', delimiter: ',' },\r\n    { path: '/canonical_data/projections/weekly_projections_w1_2025.csv', delimiter: ',' },\r\n    \r\n    // Historical Stats\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-kicking_2024.csv', delimiter: ',' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-passing_2024.csv', delimiter: ',' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-receiving_2024.csv', delimiter: ',' },\r\n    { path: '/canonical_data/historical_stats/fantasy-stats-rushing_2024.csv', delimiter: ',' },\r\n    \r\n    // Advanced Data - Passing\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_accuracy.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_air_yards.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_danger_plays.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_deep_ball.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_play_action.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_pressure.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_red_zone.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_summary.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/passing_time_to_throw.csv', delimiter: ',' },\r\n    \r\n    // Advanced Data - Rushing\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_expected_yards.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_gap.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_quarterback.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/rushing_summary.csv', delimiter: ',' },\r\n    \r\n    // Advanced Data - Receiving  \r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_deep_ball.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_red_zone.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_summary.csv', delimiter: ',' },\r\n    { path: '/canonical_data/advanced_data/2024-2025/receiving_usage.csv', delimiter: ',' },\r\n    \r\n    // Team Data (Tab-delimited)\r\n    { path: '/canonical_data/advanced_data/team_data/defensive_elo.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/offensive_elo.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/passing_defense_rankings.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/passing_offense_rankings.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/rushing_defense_rankings.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/rushing_offense_rankings.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_defensive_dvoa.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_offensive_dvoa.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_pace_data.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_passing_yards_allowed.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_points_allowed.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_points_per_game.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_red_zone_efficiency.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_rushing_yards_allowed.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_sacks_allowed.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_takeaways_per_game.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_third_down_conversion.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_time_of_possession.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_total_defense.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_total_offense.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_turnover_differential.txt', delimiter: '\\t' },\r\n    { path: '/canonical_data/advanced_data/team_data/team_yards_per_play.txt', delimiter: '\\t' }\r\n  ];\r\n\r\n  // Collect reference data for foreign key validation\r\n  const referenceData = new Map<string, Set<string>>();\r\n  \r\n  // First pass: Load ADP data for player name references\r\n  const basePath = import.meta.env.BASE_URL || '/';\r\n  try {\r\n    const adpResponse = await fetch(`${basePath}canonical_data/adp/adp0_2025.csv`);\r\n    if (adpResponse.ok) {\r\n      const adpContent = await adpResponse.text();\r\n      const adpRows = parseCSVStrict(adpContent, ',');\r\n      const playerNames = new Set<string>();\r\n      const positions = new Set<string>();\r\n      adpRows.forEach(row => {\r\n        if (row['Full Name']) playerNames.add(row['Full Name']);\r\n        if (row['Position']) positions.add(row['Position']);\r\n      });\r\n      referenceData.set('playerNames', playerNames);\r\n      referenceData.set('positions', positions);\r\n    }\r\n  } catch (e) {\r\n    // Continue without reference data\r\n  }\r\n\r\n  // Audit each file\r\n  for (const file of auditFiles) {\r\n    const fileName = file.path.split('/').pop() || '';\r\n    const fileAudit: FileAudit = {\r\n      file_name: fileName,\r\n      errors: []\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`${basePath}${file.path.startsWith('/') ? file.path.slice(1) : file.path}`);\r\n      if (!response.ok) {\r\n        fileAudit.errors.push({\r\n          type: 'missing_required',\r\n          evidence: {\r\n            file: fileName,\r\n            row_number: 0,\r\n            columns: [],\r\n            details: `File not found or inaccessible (HTTP ${response.status})`\r\n          }\r\n        });\r\n        report.files.push(fileAudit);\r\n        report.summary.total_errors++;\r\n        continue;\r\n      }\r\n\r\n      const content = await response.text();\r\n      const rows = parseCSVStrict(content, file.delimiter);\r\n      \r\n      report.summary.files_checked++;\r\n\r\n      if (rows.length === 0) {\r\n        fileAudit.errors.push({\r\n          type: 'missing_required',\r\n          evidence: {\r\n            file: fileName,\r\n            row_number: 0,\r\n            columns: [],\r\n            details: 'File is empty or has no valid rows'\r\n          }\r\n        });\r\n      } else {\r\n        // Get expected column count from first row\r\n        const expectedColumns = Object.keys(rows[0]);\r\n        const expectedColumnCount = expectedColumns.length;\r\n        \r\n        // Track values for duplicate detection\r\n        const seenValues = new Map<string, Set<string>>();\r\n        \r\n        // Validate each row\r\n        rows.forEach((row, index) => {\r\n          const rowNumber = index + 2; // +1 for 0-index, +1 for header\r\n          \r\n          // Check column count consistency\r\n          const actualColumnCount = Object.keys(row).length;\r\n          if (actualColumnCount !== expectedColumnCount) {\r\n            fileAudit.errors.push({\r\n              type: 'row_length_mismatch',\r\n              evidence: {\r\n                file: fileName,\r\n                row_number: rowNumber,\r\n                columns: Object.keys(row),\r\n                details: `Row has ${actualColumnCount} columns, expected ${expectedColumnCount}`\r\n              }\r\n            });\r\n          }\r\n          \r\n          // Check each field for type validity (zero tolerance)\r\n          Object.entries(row).forEach(([column, value]) => {\r\n            const strValue = String(value).trim();\r\n            \r\n            // Check for missing values in key columns\r\n            if (strValue === '' || strValue === 'null' || strValue === 'undefined') {\r\n              // Key columns that should never be empty\r\n              const keyColumns = ['Full Name', 'playerName', 'player', 'Team', 'team', 'Position', 'position'];\r\n              if (keyColumns.includes(column)) {\r\n                fileAudit.errors.push({\r\n                  type: 'missing_required',\r\n                  evidence: {\r\n                    file: fileName,\r\n                    row_number: rowNumber,\r\n                    columns: [column],\r\n                    details: `Required field '${column}' is empty or null`\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            \r\n            // Type validation based on column name patterns\r\n            // Check numeric columns\r\n            const numericPatterns = [\r\n              /rank/i, /adp/i, /value/i, /points/i, /yards/i, /touchdowns/i,\r\n              /completions/i, /attempts/i, /receptions/i, /targets/i, /games/i,\r\n              /sacks/i, /interceptions/i, /fumbles/i, /^20\\d{2}$/, /elo/i,\r\n              /dvoa/i, /pace/i, /efficiency/i, /differential/i\r\n            ];\r\n            \r\n            const isNumericColumn = numericPatterns.some(pattern => pattern.test(column));\r\n            \r\n            if (isNumericColumn && strValue !== '' && strValue !== '-' && strValue !== '--') {\r\n              // Remove common formatting\r\n              const cleanValue = strValue.replace(/[$,%]/g, '').replace(/,/g, '');\r\n              \r\n              // Check if it's a valid number (no coercion)\r\n              if (!/^-?\\d+(\\.\\d+)?$/.test(cleanValue) && cleanValue !== 'N/A' && cleanValue !== 'NA') {\r\n                fileAudit.errors.push({\r\n                  type: 'invalid_type',\r\n                  evidence: {\r\n                    file: fileName,\r\n                    row_number: rowNumber,\r\n                    columns: [column],\r\n                    details: `Column '${column}' has non-numeric value: '${strValue}'`\r\n                  }\r\n                });\r\n              }\r\n              \r\n              // Domain validation for specific columns\r\n              if (/^Overall Rank$/i.test(column) || /^Rank$/i.test(column)) {\r\n                const rankValue = parseInt(cleanValue);\r\n                if (!isNaN(rankValue) && rankValue < 1) {\r\n                  fileAudit.errors.push({\r\n                    type: 'invalid_domain',\r\n                    evidence: {\r\n                      file: fileName,\r\n                      row_number: rowNumber,\r\n                      columns: [column],\r\n                      details: `Rank value ${rankValue} must be positive`\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              \r\n              if (/ADP/i.test(column)) {\r\n                const adpValue = parseFloat(cleanValue);\r\n                if (!isNaN(adpValue) && (adpValue < 0 || adpValue > 500)) {\r\n                  fileAudit.errors.push({\r\n                    type: 'invalid_domain',\r\n                    evidence: {\r\n                      file: fileName,\r\n                      row_number: rowNumber,\r\n                      columns: [column],\r\n                      details: `ADP value ${adpValue} outside valid range [0, 500]`\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              \r\n              if (/fantasy/i.test(column) && /points/i.test(column)) {\r\n                const pointsValue = parseFloat(cleanValue);\r\n                if (!isNaN(pointsValue) && pointsValue < -10) {\r\n                  fileAudit.errors.push({\r\n                    type: 'invalid_domain',\r\n                    evidence: {\r\n                      file: fileName,\r\n                      row_number: rowNumber,\r\n                      columns: [column],\r\n                      details: `Fantasy points ${pointsValue} unrealistically low`\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            \r\n            // Check enum columns\r\n            if (/^Position$/i.test(column) || /^position$/i.test(column)) {\r\n              const validPositions = ['QB', 'RB', 'WR', 'TE', 'K', 'DST', 'DEF', 'D/ST'];\r\n              if (strValue && !validPositions.includes(strValue.toUpperCase())) {\r\n                fileAudit.errors.push({\r\n                  type: 'invalid_domain',\r\n                  evidence: {\r\n                    file: fileName,\r\n                    row_number: rowNumber,\r\n                    columns: [column],\r\n                    details: `Invalid position value: '${strValue}'`\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            \r\n            // Track potential primary key columns for duplicate detection\r\n            const pkColumns = ['Overall Rank', 'Full Name', 'playerName', 'player', 'Team'];\r\n            if (pkColumns.includes(column)) {\r\n              if (!seenValues.has(column)) {\r\n                seenValues.set(column, new Set());\r\n              }\r\n              const valueSet = seenValues.get(column)!;\r\n              if (valueSet.has(strValue)) {\r\n                fileAudit.errors.push({\r\n                  type: 'duplicate_pk',\r\n                  evidence: {\r\n                    file: fileName,\r\n                    row_number: rowNumber,\r\n                    columns: [column],\r\n                    details: `Duplicate value '${strValue}' in potential primary key column '${column}'`\r\n                  }\r\n                });\r\n              }\r\n              valueSet.add(strValue);\r\n            }\r\n          });\r\n          \r\n          // Check foreign key relationships\r\n          if (fileName === 'projections_2025.csv' || fileName === 'projections_vorp_2025.csv') {\r\n            const playerName = row['playerName'];\r\n            if (playerName && referenceData.has('playerNames')) {\r\n              const validNames = referenceData.get('playerNames')!;\r\n              if (!validNames.has(playerName)) {\r\n                fileAudit.errors.push({\r\n                  type: 'broken_fk',\r\n                  evidence: {\r\n                    file: fileName,\r\n                    row_number: rowNumber,\r\n                    columns: ['playerName'],\r\n                    details: `Player '${playerName}' not found in ADP reference data`\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      \r\n    } catch (error) {\r\n      fileAudit.errors.push({\r\n        type: 'missing_required',\r\n        evidence: {\r\n          file: fileName,\r\n          row_number: 0,\r\n          columns: [],\r\n          details: `Parse error: ${error instanceof Error ? error.message : String(error)}`\r\n        }\r\n      });\r\n    }\r\n    \r\n    if (fileAudit.errors.length > 0) {\r\n      report.files.push(fileAudit);\r\n      report.summary.total_errors += fileAudit.errors.length;\r\n    }\r\n  }\r\n\r\n  // Generate recommendations\r\n  const errorTypeCounts = new Map<string, number>();\r\n  report.files.forEach(file => {\r\n    file.errors.forEach(error => {\r\n      errorTypeCounts.set(error.type, (errorTypeCounts.get(error.type) || 0) + 1);\r\n    });\r\n  });\r\n\r\n  if (errorTypeCounts.get('invalid_type')! > 0) {\r\n    report.recommendations.push(`Implement strict type validation with zero tolerance for non-conforming values`);\r\n  }\r\n  if (errorTypeCounts.get('missing_required')! > 0) {\r\n    report.recommendations.push(`Add NOT NULL constraints for all required fields`);\r\n  }\r\n  if (errorTypeCounts.get('duplicate_pk')! > 0) {\r\n    report.recommendations.push(`Enforce unique constraints on primary key columns`);\r\n  }\r\n  if (errorTypeCounts.get('broken_fk')! > 0) {\r\n    report.recommendations.push(`Implement foreign key constraints to maintain referential integrity`);\r\n  }\r\n  if (errorTypeCounts.get('row_length_mismatch')! > 0) {\r\n    report.recommendations.push(`Validate CSV structure before parsing to ensure column consistency`);\r\n  }\r\n  if (errorTypeCounts.get('invalid_domain')! > 0) {\r\n    report.recommendations.push(`Add domain validation rules for business constraints`);\r\n  }\r\n\r\n  return report;\r\n}\r\n\r\n// Export for browser console\r\nif (typeof window !== 'undefined') {\r\n  (window as any).auditCSV = async () => {\r\n    console.log('Running zero-tolerance CSV audit...');\r\n    const report = await fullZeroToleranceAudit();\r\n    console.log(JSON.stringify(report, null, 2));\r\n    return report;\r\n  };\r\n  logger.info('Zero-tolerance CSV audit loaded. Run window.auditCSV() for complete audit.');\r\n}","/**\r\n * Execute the zero-tolerance audit immediately and log results\r\n */\r\n\r\nimport { fullZeroToleranceAudit } from './fullZeroToleranceAudit';\r\n\r\nexport async function executeAudit() {\r\n  const report = await fullZeroToleranceAudit();\r\n  \r\n  // Log the complete JSON report\r\n  console.log('AUDIT REPORT:');\r\n  console.log(JSON.stringify(report, null, 2));\r\n  \r\n  // Also save to window for access\r\n  if (typeof window !== 'undefined') {\r\n    (window as any).lastAuditReport = report;\r\n  }\r\n  \r\n  return report;\r\n}\r\n\r\n// Auto-execute on load\r\nif (typeof window !== 'undefined') {\r\n  setTimeout(() => {\r\n    executeAudit().then(report => {\r\n      console.log(`Audit complete: ${report.summary.files_checked} files checked, ${report.summary.total_errors} errors found`);\r\n    });\r\n  }, 1000);\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport App from './AppWithVersionToggle'; // App with version toggle\r\nimport './index.css';\r\n\r\n// Import validation functions for browser console access\r\nimport './lib/validateAllData';\r\nimport './lib/quickDataTest';\r\nimport './lib/testStrictParsing';\r\nimport './lib/runFullValidation';\r\nimport './lib/fullZeroToleranceAudit';\r\nimport './lib/runAuditNow';\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 1000 * 60 * 5,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <App />\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n);"],"file":"assets/index-uIb8rNJW.js"}